var Me=Object.defineProperty,We=Object.defineProperties;var Ve=Object.getOwnPropertyDescriptors;var De=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var Re=(r,e,t)=>e in r?Me(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ie=(r,e)=>{for(var t in e||(e={}))Ge.call(e,t)&&Re(r,t,e[t]);if(De)for(var t of De(e))qe.call(e,t)&&Re(r,t,e[t]);return r},Be=(r,e)=>We(r,Ve(e));function noop$2(){}function assign$1(r,e){for(const t in e)r[t]=e[t];return r}function run(r){return r()}function blank_object(){return Object.create(null)}function run_all(r){r.forEach(run)}function is_function(r){return typeof r=="function"}function safe_not_equal(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function is_empty(r){return Object.keys(r).length===0}function create_slot(r,e,t,n){if(r){const o=get_slot_context(r,e,t,n);return r[0](o)}}function get_slot_context(r,e,t,n){return r[1]&&n?assign$1(t.ctx.slice(),r[1](n(e))):t.ctx}function get_slot_changes(r,e,t,n){if(r[2]&&n){const o=r[2](n(t));if(e.dirty===void 0)return o;if(typeof o=="object"){const a=[],c=Math.max(e.dirty.length,o.length);for(let s=0;s<c;s+=1)a[s]=e.dirty[s]|o[s];return a}return e.dirty|o}return e.dirty}function update_slot_base(r,e,t,n,o,a){if(o){const c=get_slot_context(e,t,n,a);r.p(c,o)}}function get_all_dirty_from_scope(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function append(r,e){r.appendChild(e)}function insert(r,e,t){r.insertBefore(e,t||null)}function detach(r){r.parentNode.removeChild(r)}function destroy_each(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function element(r){return document.createElement(r)}function text(r){return document.createTextNode(r)}function space(){return text(" ")}function listen(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function stop_propagation(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function attr(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function children(r){return Array.from(r.childNodes)}function set_data(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function set_input_value(r,e){r.value=e==null?"":e}function set_style(r,e,t,n){r.style.setProperty(e,t,n?"important":"")}function toggle_class(r,e,t){r.classList[t?"add":"remove"](e)}function custom_event(r,e,t=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(r,t,!1,e),n}let current_component;function set_current_component(r){current_component=r}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onDestroy(r){get_current_component().$$.on_destroy.push(r)}function createEventDispatcher(){const r=get_current_component();return(e,t)=>{const n=r.$$.callbacks[e];if(n){const o=custom_event(e,t);n.slice().forEach(a=>{a.call(r,o)})}}}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush$1))}function add_render_callback(r){render_callbacks.push(r)}const seen_callbacks=new Set;let flushidx=0;function flush$1(){const r=current_component;do{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(r)}function update(r){if(r.fragment!==null){r.update(),run_all(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(r,e){r&&r.i&&(outroing.delete(r),r.i(e))}function transition_out(r,e,t,n){if(r&&r.o){if(outroing.has(r))return;outroing.add(r),outros.c.push(()=>{outroing.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}}function create_component(r){r&&r.c()}function mount_component(r,e,t,n){const{fragment:o,on_mount:a,on_destroy:c,after_update:s}=r.$$;o&&o.m(e,t),n||add_render_callback(()=>{const d=a.map(run).filter(is_function);c?c.push(...d):run_all(d),r.$$.on_mount=[]}),s.forEach(add_render_callback)}function destroy_component(r,e){const t=r.$$;t.fragment!==null&&(run_all(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function make_dirty(r,e){r.$$.dirty[0]===-1&&(dirty_components.push(r),schedule_update(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function init(r,e,t,n,o,a,c,s=[-1]){const d=current_component;set_current_component(r);const u=r.$$={fragment:null,ctx:null,props:a,update:noop$2,not_equal:o,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:blank_object(),dirty:s,skip_bound:!1,root:e.target||d.$$.root};c&&c(u.root);let h=!1;if(u.ctx=t?t(r,e.props||{},(m,y,...g)=>{const b=g.length?g[0]:y;return u.ctx&&o(u.ctx[m],u.ctx[m]=b)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](b),h&&make_dirty(r,m)),y}):[],u.update(),h=!0,run_all(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const m=children(e.target);u.fragment&&u.fragment.l(m),m.forEach(detach)}else u.fragment&&u.fragment.c();e.intro&&transition_in(r.$$.fragment),mount_component(r,e.target,e.anchor,e.customElement),flush$1()}set_current_component(d)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$2}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function getIterator(r){if(typeof r.next=="function")return r;if(typeof r[Symbol.iterator]=="function")return r[Symbol.iterator]();if(typeof r[Symbol.asyncIterator]=="function")return r[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function defer(){let r,e;return{promise:new Promise((n,o)=>{e=n,r=o}),reject:r,resolve:e}}function _transform(r,e,t){const n=getIterator(t),o=[],a=[];let c=!1,s=!1,d=0,u=null;function h(){for(;a.length>0&&o.length>0;){const{resolve:p}=a.shift(),_=o.shift();p({done:!1,value:_})}for(;a.length>0&&d===0&&c;){const{resolve:p,reject:_}=a.shift();u?(_(u),u=null):p({done:!0,value:void 0})}}async function m(){if(c){h();return}if(!s&&!(d+o.length>=r)){s=!0,d++;try{const{done:p,value:_}=await n.next();p?(c=!0,d--,h()):y(_)}catch(p){c=!0,d--,u=p,h()}s=!1,m()}}async function y(p){try{const _=await e(p);o.push(_)}catch(_){c=!0,u=_}d--,h(),m()}async function g(){if(o.length===0){const _=defer();return a.push(_),m(),_.promise}const p=o.shift();return m(),{done:!1,value:p}}const b={next:g,[Symbol.asyncIterator]:()=>b};return b}function transform(r,e,t){return e===void 0?(n,o)=>o?transform(r,n,o):transform(r,n):t===void 0?n=>transform(r,e,n):_transform(r,e,t)}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(r){if(r.__esModule)return r;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(t){var n=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:function(){return r[t]}})}),e}function commonjsRequire(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pRetry$2={exports:{}},retry$2={};function RetryOperation(r,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(r)),this._timeouts=r,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(r){if(this._timeout&&clearTimeout(this._timeout),!r)return!1;var e=new Date().getTime();if(r&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(r),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(r);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),t=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},t),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(r,e){this._fn=r,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(r){console.log("Using RetryOperation.try() is deprecated"),this.attempt(r)};RetryOperation.prototype.start=function(r){console.log("Using RetryOperation.start() is deprecated"),this.attempt(r)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var r={},e=null,t=0,n=0;n<this._errors.length;n++){var o=this._errors[n],a=o.message,c=(r[a]||0)+1;r[a]=c,c>=t&&(e=o,t=c)}return e};(function(r){var e=retry_operation;r.operation=function(t){var n=r.timeouts(t);return new e(n,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},r.timeouts=function(t){if(t instanceof Array)return[].concat(t);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var o in t)n[o]=t[o];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],c=0;c<n.retries;c++)a.push(this.createTimeout(c,n));return t&&t.forever&&!a.length&&a.push(this.createTimeout(c,n)),a.sort(function(s,d){return s-d}),a},r.createTimeout=function(t,n){var o=n.randomize?Math.random()+1:1,a=Math.round(o*Math.max(n.minTimeout,1)*Math.pow(n.factor,t));return a=Math.min(a,n.maxTimeout),a},r.wrap=function(t,n,o){if(n instanceof Array&&(o=n,n=null),!o){o=[];for(var a in t)typeof t[a]=="function"&&o.push(a)}for(var c=0;c<o.length;c++){var s=o[c],d=t[s];t[s]=function(h){var m=r.operation(n),y=Array.prototype.slice.call(arguments,1),g=y.pop();y.push(function(b){m.retry(b)||(b&&(arguments[0]=m.mainError()),g.apply(this,arguments))}),m.attempt(function(){h.apply(t,y)})}.bind(t,d),t[s].options=n}}})(retry$2);var retry$1=retry$2;const retry=retry$1,networkErrorMsgs=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class AbortError extends Error{constructor(e){super();e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const decorateErrorWithCounts=(r,e,t)=>{const n=t.retries-(e-1);return r.attemptNumber=e,r.retriesLeft=n,r},isNetworkError=r=>networkErrorMsgs.includes(r),pRetry=(r,e)=>new Promise((t,n)=>{e=ie({onFailedAttempt:()=>{},retries:10},e);const o=retry.operation(e);o.attempt(async a=>{try{t(await r(a))}catch(c){if(!(c instanceof Error)){n(new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`));return}if(c instanceof AbortError)o.stop(),n(c.originalError);else if(c instanceof TypeError&&!isNetworkError(c.message))o.stop(),n(c);else{decorateErrorWithCounts(c,a,e);try{await e.onFailedAttempt(c)}catch(s){n(s);return}o.retry(c)||n(o.mainError())}}})});pRetry$2.exports=pRetry;pRetry$2.exports.default=pRetry;pRetry$2.exports.AbortError=AbortError;var pRetry$1=pRetry$2.exports;const last=async r=>{let e;for await(const t of r)e=t;return e};var itLast=last,itPipe={exports:{}};const rawPipe=(...r)=>{let e;for(;r.length;)e=r.shift()(e);return e},isIterable$1=r=>r&&(typeof r[Symbol.asyncIterator]=="function"||typeof r[Symbol.iterator]=="function"||typeof r.next=="function"),isDuplex=r=>r&&typeof r.sink=="function"&&isIterable$1(r.source),duplexPipelineFn=r=>e=>(r.sink(e),r.source),pipe=(...r)=>{if(isDuplex(r[0])){const e=r[0];r[0]=()=>e.source}else if(isIterable$1(r[0])){const e=r[0];r[0]=()=>e}if(r.length>1&&isDuplex(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let e=1;e<r.length-1;e++)isDuplex(r[e])&&(r[e]=duplexPipelineFn(r[e]));return rawPipe(...r)};itPipe.exports=pipe;itPipe.exports.pipe=pipe;itPipe.exports.rawPipe=rawPipe;itPipe.exports.isIterable=isIterable$1;itPipe.exports.isDuplex=isDuplex;var pipe$1=itPipe.exports,encode_1$1=encode$7,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$7(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw encode$7.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var n=t;r>=INT$1;)e[t++]=r&255|MSB$3,r/=128;for(;r&MSBALL$1;)e[t++]=r&255|MSB$3,r>>>=7;return e[t]=r|0,encode$7.bytes=t-n+1,e}var decode$9=read$1,MSB$2=128,REST$2=127;function read$1(r,e){var t=0,e=e||0,n=0,o=e,a,c=r.length;do{if(o>=c||n>49)throw read$1.bytes=0,new RangeError("Could not decode varint");a=r[o++],t+=n<28?(a&REST$2)<<n:(a&REST$2)*Math.pow(2,n),n+=7}while(a>=MSB$2);return read$1.bytes=o-e,t}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(r){return r<N1$1?1:r<N2$1?2:r<N3$1?3:r<N4$1?4:r<N5$1?5:r<N6$1?6:r<N7$1?7:r<N8$1?8:r<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$9,encodingLength:length$1},encode_1=encode$6,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$6(r,e,t){e=e||[],t=t||0;for(var n=t;r>=INT;)e[t++]=r&255|MSB,r/=128;for(;r&MSBALL;)e[t++]=r&255|MSB,r>>>=7;return e[t]=r|0,encode$6.bytes=t-n+1,e}var decode$8=read,MSB$1=128,REST$1=127;function read(r,e){var t=0,e=e||0,n=0,o=e,a,c=r.length;do{if(o>=c)throw read.bytes=0,new RangeError("Could not decode varint");a=r[o++],t+=n<28?(a&REST$1)<<n:(a&REST$1)*Math.pow(2,n),n+=7}while(a>=MSB$1);return read.bytes=o-e,t}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(r){return r<N1?1:r<N2?2:r<N3?3:r<N4?4:r<N5?5:r<N6?6:r<N7?7:r<N8?8:r<N9?9:10},varint={encode:encode_1,decode:decode$8,encodingLength:length},_brrp_varint=varint;const decode$7=r=>[_brrp_varint.decode(r),_brrp_varint.decode.bytes],encodeTo=(r,e,t=0)=>(_brrp_varint.encode(r,e,t),e),encodingLength=r=>_brrp_varint.encodingLength(r),empty=new Uint8Array(0),fromHex=r=>{const e=r.match(/../g);return e?new Uint8Array(e.map(t=>parseInt(t,16))):empty},equals$2=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},coerce=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},fromString$3=r=>new TextEncoder().encode(r),toString$1=r=>new TextDecoder().decode(r),create$4=(r,e)=>{const t=e.byteLength,n=encodingLength(r),o=n+encodingLength(t),a=new Uint8Array(o+t);return encodeTo(r,a,0),encodeTo(t,a,n),a.set(e,o),new Digest$1(r,t,e,a)},decode$6=r=>{const e=coerce(r),[t,n]=decode$7(e),[o,a]=decode$7(e.subarray(n)),c=e.subarray(n+a);if(c.byteLength!==o)throw new Error("Incorrect length");return new Digest$1(t,o,c,e)},equals$1=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&equals$2(r.bytes,e.bytes);class Digest$1{constructor(e,t,n,o){this.code=e,this.size=t,this.digest=n,this.bytes=o}}var digest=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:create$4,decode:decode$6,equals:equals$1,Digest:Digest$1});function base(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var o=0;o<r.length;o++){var a=r.charAt(o),c=a.charCodeAt(0);if(t[c]!==255)throw new TypeError(a+" is ambiguous");t[c]=o}var s=r.length,d=r.charAt(0),u=Math.log(s)/Math.log(256),h=Math.log(256)/Math.log(s);function m(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var p=0,_=0,T=0,E=b.length;T!==E&&b[T]===0;)T++,p++;for(var w=(E-T)*h+1>>>0,B=new Uint8Array(w);T!==E;){for(var k=b[T],A=0,$=w-1;(k!==0||A<_)&&$!==-1;$--,A++)k+=256*B[$]>>>0,B[$]=k%s>>>0,k=k/s>>>0;if(k!==0)throw new Error("Non-zero carry");_=A,T++}for(var I=w-_;I!==w&&B[I]===0;)I++;for(var D=d.repeat(p);I<w;++I)D+=r.charAt(B[I]);return D}function y(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var p=0;if(b[p]!==" "){for(var _=0,T=0;b[p]===d;)_++,p++;for(var E=(b.length-p)*u+1>>>0,w=new Uint8Array(E);b[p];){var B=t[b.charCodeAt(p)];if(B===255)return;for(var k=0,A=E-1;(B!==0||k<T)&&A!==-1;A--,k++)B+=s*w[A]>>>0,w[A]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");T=k,p++}if(b[p]!==" "){for(var $=E-T;$!==E&&w[$]===0;)$++;for(var I=new Uint8Array(_+(E-$)),D=_;$!==E;)I[D++]=w[$++];return I}}}function g(b){var p=y(b);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:y,decode:g}}var src$4=base,_brrp__multiformats_scope_baseX=src$4;class Encoder{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(e,t,n){this.name=e,this.prefix=t,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){return or(this,e)}}class ComposedDecoder{constructor(e){this.decoders=e}or(e){return or(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(r,e)=>new ComposedDecoder(ie(ie({},r.decoders||{[r.prefix]:r}),e.decoders||{[e.prefix]:e}));class Codec{constructor(e,t,n,o){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder(e,t,n),this.decoder=new Decoder(e,t,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const from$1=({name:r,prefix:e,encode:t,decode:n})=>new Codec(r,e,t,n),baseX=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX(t,e);return from$1({prefix:r,name:e,encode:n,decode:a=>coerce(o(a))})},decode$5=(r,e,t,n)=>{const o={};for(let h=0;h<e.length;++h)o[e[h]]=h;let a=r.length;for(;r[a-1]==="=";)--a;const c=new Uint8Array(a*t/8|0);let s=0,d=0,u=0;for(let h=0;h<a;++h){const m=o[r[h]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);d=d<<t|m,s+=t,s>=8&&(s-=8,c[u++]=255&d>>s)}if(s>=t||255&d<<8-s)throw new SyntaxError("Unexpected end of data");return c},encode$5=(r,e,t)=>{const n=e[e.length-1]==="=",o=(1<<t)-1;let a="",c=0,s=0;for(let d=0;d<r.length;++d)for(s=s<<8|r[d],c+=8;c>t;)c-=t,a+=e[o&s>>c];if(c&&(a+=e[o&s<<t-c]),n)for(;a.length*t&7;)a+="=";return a},rfc4648=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>from$1({prefix:e,name:r,encode(o){return encode$5(o,n,t)},decode(o){return decode$5(o,n,t,r)}}),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var base58=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base58btc,base58flickr});const base32$1=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var base32$2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base32:base32$1,base32upper,base32pad,base32padupper,base32hex,base32hexupper,base32hexpad,base32hexpadupper,base32z});class CID$1{constructor(e,t,n,o){this.code=t,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID$1.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=create$4(e,t);return CID$1.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&equals$1(this.multihash,e.multihash)}toString(e){const{bytes:t,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0(t,o,e||base58btc.encoder);default:return toStringV1(t,o,e||base32$1.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(e&&(e[cidSymbol]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof CID$1)return e;if(e!=null&&e.asCID===e){const{version:t,code:n,multihash:o,bytes:a}=e;return new CID$1(t,n,o,a||encodeCID(t,n,o.bytes))}else if(e!=null&&e[cidSymbol]===!0){const{version:t,multihash:n,code:o}=e,a=decode$6(n);return CID$1.create(t,o,a)}else return null}static create(e,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID$1(e,t,n,n.bytes)}case 1:{const o=encodeCID(e,t,n.bytes);return new CID$1(e,t,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return CID$1.create(0,DAG_PB_CODE,e)}static createV1(e,t){return CID$1.create(1,e,t)}static decode(e){const[t,n]=CID$1.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=CID$1.inspectBytes(e),n=t.size-t.multihashSize,o=coerce(e.subarray(n,n+t.multihashSize));if(o.byteLength!==t.multihashSize)throw new Error("Incorrect length");const a=o.subarray(t.multihashSize-t.digestSize),c=new Digest$1(t.multihashCode,t.digestSize,a,o);return[t.version===0?CID$1.createV0(c):CID$1.createV1(t.codec,c),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[m,y]=decode$7(e.subarray(t));return t+=y,m};let o=n(),a=DAG_PB_CODE;if(o===18?(o=0,t=0):o===1&&(a=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const c=t,s=n(),d=n(),u=t+d,h=u-c;return{version:o,codec:a,multihashCode:s,digestSize:d,multihashSize:h,size:u}}static parse(e,t){const[n,o]=parseCIDtoBytes(e,t),a=CID$1.decode(o);return a._baseCache.set(n,e),a}}const parseCIDtoBytes=(r,e)=>{switch(r[0]){case"Q":{const t=e||base58btc;return[base58btc.prefix,t.decode(`${base58btc.prefix}${r}`)]}case base58btc.prefix:{const t=e||base58btc;return[base58btc.prefix,t.decode(r)]}case base32$1.prefix:{const t=e||base32$1;return[base32$1.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},toStringV0=(r,e,t)=>{const{prefix:n}=t;if(n!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);const o=e.get(n);if(o==null){const a=t.encode(r).slice(1);return e.set(n,a),a}else return o},toStringV1=(r,e,t)=>{const{prefix:n}=t,o=e.get(n);if(o==null){const a=t.encode(r);return e.set(n,a),a}else return o},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(r,e,t)=>{const n=encodingLength(r),o=n+encodingLength(e),a=new Uint8Array(o+t.byteLength);return encodeTo(r,a,0),encodeTo(e,a,n),a.set(t,o),a},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(r,e)=>{if(r.test(version))console.warn(e);else throw new Error(e)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var cid=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CID:CID$1});const typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(r){if(r===null)return"null";if(r===void 0)return"undefined";if(r===!0||r===!1)return"boolean";const e=typeof r;if(typeofs.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(r))return"Array";if(isBuffer$1(r))return"Buffer";const t=getObjectType(r);return t||"Object"}function isBuffer$1(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}function getObjectType(r){const e=Object.prototype.toString.call(r).slice(8,-1);if(objectTypeNames.includes(e))return e}class Type{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$1=new TextDecoder,textEncoder$2=new TextEncoder;function isBuffer(r){return useBuffer&&globalThis.Buffer.isBuffer(r)}function asU8A(r){return r instanceof Uint8Array?isBuffer(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const toString=useBuffer?(r,e,t)=>t-e>64?globalThis.Buffer.from(r.subarray(e,t)).toString("utf8"):utf8Slice(r,e,t):(r,e,t)=>t-e>64?textDecoder$1.decode(r.subarray(e,t)):utf8Slice(r,e,t),fromString$2=useBuffer?r=>r.length>64?globalThis.Buffer.from(r):utf8ToBytes(r):r=>r.length>64?textEncoder$2.encode(r):utf8ToBytes(r),fromArray=r=>Uint8Array.from(r),slice=useBuffer?(r,e,t)=>isBuffer(r)?new Uint8Array(r.subarray(e,t)):r.slice(e,t):(r,e,t)=>r.slice(e,t),concat$2=useBuffer?(r,e)=>(r=r.map(t=>t instanceof Uint8Array?t:globalThis.Buffer.from(t)),asU8A(globalThis.Buffer.concat(r,e))):(r,e)=>{const t=new Uint8Array(e);let n=0;for(let o of r)n+o.length>t.length&&(o=o.subarray(0,t.length-n)),t.set(o,n),n+=o.length;return t},alloc=useBuffer?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function compare(r,e){if(isBuffer(r)&&isBuffer(e))return r.compare(e);for(let t=0;t<r.length;t++)if(r[t]!==e[t])return r[t]<e[t]?-1:1;return 0}function utf8ToBytes(r,e=1/0){let t;const n=r.length;let o=null;const a=[];for(let c=0;c<n;++c){if(t=r.charCodeAt(c),t>55295&&t<57344){if(!o){if(t>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(c+1===n){(e-=3)>-1&&a.push(239,191,189);continue}o=t;continue}if(t<56320){(e-=3)>-1&&a.push(239,191,189),o=t;continue}t=(o-55296<<10|t-56320)+65536}else o&&(e-=3)>-1&&a.push(239,191,189);if(o=null,t<128){if((e-=1)<0)break;a.push(t)}else if(t<2048){if((e-=2)<0)break;a.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;a.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return a}function utf8Slice(r,e,t){const n=[];for(;e<t;){const o=r[e];let a=null,c=o>239?4:o>223?3:o>191?2:1;if(e+c<=t){let s,d,u,h;switch(c){case 1:o<128&&(a=o);break;case 2:s=r[e+1],(s&192)==128&&(h=(o&31)<<6|s&63,h>127&&(a=h));break;case 3:s=r[e+1],d=r[e+2],(s&192)==128&&(d&192)==128&&(h=(o&15)<<12|(s&63)<<6|d&63,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:s=r[e+1],d=r[e+2],u=r[e+3],(s&192)==128&&(d&192)==128&&(u&192)==128&&(h=(o&15)<<18|(s&63)<<12|(d&63)<<6|u&63,h>65535&&h<1114112&&(a=h))}}a===null?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),e+=c}return decodeCodePointsArray(n)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(r){const e=r.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=MAX_ARGUMENTS_LENGTH));return t}const defaultChunkSize=256;class Bl{constructor(e=defaultChunkSize){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.chunks=[],this.cursor=0,this.maxCursor=-1,this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const o=t.length-(this.maxCursor-this.cursor)-1;t.set(e,o)}else{if(t){const o=t.length-(this.maxCursor-this.cursor)-1;o<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=alloc(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=slice(n,0,this.cursor)}else t=concat$2(this.chunks,this.cursor);return e&&this.reset(),t}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(r,e,t){if(r.length-e<t)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(r,e,t){assertEnoughData(r,e,1);const n=r[e];if(t.strict===!0&&n<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint16(r,e,t){assertEnoughData(r,e,2);const n=r[e]<<8|r[e+1];if(t.strict===!0&&n<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint32(r,e,t){assertEnoughData(r,e,4);const n=r[e]*16777216+(r[e+1]<<16)+(r[e+2]<<8)+r[e+3];if(t.strict===!0&&n<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint64(r,e,t){assertEnoughData(r,e,8);const n=r[e]*16777216+(r[e+1]<<16)+(r[e+2]<<8)+r[e+3],o=r[e+4]*16777216+(r[e+5]<<16)+(r[e+6]<<8)+r[e+7],a=(BigInt(n)<<BigInt(32))+BigInt(o);if(t.strict===!0&&a<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(a<=Number.MAX_SAFE_INTEGER)return Number(a);if(t.allowBigInt===!0)return a;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(r,e,t,n){return new Token(Type.uint,readUint8(r,e+1,n),2)}function decodeUint16(r,e,t,n){return new Token(Type.uint,readUint16(r,e+1,n),3)}function decodeUint32(r,e,t,n){return new Token(Type.uint,readUint32(r,e+1,n),5)}function decodeUint64(r,e,t,n){return new Token(Type.uint,readUint64(r,e+1,n),9)}function encodeUint(r,e){return encodeUintValue(r,0,e.value)}function encodeUintValue(r,e,t){if(t<uintBoundaries[0]){const n=Number(t);r.push([e|n])}else if(t<uintBoundaries[1]){const n=Number(t);r.push([e|24,n])}else if(t<uintBoundaries[2]){const n=Number(t);r.push([e|25,n>>>8,n&255])}else if(t<uintBoundaries[3]){const n=Number(t);r.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(t);if(n<uintBoundaries[4]){const o=[e|27,0,0,0,0,0,0,0];let a=Number(n&BigInt(4294967295)),c=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=a&255,a=a>>8,o[7]=a&255,a=a>>8,o[6]=a&255,a=a>>8,o[5]=a&255,o[4]=c&255,c=c>>8,o[3]=c&255,c=c>>8,o[2]=c&255,c=c>>8,o[1]=c&255,r.push(o)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)};encodeUintValue.encodedSize=function(e){return e<uintBoundaries[0]?1:e<uintBoundaries[1]?2:e<uintBoundaries[2]?3:e<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};function decodeNegint8(r,e,t,n){return new Token(Type.negint,-1-readUint8(r,e+1,n),2)}function decodeNegint16(r,e,t,n){return new Token(Type.negint,-1-readUint16(r,e+1,n),3)}function decodeNegint32(r,e,t,n){return new Token(Type.negint,-1-readUint32(r,e+1,n),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(r,e,t,n){const o=readUint64(r,e+1,n);if(typeof o!="bigint"){const a=-1-o;if(a>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,a,9)}if(n.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(o),9)}function encodeNegint(r,e){const t=e.value,n=typeof t=="bigint"?t*neg1b-pos1b:t*-1-1;encodeUintValue(r,e.type.majorEncoded,n)}encodeNegint.encodedSize=function(e){const t=e.value,n=typeof t=="bigint"?t*neg1b-pos1b:t*-1-1;return n<uintBoundaries[0]?1:n<uintBoundaries[1]?2:n<uintBoundaries[2]?3:n<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};function toToken$3(r,e,t,n){assertEnoughData(r,e,t+n);const o=slice(r,e+t,e+t+n);return new Token(Type.bytes,o,t+n)}function decodeBytesCompact(r,e,t,n){return toToken$3(r,e,1,t)}function decodeBytes8(r,e,t,n){return toToken$3(r,e,2,readUint8(r,e+1,n))}function decodeBytes16(r,e,t,n){return toToken$3(r,e,3,readUint16(r,e+1,n))}function decodeBytes32(r,e,t,n){return toToken$3(r,e,5,readUint32(r,e+1,n))}function decodeBytes64(r,e,t,n){const o=readUint64(r,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(r,e,9,o)}function tokenBytes(r){return r.encodedBytes===void 0&&(r.encodedBytes=r.type===Type.string?fromString$2(r.value):r.value),r.encodedBytes}function encodeBytes(r,e){const t=tokenBytes(e);encodeUintValue(r,e.type.majorEncoded,t.length),r.push(t)}encodeBytes.encodedSize=function(e){const t=tokenBytes(e);return encodeUintValue.encodedSize(t.length)+t.length};encodeBytes.compareTokens=function(e,t){return compareBytes(tokenBytes(e),tokenBytes(t))};function compareBytes(r,e){return r.length<e.length?-1:r.length>e.length?1:compare(r,e)}function toToken$2(r,e,t,n){const o=t+n;return assertEnoughData(r,e,o),new Token(Type.string,toString(r,e+t,e+o),o)}function decodeStringCompact(r,e,t,n){return toToken$2(r,e,1,t)}function decodeString8(r,e,t,n){return toToken$2(r,e,2,readUint8(r,e+1,n))}function decodeString16(r,e,t,n){return toToken$2(r,e,3,readUint16(r,e+1,n))}function decodeString32(r,e,t,n){return toToken$2(r,e,5,readUint32(r,e+1,n))}function decodeString64(r,e,t,n){const o=readUint64(r,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(r,e,9,o)}const encodeString=encodeBytes;function toToken$1(r,e,t,n){return new Token(Type.array,n,t)}function decodeArrayCompact(r,e,t,n){return toToken$1(r,e,1,t)}function decodeArray8(r,e,t,n){return toToken$1(r,e,2,readUint8(r,e+1,n))}function decodeArray16(r,e,t,n){return toToken$1(r,e,3,readUint16(r,e+1,n))}function decodeArray32(r,e,t,n){return toToken$1(r,e,5,readUint32(r,e+1,n))}function decodeArray64(r,e,t,n){const o=readUint64(r,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(r,e,9,o)}function decodeArrayIndefinite(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(r,e,1,1/0)}function encodeArray(r,e){encodeUintValue(r,Type.array.majorEncoded,e.value)}encodeArray.compareTokens=encodeUint.compareTokens;function toToken(r,e,t,n){return new Token(Type.map,n,t)}function decodeMapCompact(r,e,t,n){return toToken(r,e,1,t)}function decodeMap8(r,e,t,n){return toToken(r,e,2,readUint8(r,e+1,n))}function decodeMap16(r,e,t,n){return toToken(r,e,3,readUint16(r,e+1,n))}function decodeMap32(r,e,t,n){return toToken(r,e,5,readUint32(r,e+1,n))}function decodeMap64(r,e,t,n){const o=readUint64(r,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(r,e,9,o)}function decodeMapIndefinite(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(r,e,1,1/0)}function encodeMap(r,e){encodeUintValue(r,Type.map.majorEncoded,e.value)}encodeMap.compareTokens=encodeUint.compareTokens;function decodeTagCompact(r,e,t,n){return new Token(Type.tag,t,1)}function decodeTag8(r,e,t,n){return new Token(Type.tag,readUint8(r,e+1,n),2)}function decodeTag16(r,e,t,n){return new Token(Type.tag,readUint16(r,e+1,n),3)}function decodeTag32(r,e,t,n){return new Token(Type.tag,readUint32(r,e+1,n),5)}function decodeTag64(r,e,t,n){return new Token(Type.tag,readUint64(r,e+1,n),9)}function encodeTag(r,e){encodeUintValue(r,Type.tag.majorEncoded,e.value)}encodeTag.compareTokens=encodeUint.compareTokens;const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(r,e,t,n){if(n.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(r,e,t){if(t){if(t.allowNaN===!1&&Number.isNaN(r))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(t.allowInfinity===!1&&(r===1/0||r===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,r,e)}function decodeFloat16(r,e,t,n){return createToken(readFloat16(r,e+1),3,n)}function decodeFloat32(r,e,t,n){return createToken(readFloat32(r,e+1),5,n)}function decodeFloat64(r,e,t,n){return createToken(readFloat64(r,e+1),9,n)}function encodeFloat(r,e,t){const n=e.value;if(n===!1)r.push([Type.float.majorEncoded|MINOR_FALSE]);else if(n===!0)r.push([Type.float.majorEncoded|MINOR_TRUE]);else if(n===null)r.push([Type.float.majorEncoded|MINOR_NULL]);else if(n===void 0)r.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let o,a=!1;(!t||t.float64!==!0)&&(encodeFloat16(n),o=readFloat16(ui8a,1),n===o||Number.isNaN(n)?(ui8a[0]=249,r.push(ui8a.slice(0,3)),a=!0):(encodeFloat32(n),o=readFloat32(ui8a,1),n===o&&(ui8a[0]=250,r.push(ui8a.slice(0,5)),a=!0))),a||(encodeFloat64(n),o=readFloat64(ui8a,1),ui8a[0]=251,r.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(e,t){const n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;let o;if(!t||t.float64!==!0){if(encodeFloat16(n),o=readFloat16(ui8a,1),n===o||Number.isNaN(n))return 3;if(encodeFloat32(n),o=readFloat32(ui8a,1),n===o)return 5}return 9};const buffer$1=new ArrayBuffer(9),dataView=new DataView(buffer$1,1),ui8a=new Uint8Array(buffer$1,0);function encodeFloat16(r){if(r===1/0)dataView.setUint16(0,31744,!1);else if(r===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(r))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,r);const e=dataView.getUint32(0),t=(e&2139095040)>>23,n=e&8388607;if(t===255)dataView.setUint16(0,31744,!1);else if(t===0)dataView.setUint16(0,(r&2147483648)>>16|n>>13,!1);else{const o=t-127;o<-24?dataView.setUint16(0,0):o<-14?dataView.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):dataView.setUint16(0,(e&2147483648)>>16|o+15<<10|n>>13,!1)}}}function readFloat16(r,e){if(r.length-e<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const t=(r[e]<<8)+r[e+1];if(t===31744)return 1/0;if(t===64512)return-1/0;if(t===32256)return NaN;const n=t>>10&31,o=t&1023;let a;return n===0?a=o*2**-24:n!==31?a=(o+1024)*2**(n-25):a=o===0?1/0:NaN,t&32768?-a:a}function encodeFloat32(r){dataView.setFloat32(0,r,!1)}function readFloat32(r,e){if(r.length-e<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const t=(r.byteOffset||0)+e;return new DataView(r.buffer,t,4).getFloat32(0,!1)}function encodeFloat64(r){dataView.setFloat64(0,r,!1)}function readFloat64(r,e){if(r.length-e<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const t=(r.byteOffset||0)+e;return new DataView(r.buffer,t,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(r,e,t){throw new Error(`${decodeErrPrefix} encountered invalid minor (${t}) for major ${r[e]>>>5}`)}function errorer(r){return()=>{throw new Error(`${decodeErrPrefix} ${r}`)}}const jump=[];for(let r=0;r<=23;r++)jump[r]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let r=32;r<=55;r++)jump[r]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let r=64;r<=87;r++)jump[r]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)jump[r]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)jump[r]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let r=160;r<=183;r++)jump[r]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let r=192;r<=215;r++)jump[r]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let r=224;r<=243;r++)jump[r]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let r=0;r<24;r++)quick[r]=new Token(Type.uint,r,1);for(let r=-1;r>=-24;r--)quick[31-r]=new Token(Type.negint,r,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken(r){switch(r.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return r.value.length?void 0:fromArray([64]);case Type.string:return r.value===""?fromArray([96]):void 0;case Type.array:return r.value===0?fromArray([128]):void 0;case Type.map:return r.value===0?fromArray([160]):void 0;case Type.uint:return r.value<24?fromArray([Number(r.value)]):void 0;case Type.negint:if(r.value>=-24)return fromArray([31-Number(r.value)])}}const defaultEncodeOptions={float64:!1,mapSorter,quickEncodeToken},cborEncoders=[];cborEncoders[Type.uint.major]=encodeUint;cborEncoders[Type.negint.major]=encodeNegint;cborEncoders[Type.bytes.major]=encodeBytes;cborEncoders[Type.string.major]=encodeString;cborEncoders[Type.array.major]=encodeArray;cborEncoders[Type.map.major]=encodeMap;cborEncoders[Type.tag.major]=encodeTag;cborEncoders[Type.float.major]=encodeFloat;const buf=new Bl;class Ref{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(t,e)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(r,e,t,n){return!Number.isInteger(r)||!Number.isSafeInteger(r)?new Token(Type.float,r):r>=0?new Token(Type.uint,r):new Token(Type.negint,r)},bigint(r,e,t,n){return r>=BigInt(0)?new Token(Type.uint,r):new Token(Type.negint,r)},Uint8Array(r,e,t,n){return new Token(Type.bytes,r)},string(r,e,t,n){return new Token(Type.string,r)},boolean(r,e,t,n){return r?simpleTokens.true:simpleTokens.false},null(r,e,t,n){return simpleTokens.null},undefined(r,e,t,n){return simpleTokens.undefined},ArrayBuffer(r,e,t,n){return new Token(Type.bytes,new Uint8Array(r))},DataView(r,e,t,n){return new Token(Type.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength))},Array(r,e,t,n){if(!r.length)return t.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;n=Ref.createCheck(n,r);const o=[];let a=0;for(const c of r)o[a++]=objectToTokens(c,t,n);return t.addBreakTokens?[new Token(Type.array,r.length),o,new Token(Type.break)]:[new Token(Type.array,r.length),o]},Object(r,e,t,n){const o=e!=="Object",a=o?r.keys():Object.keys(r),c=o?r.size:a.length;if(!c)return t.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;n=Ref.createCheck(n,r);const s=[];let d=0;for(const u of a)s[d++]=[objectToTokens(u,t,n),objectToTokens(o?r.get(u):r[u],t,n)];return sortMapEntries(s,t),t.addBreakTokens?[new Token(Type.map,c),s,new Token(Type.break)]:[new Token(Type.map,c),s]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${r}Array`]=typeEncoders.DataView;function objectToTokens(r,e={},t){const n=is(r),o=e&&e.typeEncoders&&e.typeEncoders[n]||typeEncoders[n];if(typeof o=="function"){const c=o(r,n,e,t);if(c!=null)return c}const a=typeEncoders[n];if(!a)throw new Error(`${encodeErrPrefix} unsupported type: ${n}`);return a(r,n,e,t)}function sortMapEntries(r,e){e.mapSorter&&r.sort(e.mapSorter)}function mapSorter(r,e){const t=Array.isArray(r[0])?r[0][0]:r[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(t.type!==n.type)return t.type.compare(n.type);const o=t.type.major,a=cborEncoders[o].compareTokens(t,n);return a===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),a}function tokensToEncoded(r,e,t,n){if(Array.isArray(e))for(const o of e)tokensToEncoded(r,o,t,n);else t[e.type.major](r,e,n)}function encodeCustom(r,e,t){const n=objectToTokens(r,t);if(!Array.isArray(n)&&t.quickEncodeToken){const o=t.quickEncodeToken(n);if(o)return o;const a=e[n.type.major];if(a.encodedSize){const c=a.encodedSize(n,t),s=new Bl(c);if(a(s,n,t),s.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return asU8A(s.chunks[0])}}return tokensToEncoded(buf,n,e,t),buf.toBytes(!0)}function encode$4(r,e){return e=Object.assign({},defaultEncodeOptions,e),encodeCustom(r,cborEncoders,e)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=quick[e];if(t===void 0){const n=jump[e];if(!n)throw new Error(`${decodeErrPrefix} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const o=e&31;t=n(this.data,this.pos,o,this.options)}return this.pos+=t.encodedLength,t}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(r,e,t){const n=[];for(let o=0;o<r.value;o++){const a=tokensToObject(e,t);if(a===BREAK){if(r.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(a===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${o}, expected ${r.value})`);n[o]=a}return n}function tokenToMap(r,e,t){const n=t.useMaps===!0,o=n?void 0:{},a=n?new Map:void 0;for(let c=0;c<r.value;c++){const s=tokensToObject(e,t);if(s===BREAK){if(r.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(s===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${c} [no key], expected ${r.value})`);if(n!==!0&&typeof s!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof s})`);const d=tokensToObject(e,t);if(d===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${c} [no value], expected ${r.value})`);n?a.set(s,d):o[s]=d}return n?a:o}function tokensToObject(r,e){if(r.done())return DONE;const t=r.next();if(t.type===Type.break)return BREAK;if(t.type.terminal)return t.value;if(t.type===Type.array)return tokenToArray(t,r,e);if(t.type===Type.map)return tokenToMap(t,r,e);if(t.type===Type.tag){if(e.tags&&typeof e.tags[t.value]=="function"){const n=tokensToObject(r,e);return e.tags[t.value](n)}throw new Error(`${decodeErrPrefix} tag not supported (${t.value})`)}throw new Error("unsupported")}function decode$4(r,e){if(!(r instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);e=Object.assign({},defaultDecodeOptions,e);const t=e.tokenizer||new Tokeniser(r,e),n=tokensToObject(t,e);if(n===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(n===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!t.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return n}const CID_CBOR_TAG$1=42;function cidEncoder$1(r){if(r.asCID!==r)return null;const e=CID$1.asCID(r);if(!e)return null;const t=new Uint8Array(e.bytes.byteLength+1);return t.set(e.bytes,1),[new Token(Type.tag,CID_CBOR_TAG$1),new Token(Type.bytes,t)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder$1(r){if(r[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID$1.decode(r.subarray(1))}const decodeOptions$1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG$1]=cidDecoder$1;const encode$3=r=>encode$4(r,encodeOptions$1),decode$3=r=>decode$4(r,decodeOptions$1),CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112};async function readVarint(r){const e=await r.upTo(8),t=varint$1.decode(e);return r.seek(varint$1.decode.bytes),t}async function readHeader(r){const e=await readVarint(r);if(e===0)throw new Error("Invalid CAR header (zero length)");const t=await r.exactly(e);r.seek(e);const n=decode$3(t);if(n==null||Array.isArray(n)||typeof n!="object")throw new Error("Invalid CAR header format");if(n.version!==1)throw typeof n.version=="string"?new Error(`Invalid CAR version: "${n.version}"`):new Error(`Invalid CAR version: ${n.version}`);if(!Array.isArray(n.roots))throw new Error("Invalid CAR header format");if(Object.keys(n).filter(o=>o!=="roots"&&o!=="version").length)throw new Error("Invalid CAR header format");return n}async function readMultihash(r){const e=await r.upTo(8);varint$1.decode(e);const t=varint$1.decode.bytes,n=varint$1.decode(e.subarray(varint$1.decode.bytes)),o=varint$1.decode.bytes,a=t+o+n,c=await r.exactly(a);return r.seek(a),c}async function readCid(r){const e=await r.exactly(2);if(e[0]===CIDV0_BYTES.SHA2_256&&e[1]===CIDV0_BYTES.LENGTH){const c=await r.exactly(34);r.seek(34);const s=decode$6(c);return CID$1.create(0,CIDV0_BYTES.DAG_PB,s)}const t=await readVarint(r);if(t!==1)throw new Error(`Unexpected CID version (${t})`);const n=await readVarint(r),o=await readMultihash(r),a=decode$6(o);return CID$1.create(t,n,a)}async function readBlockHead(r){const e=r.pos;let t=await readVarint(r);if(t===0)throw new Error("Invalid CAR section (zero length)");t+=r.pos-e;const n=await readCid(r),o=t-(r.pos-e);return{cid:n,length:t,blockLength:o}}async function readBlock(r){const{cid:e,blockLength:t}=await readBlockHead(r),n=await r.exactly(t);return r.seek(t),{bytes:n,cid:e}}async function readBlockIndex(r){const e=r.pos,{cid:t,length:n,blockLength:o}=await readBlockHead(r),a={cid:t,length:n,blockLength:o,offset:e,blockOffset:r.pos};return r.seek(a.blockLength),a}function createDecoder(r){const e=readHeader(r);return{header:()=>e,async*blocks(){for(await e;(await r.upTo(8)).length>0;)yield await readBlock(r)},async*blocksIndex(){for(await e;(await r.upTo(8)).length>0;)yield await readBlockIndex(r)}}}function bytesReader(r){let e=0;return{async upTo(t){return r.subarray(e,e+Math.min(t,r.length-e))},async exactly(t){if(t>r.length-e)throw new Error("Unexpected end of data");return r.subarray(e,e+t)},seek(t){e+=t},get pos(){return e}}}function chunkReader(r){let e=0,t=0,n=0,o=new Uint8Array(0);const a=async c=>{t=o.length-n;const s=[o.subarray(n)];for(;t<c;){const u=await r();if(u==null)break;t<0?u.length>t&&s.push(u.subarray(-t)):s.push(u),t+=u.length}o=new Uint8Array(s.reduce((u,h)=>u+h.length,0));let d=0;for(const u of s)o.set(u,d),d+=u.length;n=0};return{async upTo(c){return o.length-n<c&&await a(c),o.subarray(n,n+Math.min(o.length-n,c))},async exactly(c){if(o.length-n<c&&await a(c),o.length-n<c)throw new Error("Unexpected end of data");return o.subarray(n,n+c)},seek(c){e+=c,n+=c},get pos(){return e}}}function asyncIterableReader(r){const e=r[Symbol.asyncIterator]();async function t(){const n=await e.next();return n.done?null:n.value}return chunkReader(t)}class CarReader{constructor(e,t,n){this._version=e,this._roots=t,this._blocks=n,this._keys=n.map(o=>o.cid.toString())}get version(){return this._version}async getRoots(){return this._roots}async has(e){return this._keys.indexOf(e.toString())>-1}async get(e){const t=this._keys.indexOf(e.toString());return t>-1?this._blocks[t]:void 0}async*blocks(){for(const e of this._blocks)yield e}async*cids(){for(const e of this._blocks)yield e.cid}static async fromBytes(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(e))}static async fromIterable(e){if(!e||typeof e[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(e))}}async function decodeReaderComplete(r){const e=createDecoder(r),{version:t,roots:n}=await e.header(),o=[];for await(const a of e.blocks())o.push(a);return new CarReader(t,n,o)}class CarIteratorBase{constructor(e,t,n){this._version=e,this._roots=t,this._iterable=n,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class CarBlockIterator extends CarIteratorBase{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){const{version:t,roots:n,iterator:o}=await fromBytes(e);return new CarBlockIterator(t,n,o)}static async fromIterable(e){const{version:t,roots:n,iterator:o}=await fromIterable(e);return new CarBlockIterator(t,n,o)}}async function fromBytes(r){if(!(r instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeIterator(bytesReader(r))}async function fromIterable(r){if(!r||typeof r[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeIterator(asyncIterableReader(r))}async function decodeIterator(r){const e=createDecoder(r),{version:t,roots:n}=await e.header();return{version:t,roots:n,iterator:e.blocks()}}function createHeader(r){const e=encode$3({version:1,roots:r}),t=varint$1.encode(e.length),n=new Uint8Array(t.length+e.length);return n.set(t,0),n.set(e,t.length),n}function createEncoder(r){return{async setRoots(e){const t=createHeader(e);await r.write(t)},async writeBlock(e){const{cid:t,bytes:n}=e;await r.write(new Uint8Array(varint$1.encode(t.bytes.length+n.length))),await r.write(t.bytes),n.length&&await r.write(n)},async close(){return r.end()}}}function noop$1(){}function create$3(){const r=[];let e=null,t=noop$1,n=!1,o=null,a=noop$1;const c=()=>(e||(e=new Promise(u=>{t=()=>{e=null,t=noop$1,u()}})),e),s={write(u){r.push(u);const h=c();return a(),h},async end(){n=!0;const u=c();return a(),u}},d={async next(){const u=r.shift();return u?(r.length===0&&t(),{done:!1,value:u}):n?(t(),{done:!0,value:void 0}):(o||(o=new Promise(h=>{a=()=>(o=null,a=noop$1,h(d.next()))})),o)}};return{writer:s,iterator:d}}class CarWriter{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const t=CID$1.asCID(e.cid);if(!t)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:t,bytes:e.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=toRoots(e);const{encoder:t,iterator:n}=encodeWriter(),o=new CarWriter(e,t),a=new CarWriterOut(n);return{writer:o,out:a}}static createAppender(){const{encoder:e,iterator:t}=encodeWriter();e.setRoots=()=>Promise.resolve();const n=new CarWriter([],e),o=new CarWriterOut(t);return{writer:n,out:o}}static async updateRootsInBytes(e,t){const n=bytesReader(e);await readHeader(n);const o=createHeader(t);if(n.pos!==o.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${n.pos} bytes, new header is ${o.length} bytes)`);return e.set(o,0),e}}class CarWriterOut{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function encodeWriter(){const r=create$3(),{writer:e,iterator:t}=r;return{encoder:createEncoder(e),iterator:t}}function toRoots(r){if(r===void 0)return[];if(!Array.isArray(r)){const t=CID$1.asCID(r);if(!t)throw new TypeError("roots must be a single CID or an array of CIDs");return[t]}const e=[];for(const t of r){const n=CID$1.asCID(t);if(!n)throw new TypeError("roots must be a single CID or an array of CIDs");e.push(n)}return e}async function*batch$1(r,e=1){let t=[];e<1&&(e=1);for await(const n of r)for(t.push(n);t.length>=e;)yield t.slice(0,e),t=t.slice(e);for(;t.length;)yield t.slice(0,e),t=t.slice(e)}var itBatch=batch$1;const batch=itBatch;async function*parallelBatch(r,e=1){for await(const t of batch(r,e)){const n=t.map(o=>o().then(a=>({ok:!0,value:a}),a=>({ok:!1,err:a})));for(let o=0;o<n.length;o++){const a=await n[o];if(a.ok)yield a.value;else throw a.err}}}var itParallelBatch=parallelBatch,isPlainObj=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty:hasOwnProperty$1}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=(r,e,t)=>Object.defineProperty(r,e,{value:t,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=r=>{const e=[];for(const t in r)hasOwnProperty$1.call(r,t)&&e.push(t);if(Object.getOwnPropertySymbols){const t=Object.getOwnPropertySymbols(r);for(const n of t)propertyIsEnumerable.call(r,n)&&e.push(n)}return e};function clone(r){return Array.isArray(r)?cloneArray(r):isOptionObject(r)?cloneOptionObject(r):r}function cloneArray(r){const e=r.slice(0,0);return getEnumerableOwnPropertyKeys(r).forEach(t=>{defineProperty(e,t,clone(r[t]))}),e}function cloneOptionObject(r){const e=Object.getPrototypeOf(r)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys(r).forEach(t=>{defineProperty(e,t,clone(r[t]))}),e}const mergeKeys=(r,e,t,n)=>(t.forEach(o=>{typeof e[o]=="undefined"&&n.ignoreUndefined||(o in r&&r[o]!==Object.getPrototypeOf(r)?defineProperty(r,o,merge(r[o],e[o],n)):defineProperty(r,o,clone(e[o])))}),r),concatArrays=(r,e,t)=>{let n=r.slice(0,0),o=0;return[r,e].forEach(a=>{const c=[];for(let s=0;s<a.length;s++)!hasOwnProperty$1.call(a,s)||(c.push(String(s)),a===r?defineProperty(n,o++,a[s]):defineProperty(n,o++,clone(a[s])));n=mergeKeys(n,a,getEnumerableOwnPropertyKeys(a).filter(s=>!c.includes(s)),t)}),n};function merge(r,e,t){return t.concatArrays&&Array.isArray(r)&&Array.isArray(e)?concatArrays(r,e,t):!isOptionObject(e)||!isOptionObject(r)?clone(e):mergeKeys(r,e,getEnumerableOwnPropertyKeys(e),t)}var mergeOptions=function(...r){const e=merge(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let t={_:{}};for(const n of r)if(n!==void 0){if(!isOptionObject(n))throw new TypeError("`"+n+"` is not an Option Object");t=merge(t,{_:n},e)}return t._};const from=({name:r,code:e,encode:t})=>new Hasher(r,e,t);class Hasher{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}async digest(e){if(e instanceof Uint8Array){const t=await this.encode(e);return create$4(this.code,t)}else throw Error("Unknown type, must be binary type")}}const sha=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),sha256$1=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512$1=from({name:"sha2-512",code:19,encode:sha("SHA-512")});var sha2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",sha256:sha256$1,sha512:sha512$1}),murmurHash3js={exports:{}};(function(r,e){(function(t,n){var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function a(p){if(!Array.isArray(p)&&!ArrayBuffer.isView(p))return!1;for(var _=0;_<p.length;_++)if(!Number.isInteger(p[_])||p[_]<0||p[_]>255)return!1;return!0}function c(p,_){return(p&65535)*_+(((p>>>16)*_&65535)<<16)}function s(p,_){return p<<_|p>>>32-_}function d(p){return p^=p>>>16,p=c(p,2246822507),p^=p>>>13,p=c(p,3266489909),p^=p>>>16,p}function u(p,_){p=[p[0]>>>16,p[0]&65535,p[1]>>>16,p[1]&65535],_=[_[0]>>>16,_[0]&65535,_[1]>>>16,_[1]&65535];var T=[0,0,0,0];return T[3]+=p[3]+_[3],T[2]+=T[3]>>>16,T[3]&=65535,T[2]+=p[2]+_[2],T[1]+=T[2]>>>16,T[2]&=65535,T[1]+=p[1]+_[1],T[0]+=T[1]>>>16,T[1]&=65535,T[0]+=p[0]+_[0],T[0]&=65535,[T[0]<<16|T[1],T[2]<<16|T[3]]}function h(p,_){p=[p[0]>>>16,p[0]&65535,p[1]>>>16,p[1]&65535],_=[_[0]>>>16,_[0]&65535,_[1]>>>16,_[1]&65535];var T=[0,0,0,0];return T[3]+=p[3]*_[3],T[2]+=T[3]>>>16,T[3]&=65535,T[2]+=p[2]*_[3],T[1]+=T[2]>>>16,T[2]&=65535,T[2]+=p[3]*_[2],T[1]+=T[2]>>>16,T[2]&=65535,T[1]+=p[1]*_[3],T[0]+=T[1]>>>16,T[1]&=65535,T[1]+=p[2]*_[2],T[0]+=T[1]>>>16,T[1]&=65535,T[1]+=p[3]*_[1],T[0]+=T[1]>>>16,T[1]&=65535,T[0]+=p[0]*_[3]+p[1]*_[2]+p[2]*_[1]+p[3]*_[0],T[0]&=65535,[T[0]<<16|T[1],T[2]<<16|T[3]]}function m(p,_){return _%=64,_===32?[p[1],p[0]]:_<32?[p[0]<<_|p[1]>>>32-_,p[1]<<_|p[0]>>>32-_]:(_-=32,[p[1]<<_|p[0]>>>32-_,p[0]<<_|p[1]>>>32-_])}function y(p,_){return _%=64,_===0?p:_<32?[p[0]<<_|p[1]>>>32-_,p[1]<<_]:[p[1]<<_-32,0]}function g(p,_){return[p[0]^_[0],p[1]^_[1]]}function b(p){return p=g(p,[0,p[0]>>>1]),p=h(p,[4283543511,3981806797]),p=g(p,[0,p[0]>>>1]),p=h(p,[3301882366,444984403]),p=g(p,[0,p[0]>>>1]),p}o.x86.hash32=function(p,_){if(o.inputValidation&&!a(p))return n;_=_||0;for(var T=p.length%4,E=p.length-T,w=_,B=0,k=3432918353,A=461845907,$=0;$<E;$=$+4)B=p[$]|p[$+1]<<8|p[$+2]<<16|p[$+3]<<24,B=c(B,k),B=s(B,15),B=c(B,A),w^=B,w=s(w,13),w=c(w,5)+3864292196;switch(B=0,T){case 3:B^=p[$+2]<<16;case 2:B^=p[$+1]<<8;case 1:B^=p[$],B=c(B,k),B=s(B,15),B=c(B,A),w^=B}return w^=p.length,w=d(w),w>>>0},o.x86.hash128=function(p,_){if(o.inputValidation&&!a(p))return n;_=_||0;for(var T=p.length%16,E=p.length-T,w=_,B=_,k=_,A=_,$=0,I=0,D=0,S=0,R=597399067,U=2869860233,P=951274213,M=2716044179,H=0;H<E;H=H+16)$=p[H]|p[H+1]<<8|p[H+2]<<16|p[H+3]<<24,I=p[H+4]|p[H+5]<<8|p[H+6]<<16|p[H+7]<<24,D=p[H+8]|p[H+9]<<8|p[H+10]<<16|p[H+11]<<24,S=p[H+12]|p[H+13]<<8|p[H+14]<<16|p[H+15]<<24,$=c($,R),$=s($,15),$=c($,U),w^=$,w=s(w,19),w+=B,w=c(w,5)+1444728091,I=c(I,U),I=s(I,16),I=c(I,P),B^=I,B=s(B,17),B+=k,B=c(B,5)+197830471,D=c(D,P),D=s(D,17),D=c(D,M),k^=D,k=s(k,15),k+=A,k=c(k,5)+2530024501,S=c(S,M),S=s(S,18),S=c(S,R),A^=S,A=s(A,13),A+=w,A=c(A,5)+850148119;switch($=0,I=0,D=0,S=0,T){case 15:S^=p[H+14]<<16;case 14:S^=p[H+13]<<8;case 13:S^=p[H+12],S=c(S,M),S=s(S,18),S=c(S,R),A^=S;case 12:D^=p[H+11]<<24;case 11:D^=p[H+10]<<16;case 10:D^=p[H+9]<<8;case 9:D^=p[H+8],D=c(D,P),D=s(D,17),D=c(D,M),k^=D;case 8:I^=p[H+7]<<24;case 7:I^=p[H+6]<<16;case 6:I^=p[H+5]<<8;case 5:I^=p[H+4],I=c(I,U),I=s(I,16),I=c(I,P),B^=I;case 4:$^=p[H+3]<<24;case 3:$^=p[H+2]<<16;case 2:$^=p[H+1]<<8;case 1:$^=p[H],$=c($,R),$=s($,15),$=c($,U),w^=$}return w^=p.length,B^=p.length,k^=p.length,A^=p.length,w+=B,w+=k,w+=A,B+=w,k+=w,A+=w,w=d(w),B=d(B),k=d(k),A=d(A),w+=B,w+=k,w+=A,B+=w,k+=w,A+=w,("00000000"+(w>>>0).toString(16)).slice(-8)+("00000000"+(B>>>0).toString(16)).slice(-8)+("00000000"+(k>>>0).toString(16)).slice(-8)+("00000000"+(A>>>0).toString(16)).slice(-8)},o.x64.hash128=function(p,_){if(o.inputValidation&&!a(p))return n;_=_||0;for(var T=p.length%16,E=p.length-T,w=[0,_],B=[0,_],k=[0,0],A=[0,0],$=[2277735313,289559509],I=[1291169091,658871167],D=0;D<E;D=D+16)k=[p[D+4]|p[D+5]<<8|p[D+6]<<16|p[D+7]<<24,p[D]|p[D+1]<<8|p[D+2]<<16|p[D+3]<<24],A=[p[D+12]|p[D+13]<<8|p[D+14]<<16|p[D+15]<<24,p[D+8]|p[D+9]<<8|p[D+10]<<16|p[D+11]<<24],k=h(k,$),k=m(k,31),k=h(k,I),w=g(w,k),w=m(w,27),w=u(w,B),w=u(h(w,[0,5]),[0,1390208809]),A=h(A,I),A=m(A,33),A=h(A,$),B=g(B,A),B=m(B,31),B=u(B,w),B=u(h(B,[0,5]),[0,944331445]);switch(k=[0,0],A=[0,0],T){case 15:A=g(A,y([0,p[D+14]],48));case 14:A=g(A,y([0,p[D+13]],40));case 13:A=g(A,y([0,p[D+12]],32));case 12:A=g(A,y([0,p[D+11]],24));case 11:A=g(A,y([0,p[D+10]],16));case 10:A=g(A,y([0,p[D+9]],8));case 9:A=g(A,[0,p[D+8]]),A=h(A,I),A=m(A,33),A=h(A,$),B=g(B,A);case 8:k=g(k,y([0,p[D+7]],56));case 7:k=g(k,y([0,p[D+6]],48));case 6:k=g(k,y([0,p[D+5]],40));case 5:k=g(k,y([0,p[D+4]],32));case 4:k=g(k,y([0,p[D+3]],24));case 3:k=g(k,y([0,p[D+2]],16));case 2:k=g(k,y([0,p[D+1]],8));case 1:k=g(k,[0,p[D]]),k=h(k,$),k=m(k,31),k=h(k,I),w=g(w,k)}return w=g(w,[0,p.length]),B=g(B,[0,p.length]),w=u(w,B),B=u(B,w),w=b(w),B=b(B),w=u(w,B),B=u(B,w),("00000000"+(w[0]>>>0).toString(16)).slice(-8)+("00000000"+(w[1]>>>0).toString(16)).slice(-8)+("00000000"+(B[0]>>>0).toString(16)).slice(-8)+("00000000"+(B[1]>>>0).toString(16)).slice(-8)},r.exports&&(e=r.exports=o),e.murmurHash3=o})()})(murmurHash3js,murmurHash3js.exports);var murmurhash3jsRevisited=murmurHash3js.exports;function fromNumberTo32BitBuf(r){const e=new Array(4);for(let t=0;t<4;t++)e[t]=r&255,r=r>>8;return new Uint8Array(e)}from({name:"murmur3-32",code:35,encode:r=>fromNumberTo32BitBuf(murmurhash3jsRevisited.x86.hash32(r))});const murmur3128=from({name:"murmur3-128",code:34,encode:r=>fromHex(murmurhash3jsRevisited.x64.hash128(r))});async function hamtHashFn(r){return(await murmur3128.encode(r)).slice(0,8).reverse()}const defaultOptions={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:sha256$1,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:17437180132763652,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn,hamtHashCode:34,hamtBucketBits:8};var defaultOptions$1=(r={})=>mergeOptions.bind({ignoreUndefined:!0})(defaultOptions,r);function assign(r,e){for(const t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function createError(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return assign(r,t)}catch{t.message=r.message,t.stack=r.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(r)),assign(new o,t)}}var errCode$3=createError,indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(r,e){for(var t=new Array(arguments.length-1),n=0,o=2,a=!0;o<arguments.length;)t[n++]=arguments[o++];return new Promise(function(s,d){t[n]=function(h){if(a)if(a=!1,h)d(h);else{for(var m=new Array(arguments.length-1),y=0;y<m.length;)m[y++]=arguments[y];s.apply(null,m)}};try{r.apply(e||null,t)}catch(u){a&&(a=!1,d(u))}})}var base64$3={};(function(r){var e=r;e.length=function(s){var d=s.length;if(!d)return 0;for(var u=0;--d%4>1&&s.charAt(d)==="=";)++u;return Math.ceil(s.length*3)/4-u};for(var t=new Array(64),n=new Array(123),o=0;o<64;)n[t[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;e.encode=function(s,d,u){for(var h=null,m=[],y=0,g=0,b;d<u;){var p=s[d++];switch(g){case 0:m[y++]=t[p>>2],b=(p&3)<<4,g=1;break;case 1:m[y++]=t[b|p>>4],b=(p&15)<<2,g=2;break;case 2:m[y++]=t[b|p>>6],m[y++]=t[p&63],g=0;break}y>8191&&((h||(h=[])).push(String.fromCharCode.apply(String,m)),y=0)}return g&&(m[y++]=t[b],m[y++]=61,g===1&&(m[y++]=61)),h?(y&&h.push(String.fromCharCode.apply(String,m.slice(0,y))),h.join("")):String.fromCharCode.apply(String,m.slice(0,y))};var a="invalid encoding";e.decode=function(s,d,u){for(var h=u,m=0,y,g=0;g<s.length;){var b=s.charCodeAt(g++);if(b===61&&m>1)break;if((b=n[b])===void 0)throw Error(a);switch(m){case 0:y=b,m=1;break;case 1:d[u++]=y<<2|(b&48)>>4,y=b,m=2;break;case 2:d[u++]=(y&15)<<4|(b&60)>>2,y=b,m=3;break;case 3:d[u++]=(y&3)<<6|b,m=0;break}}if(m===1)throw Error(a);return u-h},e.test=function(s){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s)}})(base64$3);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this};EventEmitter.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],o=0;o<n.length;)n[o].fn===t?n.splice(o,1):++o;return this};EventEmitter.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],o=1;o<arguments.length;)n.push(arguments[o++]);for(o=0;o<t.length;)t[o].fn.apply(t[o++].ctx,n)}return this};var float=factory(factory);function factory(r){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),n=t[3]===128;function o(d,u,h){e[0]=d,u[h]=t[0],u[h+1]=t[1],u[h+2]=t[2],u[h+3]=t[3]}function a(d,u,h){e[0]=d,u[h]=t[3],u[h+1]=t[2],u[h+2]=t[1],u[h+3]=t[0]}r.writeFloatLE=n?o:a,r.writeFloatBE=n?a:o;function c(d,u){return t[0]=d[u],t[1]=d[u+1],t[2]=d[u+2],t[3]=d[u+3],e[0]}function s(d,u){return t[3]=d[u],t[2]=d[u+1],t[1]=d[u+2],t[0]=d[u+3],e[0]}r.readFloatLE=n?c:s,r.readFloatBE=n?s:c}():function(){function e(n,o,a,c){var s=o<0?1:0;if(s&&(o=-o),o===0)n(1/o>0?0:2147483648,a,c);else if(isNaN(o))n(2143289344,a,c);else if(o>34028234663852886e22)n((s<<31|2139095040)>>>0,a,c);else if(o<11754943508222875e-54)n((s<<31|Math.round(o/1401298464324817e-60))>>>0,a,c);else{var d=Math.floor(Math.log(o)/Math.LN2),u=Math.round(o*Math.pow(2,-d)*8388608)&8388607;n((s<<31|d+127<<23|u)>>>0,a,c)}}r.writeFloatLE=e.bind(null,writeUintLE),r.writeFloatBE=e.bind(null,writeUintBE);function t(n,o,a){var c=n(o,a),s=(c>>31)*2+1,d=c>>>23&255,u=c&8388607;return d===255?u?NaN:s*(1/0):d===0?s*1401298464324817e-60*u:s*Math.pow(2,d-150)*(u+8388608)}r.readFloatLE=t.bind(null,readUintLE),r.readFloatBE=t.bind(null,readUintBE)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),n=t[7]===128;function o(d,u,h){e[0]=d,u[h]=t[0],u[h+1]=t[1],u[h+2]=t[2],u[h+3]=t[3],u[h+4]=t[4],u[h+5]=t[5],u[h+6]=t[6],u[h+7]=t[7]}function a(d,u,h){e[0]=d,u[h]=t[7],u[h+1]=t[6],u[h+2]=t[5],u[h+3]=t[4],u[h+4]=t[3],u[h+5]=t[2],u[h+6]=t[1],u[h+7]=t[0]}r.writeDoubleLE=n?o:a,r.writeDoubleBE=n?a:o;function c(d,u){return t[0]=d[u],t[1]=d[u+1],t[2]=d[u+2],t[3]=d[u+3],t[4]=d[u+4],t[5]=d[u+5],t[6]=d[u+6],t[7]=d[u+7],e[0]}function s(d,u){return t[7]=d[u],t[6]=d[u+1],t[5]=d[u+2],t[4]=d[u+3],t[3]=d[u+4],t[2]=d[u+5],t[1]=d[u+6],t[0]=d[u+7],e[0]}r.readDoubleLE=n?c:s,r.readDoubleBE=n?s:c}():function(){function e(n,o,a,c,s,d){var u=c<0?1:0;if(u&&(c=-c),c===0)n(0,s,d+o),n(1/c>0?0:2147483648,s,d+a);else if(isNaN(c))n(0,s,d+o),n(2146959360,s,d+a);else if(c>17976931348623157e292)n(0,s,d+o),n((u<<31|2146435072)>>>0,s,d+a);else{var h;if(c<22250738585072014e-324)h=c/5e-324,n(h>>>0,s,d+o),n((u<<31|h/4294967296)>>>0,s,d+a);else{var m=Math.floor(Math.log(c)/Math.LN2);m===1024&&(m=1023),h=c*Math.pow(2,-m),n(h*4503599627370496>>>0,s,d+o),n((u<<31|m+1023<<20|h*1048576&1048575)>>>0,s,d+a)}}}r.writeDoubleLE=e.bind(null,writeUintLE,0,4),r.writeDoubleBE=e.bind(null,writeUintBE,4,0);function t(n,o,a,c,s){var d=n(c,s+o),u=n(c,s+a),h=(u>>31)*2+1,m=u>>>20&2047,y=4294967296*(u&1048575)+d;return m===2047?y?NaN:h*(1/0):m===0?h*5e-324*y:h*Math.pow(2,m-1075)*(y+4503599627370496)}r.readDoubleLE=t.bind(null,readUintLE,0,4),r.readDoubleBE=t.bind(null,readUintBE,4,0)}(),r}function writeUintLE(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function writeUintBE(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function readUintLE(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function readUintBE(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}var utf8$2={};(function(r){var e=r;e.length=function(n){for(var o=0,a=0,c=0;c<n.length;++c)a=n.charCodeAt(c),a<128?o+=1:a<2048?o+=2:(a&64512)==55296&&(n.charCodeAt(c+1)&64512)==56320?(++c,o+=4):o+=3;return o},e.read=function(n,o,a){var c=a-o;if(c<1)return"";for(var s=null,d=[],u=0,h;o<a;)h=n[o++],h<128?d[u++]=h:h>191&&h<224?d[u++]=(h&31)<<6|n[o++]&63:h>239&&h<365?(h=((h&7)<<18|(n[o++]&63)<<12|(n[o++]&63)<<6|n[o++]&63)-65536,d[u++]=55296+(h>>10),d[u++]=56320+(h&1023)):d[u++]=(h&15)<<12|(n[o++]&63)<<6|n[o++]&63,u>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,d)),u=0);return s?(u&&s.push(String.fromCharCode.apply(String,d.slice(0,u))),s.join("")):String.fromCharCode.apply(String,d.slice(0,u))},e.write=function(n,o,a){for(var c=a,s,d,u=0;u<n.length;++u)s=n.charCodeAt(u),s<128?o[a++]=s:s<2048?(o[a++]=s>>6|192,o[a++]=s&63|128):(s&64512)==55296&&((d=n.charCodeAt(u+1))&64512)==56320?(s=65536+((s&1023)<<10)+(d&1023),++u,o[a++]=s>>18|240,o[a++]=s>>12&63|128,o[a++]=s>>6&63|128,o[a++]=s&63|128):(o[a++]=s>>12|224,o[a++]=s>>6&63|128,o[a++]=s&63|128);return a-c}})(utf8$2);var pool_1=pool;function pool(r,e,t){var n=t||8192,o=n>>>1,a=null,c=n;return function(d){if(d<1||d>o)return r(d);c+d>n&&(a=r(n),c=0);var u=e.call(a,c,c+=d);return c&7&&(c=(c|7)+1),u}}var longbits=LongBits$2,util$5=minimal$1;function LongBits$2(r,e){this.lo=r>>>0,this.hi=e>>>0}var zero=LongBits$2.zero=new LongBits$2(0,0);zero.toNumber=function(){return 0};zero.zzEncode=zero.zzDecode=function(){return this};zero.length=function(){return 1};var zeroHash=LongBits$2.zeroHash="\0\0\0\0\0\0\0\0";LongBits$2.fromNumber=function r(e){if(e===0)return zero;var t=e<0;t&&(e=-e);var n=e>>>0,o=(e-n)/4294967296>>>0;return t&&(o=~o>>>0,n=~n>>>0,++n>4294967295&&(n=0,++o>4294967295&&(o=0))),new LongBits$2(n,o)};LongBits$2.from=function r(e){if(typeof e=="number")return LongBits$2.fromNumber(e);if(util$5.isString(e))if(util$5.Long)e=util$5.Long.fromString(e);else return LongBits$2.fromNumber(parseInt(e,10));return e.low||e.high?new LongBits$2(e.low>>>0,e.high>>>0):zero};LongBits$2.prototype.toNumber=function r(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+n*4294967296)}return this.lo+this.hi*4294967296};LongBits$2.prototype.toLong=function r(e){return util$5.Long?new util$5.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var charCodeAt=String.prototype.charCodeAt;LongBits$2.fromHash=function r(e){return e===zeroHash?zero:new LongBits$2((charCodeAt.call(e,0)|charCodeAt.call(e,1)<<8|charCodeAt.call(e,2)<<16|charCodeAt.call(e,3)<<24)>>>0,(charCodeAt.call(e,4)|charCodeAt.call(e,5)<<8|charCodeAt.call(e,6)<<16|charCodeAt.call(e,7)<<24)>>>0)};LongBits$2.prototype.toHash=function r(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};LongBits$2.prototype.zzEncode=function r(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};LongBits$2.prototype.zzDecode=function r(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};LongBits$2.prototype.length=function r(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10};(function(r){var e=r;e.asPromise=aspromise,e.base64=base64$3,e.EventEmitter=eventemitter,e.float=float,e.inquire=inquire_1,e.utf8=utf8$2,e.pool=pool_1,e.LongBits=longbits,e.isNode=Boolean(typeof commonjsGlobal!="undefined"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window!="undefined"&&window||typeof self!="undefined"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a},e.isString=function(a){return typeof a=="string"||a instanceof String},e.isObject=function(a){return a&&typeof a=="object"},e.isset=e.isSet=function(a,c){var s=a[c];return s!=null&&a.hasOwnProperty(c)?typeof s!="object"||(Array.isArray(s)?s.length:Object.keys(s).length)>0:!1},e.Buffer=function(){try{var o=e.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(a){return typeof a=="number"?e.Buffer?e._Buffer_allocUnsafe(a):new e.Array(a):e.Buffer?e._Buffer_from(a):typeof Uint8Array=="undefined"?a:new Uint8Array(a)},e.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(a){return a?e.LongBits.from(a).toHash():e.LongBits.zeroHash},e.longFromHash=function(a,c){var s=e.LongBits.fromHash(a);return e.Long?e.Long.fromBits(s.lo,s.hi,c):s.toNumber(Boolean(c))};function t(o,a,c){for(var s=Object.keys(a),d=0;d<s.length;++d)(o[s[d]]===void 0||!c)&&(o[s[d]]=a[s[d]]);return o}e.merge=t,e.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)};function n(o){function a(c,s){if(!(this instanceof a))return new a(c,s);Object.defineProperty(this,"message",{get:function(){return c}}),Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:new Error().stack||""}),s&&t(this,s)}return(a.prototype=Object.create(Error.prototype)).constructor=a,Object.defineProperty(a.prototype,"name",{get:function(){return o}}),a.prototype.toString=function(){return this.name+": "+this.message},a}e.newError=n,e.ProtocolError=n("ProtocolError"),e.oneOfGetter=function(a){for(var c={},s=0;s<a.length;++s)c[a[s]]=1;return function(){for(var d=Object.keys(this),u=d.length-1;u>-1;--u)if(c[d[u]]===1&&this[d[u]]!==void 0&&this[d[u]]!==null)return d[u]}},e.oneOfSetter=function(a){return function(c){for(var s=0;s<a.length;++s)a[s]!==c&&delete this[a[s]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var o=e.Buffer;if(!o){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=o.from!==Uint8Array.from&&o.from||function(c,s){return new o(c,s)},e._Buffer_allocUnsafe=o.allocUnsafe||function(c){return new o(c)}}})(minimal$1);var writer=Writer$1,util$4=minimal$1,BufferWriter$1,LongBits$1=util$4.LongBits,base64$2=util$4.base64,utf8$1=util$4.utf8;function Op(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function noop(){}function State(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$2=function r(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$2();Writer$1.alloc=function r(e){return new util$4.Array(e)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function r(e,t,n){return this.tail=this.tail.next=new Op(e,t,n),this.len+=t,this};function writeByte(r,e,t){e[t]=r&255}function writeVarint32(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function VarintOp(r,e){this.len=r,this.next=void 0,this.val=e}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function r(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$1.prototype.int32=function r(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)};Writer$1.prototype.sint32=function r(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}Writer$1.prototype.uint64=function r(e){var t=LongBits$1.from(e);return this._push(writeVarint64,t.length(),t)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function r(e){var t=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,t.length(),t)};Writer$1.prototype.bool=function r(e){return this._push(writeByte,1,e?1:0)};function writeFixed32(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}Writer$1.prototype.fixed32=function r(e){return this._push(writeFixed32,4,e>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function r(e){var t=LongBits$1.from(e);return this._push(writeFixed32,4,t.lo)._push(writeFixed32,4,t.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function r(e){return this._push(util$4.float.writeFloatLE,4,e)};Writer$1.prototype.double=function r(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function r(e,t,n){t.set(e,n)}:function r(e,t,n){for(var o=0;o<e.length;++o)t[n+o]=e[o]};Writer$1.prototype.bytes=function r(e){var t=e.length>>>0;if(!t)return this._push(writeByte,1,0);if(util$4.isString(e)){var n=Writer$1.alloc(t=base64$2.length(e));base64$2.decode(e,n,0),e=n}return this.uint32(t)._push(writeBytes,t,e)};Writer$1.prototype.string=function r(e){var t=utf8$1.length(e);return t?this.uint32(t)._push(utf8$1.write,t,e):this._push(writeByte,1,0)};Writer$1.prototype.fork=function r(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function r(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function r(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this};Writer$1.prototype.finish=function r(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t};Writer$1._configure=function(r){BufferWriter$1=r,Writer$1.create=create$2(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=minimal$1;function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var o=0;o<e.length;)t[n++]=e[o++]}};BufferWriter.prototype.bytes=function r(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(BufferWriter.writeBytesBuffer,t,e),this};function writeStringBuffer(r,e,t){r.length<40?util$3.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}BufferWriter.prototype.string=function r(e){var t=util$3.Buffer.byteLength(e);return this.uint32(t),t&&this._push(writeStringBuffer,t,e),this};BufferWriter._configure();var reader=Reader$1,util$2=minimal$1,BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function Reader$1(r){this.buf=r,this.pos=0,this.len=r.length}var create_array=typeof Uint8Array!="undefined"?function r(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function r(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create$1=function r(){return util$2.Buffer?function(t){return(Reader$1.create=function(o){return util$2.Buffer.isBuffer(o)?new BufferReader$1(o):create_array(o)})(t)}:create_array};Reader$1.create=create$1();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function r(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}();Reader$1.prototype.int32=function r(){return this.uint32()|0};Reader$1.prototype.sint32=function r(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint(){var r=new LongBits(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function r(){return this.uint32()!==0};function readFixed32_end(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}Reader$1.prototype.fixed32=function r(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function r(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function r(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$1.prototype.double=function r(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$1.prototype.bytes=function r(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)};Reader$1.prototype.string=function r(){var e=this.bytes();return utf8.read(e,0,e.length)};Reader$1.prototype.skip=function r(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!=4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};Reader$1._configure=function(r){BufferReader$1=r,Reader$1.create=create$1(),BufferReader$1._configure();var e=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=minimal$1;function BufferReader(r){Reader.call(this,r)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function r(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader._configure();var rpc={},service=Service,util=minimal$1;(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}Service.prototype.rpcCall=function r(e,t,n,o,a){if(!o)throw TypeError("request must be specified");var c=this;if(!a)return util.asPromise(r,c,e,t,n,o);if(!c.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return c.rpcImpl(e,t[c.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(d,u){if(d)return c.emit("error",d,e),a(d);if(u===null){c.end(!0);return}if(!(u instanceof n))try{u=n[c.responseDelimited?"decodeDelimited":"decode"](u)}catch(h){return c.emit("error",h,e),a(h)}return c.emit("data",u,e),a(null,u)})}catch(s){c.emit("error",s,e),setTimeout(function(){a(s)},0);return}};Service.prototype.end=function r(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(r){var e=r;e.Service=service})(rpc);var roots={};(function(r){var e=r;e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=minimal$1,e.rpc=rpc,e.roots=roots,e.configure=t;function t(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}t()})(indexMinimal);var minimal=indexMinimal;const $Reader=minimal.Reader,$Writer=minimal.Writer,$util=minimal.util,$root=minimal.roots["ipfs-unixfs"]||(minimal.roots["ipfs-unixfs"]={}),Data=$root.Data=(()=>{function r(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.Type=0,r.prototype.Data=$util.newBuffer([]),r.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,r.prototype.blocksizes=$util.emptyArray,r.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,r.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,r.prototype.mode=0,r.prototype.mtime=null,r.encode=function(t,n){if(n||(n=$Writer.create()),n.uint32(8).int32(t.Type),t.Data!=null&&Object.hasOwnProperty.call(t,"Data")&&n.uint32(18).bytes(t.Data),t.filesize!=null&&Object.hasOwnProperty.call(t,"filesize")&&n.uint32(24).uint64(t.filesize),t.blocksizes!=null&&t.blocksizes.length)for(var o=0;o<t.blocksizes.length;++o)n.uint32(32).uint64(t.blocksizes[o]);return t.hashType!=null&&Object.hasOwnProperty.call(t,"hashType")&&n.uint32(40).uint64(t.hashType),t.fanout!=null&&Object.hasOwnProperty.call(t,"fanout")&&n.uint32(48).uint64(t.fanout),t.mode!=null&&Object.hasOwnProperty.call(t,"mode")&&n.uint32(56).uint32(t.mode),t.mtime!=null&&Object.hasOwnProperty.call(t,"mtime")&&$root.UnixTime.encode(t.mtime,n.uint32(66).fork()).ldelim(),n},r.decode=function(t,n){t instanceof $Reader||(t=$Reader.create(t));for(var o=n===void 0?t.len:t.pos+n,a=new $root.Data;t.pos<o;){var c=t.uint32();switch(c>>>3){case 1:a.Type=t.int32();break;case 2:a.Data=t.bytes();break;case 3:a.filesize=t.uint64();break;case 4:if(a.blocksizes&&a.blocksizes.length||(a.blocksizes=[]),(c&7)==2)for(var s=t.uint32()+t.pos;t.pos<s;)a.blocksizes.push(t.uint64());else a.blocksizes.push(t.uint64());break;case 5:a.hashType=t.uint64();break;case 6:a.fanout=t.uint64();break;case 7:a.mode=t.uint32();break;case 8:a.mtime=$root.UnixTime.decode(t,t.uint32());break;default:t.skipType(c&7);break}}if(!a.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:a});return a},r.fromObject=function(t){if(t instanceof $root.Data)return t;var n=new $root.Data;switch(t.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(t.Data!=null&&(typeof t.Data=="string"?$util.base64.decode(t.Data,n.Data=$util.newBuffer($util.base64.length(t.Data)),0):t.Data.length&&(n.Data=t.Data)),t.filesize!=null&&($util.Long?(n.filesize=$util.Long.fromValue(t.filesize)).unsigned=!0:typeof t.filesize=="string"?n.filesize=parseInt(t.filesize,10):typeof t.filesize=="number"?n.filesize=t.filesize:typeof t.filesize=="object"&&(n.filesize=new $util.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0))),t.blocksizes){if(!Array.isArray(t.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var o=0;o<t.blocksizes.length;++o)$util.Long?(n.blocksizes[o]=$util.Long.fromValue(t.blocksizes[o])).unsigned=!0:typeof t.blocksizes[o]=="string"?n.blocksizes[o]=parseInt(t.blocksizes[o],10):typeof t.blocksizes[o]=="number"?n.blocksizes[o]=t.blocksizes[o]:typeof t.blocksizes[o]=="object"&&(n.blocksizes[o]=new $util.LongBits(t.blocksizes[o].low>>>0,t.blocksizes[o].high>>>0).toNumber(!0))}if(t.hashType!=null&&($util.Long?(n.hashType=$util.Long.fromValue(t.hashType)).unsigned=!0:typeof t.hashType=="string"?n.hashType=parseInt(t.hashType,10):typeof t.hashType=="number"?n.hashType=t.hashType:typeof t.hashType=="object"&&(n.hashType=new $util.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0))),t.fanout!=null&&($util.Long?(n.fanout=$util.Long.fromValue(t.fanout)).unsigned=!0:typeof t.fanout=="string"?n.fanout=parseInt(t.fanout,10):typeof t.fanout=="number"?n.fanout=t.fanout:typeof t.fanout=="object"&&(n.fanout=new $util.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0))),t.mode!=null&&(n.mode=t.mode>>>0),t.mtime!=null){if(typeof t.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=$root.UnixTime.fromObject(t.mtime)}return n},r.toObject=function(t,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.blocksizes=[]),n.defaults){if(o.Type=n.enums===String?"Raw":0,n.bytes===String?o.Data="":(o.Data=[],n.bytes!==Array&&(o.Data=$util.newBuffer(o.Data))),$util.Long){var a=new $util.Long(0,0,!0);o.filesize=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else o.filesize=n.longs===String?"0":0;if($util.Long){var a=new $util.Long(0,0,!0);o.hashType=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else o.hashType=n.longs===String?"0":0;if($util.Long){var a=new $util.Long(0,0,!0);o.fanout=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else o.fanout=n.longs===String?"0":0;o.mode=0,o.mtime=null}if(t.Type!=null&&t.hasOwnProperty("Type")&&(o.Type=n.enums===String?$root.Data.DataType[t.Type]:t.Type),t.Data!=null&&t.hasOwnProperty("Data")&&(o.Data=n.bytes===String?$util.base64.encode(t.Data,0,t.Data.length):n.bytes===Array?Array.prototype.slice.call(t.Data):t.Data),t.filesize!=null&&t.hasOwnProperty("filesize")&&(typeof t.filesize=="number"?o.filesize=n.longs===String?String(t.filesize):t.filesize:o.filesize=n.longs===String?$util.Long.prototype.toString.call(t.filesize):n.longs===Number?new $util.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0):t.filesize),t.blocksizes&&t.blocksizes.length){o.blocksizes=[];for(var c=0;c<t.blocksizes.length;++c)typeof t.blocksizes[c]=="number"?o.blocksizes[c]=n.longs===String?String(t.blocksizes[c]):t.blocksizes[c]:o.blocksizes[c]=n.longs===String?$util.Long.prototype.toString.call(t.blocksizes[c]):n.longs===Number?new $util.LongBits(t.blocksizes[c].low>>>0,t.blocksizes[c].high>>>0).toNumber(!0):t.blocksizes[c]}return t.hashType!=null&&t.hasOwnProperty("hashType")&&(typeof t.hashType=="number"?o.hashType=n.longs===String?String(t.hashType):t.hashType:o.hashType=n.longs===String?$util.Long.prototype.toString.call(t.hashType):n.longs===Number?new $util.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0):t.hashType),t.fanout!=null&&t.hasOwnProperty("fanout")&&(typeof t.fanout=="number"?o.fanout=n.longs===String?String(t.fanout):t.fanout:o.fanout=n.longs===String?$util.Long.prototype.toString.call(t.fanout):n.longs===Number?new $util.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0):t.fanout),t.mode!=null&&t.hasOwnProperty("mode")&&(o.mode=t.mode),t.mtime!=null&&t.hasOwnProperty("mtime")&&(o.mtime=$root.UnixTime.toObject(t.mtime,n)),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},r.DataType=function(){const e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),r})();$root.UnixTime=(()=>{function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,r.prototype.FractionalNanoseconds=0,r.encode=function(t,n){return n||(n=$Writer.create()),n.uint32(8).int64(t.Seconds),t.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(t,"FractionalNanoseconds")&&n.uint32(21).fixed32(t.FractionalNanoseconds),n},r.decode=function(t,n){t instanceof $Reader||(t=$Reader.create(t));for(var o=n===void 0?t.len:t.pos+n,a=new $root.UnixTime;t.pos<o;){var c=t.uint32();switch(c>>>3){case 1:a.Seconds=t.int64();break;case 2:a.FractionalNanoseconds=t.fixed32();break;default:t.skipType(c&7);break}}if(!a.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:a});return a},r.fromObject=function(t){if(t instanceof $root.UnixTime)return t;var n=new $root.UnixTime;return t.Seconds!=null&&($util.Long?(n.Seconds=$util.Long.fromValue(t.Seconds)).unsigned=!1:typeof t.Seconds=="string"?n.Seconds=parseInt(t.Seconds,10):typeof t.Seconds=="number"?n.Seconds=t.Seconds:typeof t.Seconds=="object"&&(n.Seconds=new $util.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber())),t.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=t.FractionalNanoseconds>>>0),n},r.toObject=function(t,n){n||(n={});var o={};if(n.defaults){if($util.Long){var a=new $util.Long(0,0,!1);o.Seconds=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else o.Seconds=n.longs===String?"0":0;o.FractionalNanoseconds=0}return t.Seconds!=null&&t.hasOwnProperty("Seconds")&&(typeof t.Seconds=="number"?o.Seconds=n.longs===String?String(t.Seconds):t.Seconds:o.Seconds=n.longs===String?$util.Long.prototype.toString.call(t.Seconds):n.longs===Number?new $util.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber():t.Seconds),t.FractionalNanoseconds!=null&&t.hasOwnProperty("FractionalNanoseconds")&&(o.FractionalNanoseconds=t.FractionalNanoseconds),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},r})();$root.Metadata=(()=>{function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.MimeType="",r.encode=function(t,n){return n||(n=$Writer.create()),t.MimeType!=null&&Object.hasOwnProperty.call(t,"MimeType")&&n.uint32(10).string(t.MimeType),n},r.decode=function(t,n){t instanceof $Reader||(t=$Reader.create(t));for(var o=n===void 0?t.len:t.pos+n,a=new $root.Metadata;t.pos<o;){var c=t.uint32();switch(c>>>3){case 1:a.MimeType=t.string();break;default:t.skipType(c&7);break}}return a},r.fromObject=function(t){if(t instanceof $root.Metadata)return t;var n=new $root.Metadata;return t.MimeType!=null&&(n.MimeType=String(t.MimeType)),n},r.toObject=function(t,n){n||(n={});var o={};return n.defaults&&(o.MimeType=""),t.MimeType!=null&&t.hasOwnProperty("MimeType")&&(o.MimeType=t.MimeType),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},r})();const PBData=Data,types=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],dirTypes=["directory","hamt-sharded-directory"],DEFAULT_FILE_MODE=parseInt("0644",8),DEFAULT_DIRECTORY_MODE=parseInt("0755",8);function parseMode$1(r){if(r!=null)return typeof r=="number"?r&4095:(r=r.toString(),r.substring(0,1)==="0"?parseInt(r,8)&4095:parseInt(r,10)&4095)}function parseMtime$1(r){if(r==null)return;let e;if(r.secs!=null&&(e={secs:r.secs,nsecs:r.nsecs}),r.Seconds!=null&&(e={secs:r.Seconds,nsecs:r.FractionalNanoseconds}),Array.isArray(r)&&(e={secs:r[0],nsecs:r[1]}),r instanceof Date){const t=r.getTime(),n=Math.floor(t/1e3);e={secs:n,nsecs:(t-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw errCode$3(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}class UnixFS{static unmarshal(e){const t=PBData.decode(e),n=PBData.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}),o=new UnixFS({type:types[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return o._originalMode=n.mode||0,o}constructor(e={type:"file"}){const{type:t,data:n,blockSizes:o,hashType:a,fanout:c,mtime:s,mode:d}=e;if(t&&!types.includes(t))throw errCode$3(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t||"file",this.data=n,this.hashType=a,this.fanout=c,this.blockSizes=o||[],this._originalMode=0,this.mode=parseMode$1(d),s&&(this.mtime=parseMtime$1(s),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?DEFAULT_DIRECTORY_MODE:DEFAULT_FILE_MODE;const t=parseMode$1(e);t!==void 0&&(this._mode=t)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&dirTypes.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach(t=>{e+=t}),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=PBData.DataType.Raw;break;case"directory":e=PBData.DataType.Directory;break;case"file":e=PBData.DataType.File;break;case"metadata":e=PBData.DataType.Metadata;break;case"symlink":e=PBData.DataType.Symlink;break;case"hamt-sharded-directory":e=PBData.DataType.HAMTShard;break;default:throw errCode$3(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t=this.data;(!this.data||!this.data.length)&&(t=void 0);let n;this.mode!=null&&(n=this._originalMode&4294963200|(parseMode$1(this.mode)||0),n===DEFAULT_FILE_MODE&&!this.isDirectory()&&(n=void 0),n===DEFAULT_DIRECTORY_MODE&&this.isDirectory()&&(n=void 0));let o;if(this.mtime!=null){const c=parseMtime$1(this.mtime);c&&(o={Seconds:c.secs,FractionalNanoseconds:c.nsecs},o.FractionalNanoseconds===0&&delete o.FractionalNanoseconds)}const a={Type:e,Data:t,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:n,mtime:o};return PBData.encode(a).finish()}}var src$3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",parseMode:parseMode$1,parseMtime:parseMtime$1,UnixFS});const textDecoder=new TextDecoder;function decodeVarint(r,e){let t=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(e>=r.length)throw new Error("protobuf: unexpected end of data");const o=r[e++];if(t+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[t,e]}function decodeBytes(r,e){let t;[t,e]=decodeVarint(r,e);const n=e+t;if(t<0||n<0)throw new Error("protobuf: invalid length");if(n>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(e,n),n]}function decodeKey(r,e){let t;return[t,e]=decodeVarint(r,e),[t&7,t>>3,e]}function decodeLink(r){const e={},t=r.length;let n=0;for(;n<t;){let o,a;if([o,a,n]=decodeKey(r,n),a===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,n]=decodeBytes(r,n)}else if(a===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let c;[c,n]=decodeBytes(r,n),e.Name=textDecoder.decode(c)}else if(a===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[e.Tsize,n]=decodeVarint(r,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${a}`)}if(n>t)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function decodeNode(r){const e=r.length;let t=0,n,o=!1,a;for(;t<e;){let s,d;if([s,d,t]=decodeKey(r,t),s!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${s}`);if(d===1){if(a)throw new Error("protobuf: (PBNode) duplicate Data section");[a,t]=decodeBytes(r,t),n&&(o=!0)}else if(d===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let u;[u,t]=decodeBytes(r,t),n.push(decodeLink(u))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${d}`)}if(t>e)throw new Error("protobuf: (PBNode) unexpected end of data");const c={};return a&&(c.Data=a),c.Links=n||[],c}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(r,e){let t=e.length;if(typeof r.Tsize=="number"){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");t=encodeVarint(e,t,r.Tsize)-1,e[t]=24}if(typeof r.Name=="string"){const n=textEncoder$1.encode(r.Name);t-=n.length,e.set(n,t),t=encodeVarint(e,t,n.length)-1,e[t]=18}return r.Hash&&(t-=r.Hash.length,e.set(r.Hash,t),t=encodeVarint(e,t,r.Hash.length)-1,e[t]=10),e.length-t}function encodeNode(r){const e=sizeNode(r),t=new Uint8Array(e);let n=e;if(r.Data&&(n-=r.Data.length,t.set(r.Data,n),n=encodeVarint(t,n,r.Data.length)-1,t[n]=10),r.Links)for(let o=r.Links.length-1;o>=0;o--){const a=encodeLink(r.Links[o],t.subarray(0,n));n-=a,n=encodeVarint(t,n,a)-1,t[n]=18}return t}function sizeLink(r){let e=0;if(r.Hash){const t=r.Hash.length;e+=1+t+sov(t)}if(typeof r.Name=="string"){const t=textEncoder$1.encode(r.Name).length;e+=1+t+sov(t)}return typeof r.Tsize=="number"&&(e+=1+sov(r.Tsize)),e}function sizeNode(r){let e=0;if(r.Data){const t=r.Data.length;e+=1+t+sov(t)}if(r.Links)for(const t of r.Links){const n=sizeLink(t);e+=1+n+sov(n)}return e}function encodeVarint(r,e,t){e-=sov(t);const n=e;for(;t>=maxUInt32;)r[e++]=t&127|128,t/=128;for(;t>=128;)r[e++]=t&127|128,t>>>=7;return r[e]=t,n}function sov(r){return r%2==0&&r++,Math.floor((len64(r)+6)/7)}function len64(r){let e=0;return r>=maxInt32&&(r=Math.floor(r/maxInt32),e=32),r>=1<<16&&(r>>>=16,e+=16),r>=1<<8&&(r>>>=8,e+=8),e+len8tab[r]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(r,e){if(r===e)return 0;const t=r.Name?textEncoder.encode(r.Name):[],n=e.Name?textEncoder.encode(e.Name):[];let o=t.length,a=n.length;for(let c=0,s=Math.min(o,a);c<s;++c)if(t[c]!==n[c]){o=t[c],a=n[c];break}return o<a?-1:a<o?1:0}function hasOnlyProperties(r,e){return!Object.keys(r).some(t=>!e.includes(t))}function asLink(r){if(typeof r.asCID=="object"){const t=CID$1.asCID(r);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if(typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const e={};if(r.Hash){let t=CID$1.asCID(r.Hash);try{t||(typeof r.Hash=="string"?t=CID$1.parse(r.Hash):r.Hash instanceof Uint8Array&&(t=CID$1.decode(r.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}t&&(e.Hash=t)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof r.Name=="string"&&(e.Name=r.Name),typeof r.Tsize=="number"&&(e.Tsize=r.Tsize),e}function prepare(r){if((r instanceof Uint8Array||typeof r=="string")&&(r={Data:r}),typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const e={};if(r.Data!==void 0)if(typeof r.Data=="string")e.Data=textEncoder.encode(r.Data);else if(r.Data instanceof Uint8Array)e.Data=r.Data;else throw new TypeError("Invalid DAG-PB form");if(r.Links!==void 0)if(Array.isArray(r.Links))e.Links=r.Links.map(asLink),e.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function validate$1(r){if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(r,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(r.Data!==void 0&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let e=0;e<r.Links.length;e++){const t=r.Links[e];if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(t,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!t.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(t.Hash.asCID!==t.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(t.Name!==void 0&&typeof t.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(t.Tsize!==void 0&&(typeof t.Tsize!="number"||t.Tsize%1!=0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(e>0&&linkComparator(t,r.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(r,e=[]){return prepare({Data:r,Links:e})}function createLink(r,e,t){return asLink({Hash:t,Name:r,Tsize:e})}const name$2="dag-pb",code$3=112;function encode$2(r){validate$1(r);const e={};return r.Links&&(e.Links=r.Links.map(t=>{const n={};return t.Hash&&(n.Hash=t.Hash.bytes),t.Name!==void 0&&(n.Name=t.Name),t.Tsize!==void 0&&(n.Tsize=t.Tsize),n})),r.Data&&(e.Data=r.Data),encodeNode(e)}function decode$2(r){const e=decodeNode(r),t={};return e.Data&&(t.Data=e.Data),e.Links&&(t.Links=e.Links.map(n=>{const o={};try{o.Hash=CID$1.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),t}var pb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",name:name$2,code:code$3,encode:encode$2,decode:decode$2,prepare,validate:validate$1,createNode,createLink});const persist=async(r,e,t)=>{t.codec||(t.codec=pb),t.hasher||(t.hasher=sha256$1),t.cidVersion===void 0&&(t.cidVersion=1),t.codec===pb&&t.hasher!==sha256$1&&(t.cidVersion=1);const n=await t.hasher.digest(r),o=CID$1.create(t.cidVersion,t.codec.code,n);return t.onlyHash||await e.put(o,r,{signal:t.signal}),o},dirBuilder=async(r,e,t)=>{const n=new UnixFS({type:"directory",mtime:r.mtime,mode:r.mode}),o=encode$2(prepare({Data:n.marshal()})),a=await persist(o,e,t),c=r.path;return{cid:a,path:c,unixfs:n,size:o.length}},name$1="raw",code$2=85,encode$1=r=>coerce(r),decode$1=r=>coerce(r);var raw$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",name:name$1,code:code$2,encode:encode$1,decode:decode$1});const all$2=async r=>{const e=[];for await(const t of r)e.push(t);return e};var itAll=all$2;async function flat(r,e){return e(await itAll(r))}function balanced(r,e,t){return reduceToParents(r,e,t)}async function reduceToParents(r,e,t){const n=[];for await(const o of itBatch(r,t.maxChildrenPerNode))n.push(await e(o));return n.length>1?reduceToParents(n,e,t):n[0]}async function trickleStream(r,e,t){const n=new Root(t.layerRepeat);let o=0,a=1,c=n;for await(const s of itBatch(r,t.maxChildrenPerNode))c.isFull()&&(c!==n&&n.addChild(await c.reduce(e)),o&&o%t.layerRepeat==0&&a++,c=new SubTree(a,t.layerRepeat,o),o++),c.append(s);return c&&c!==n&&n.addChild(await c.reduce(e)),n.reduce(e)}class SubTree{constructor(e,t,n=0){this.maxDepth=e,this.layerRepeat=t,this.currentDepth=1,this.iteration=n,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const e=this._findParent(this.node,this.currentDepth);return e?(this._addNextNodeToParent(e),!1):!0}_addNextNodeToParent(e){this.parent=e;const t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,t){let n=[];return e.children.length&&(n=await Promise.all(e.children.filter(o=>o.data).map(o=>this._reduce(o,t)))),t((e.data||[]).concat(n))}_findParent(e,t){const n=e.parent;if(!(!n||n.depth===0))return n.children.length===n.maxChildren||!n.maxChildren?this._findParent(n,t):n}}class Root extends SubTree{constructor(e){super(0,e);this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e((this.root.data||[]).concat(this.root.children))}}async function*bufferImporter(r,e,t){for await(let n of r.content)yield async()=>{t.progress(n.length,r.path);let o;const a={codec:pb,cidVersion:t.cidVersion,hasher:t.hasher,onlyHash:t.onlyHash};return t.rawLeaves?(a.codec=raw$1,a.cidVersion=1):(o=new UnixFS({type:t.leafType,data:n,mtime:r.mtime,mode:r.mode}),n=encode$2({Data:o.marshal(),Links:[]})),{cid:await persist(n,e,a),unixfs:o,size:n.length}}}const dagBuilders={flat,balanced,trickle:trickleStream};async function*buildFileBatch(r,e,t){let n=-1,o,a;typeof t.bufferImporter=="function"?a=t.bufferImporter:a=bufferImporter;for await(const c of itParallelBatch(a(r,e,t),t.blockWriteConcurrency)){if(n++,n===0){o=c;continue}else n===1&&o&&(yield o,o=null);yield c}o&&(o.single=!0,yield o)}const reduce=(r,e,t)=>{async function n(o){if(o.length===1&&o[0].single&&t.reduceSingleLeafToSelf){const h=o[0];if(h.cid.code===code$2&&(r.mtime!==void 0||r.mode!==void 0)){let m=await e.get(h.cid);h.unixfs=new UnixFS({type:"file",mtime:r.mtime,mode:r.mode,data:m}),m=encode$2(prepare({Data:h.unixfs.marshal()})),h.cid=await persist(m,e,Be(ie({},t),{codec:pb,hasher:t.hasher,cidVersion:t.cidVersion})),h.size=m.length}return{cid:h.cid,path:r.path,unixfs:h.unixfs,size:h.size}}const a=new UnixFS({type:"file",mtime:r.mtime,mode:r.mode}),c=o.filter(h=>h.cid.code===code$2&&h.size||h.unixfs&&!h.unixfs.data&&h.unixfs.fileSize()?!0:Boolean(h.unixfs&&h.unixfs.data&&h.unixfs.data.length)).map(h=>h.cid.code===code$2?(a.addBlockSize(h.size),{Name:"",Tsize:h.size,Hash:h.cid}):(!h.unixfs||!h.unixfs.data?a.addBlockSize(h.unixfs&&h.unixfs.fileSize()||0):a.addBlockSize(h.unixfs.data.length),{Name:"",Tsize:h.size,Hash:h.cid})),s={Data:a.marshal(),Links:c},d=encode$2(prepare(s));return{cid:await persist(d,e,t),path:r.path,unixfs:a,size:d.length+s.Links.reduce((h,m)=>h+m.Tsize,0)}}return n};function fileBuilder(r,e,t){const n=dagBuilders[t.strategy];if(!n)throw errCode$3(new Error(`Unknown importer build strategy name: ${t.strategy}`),"ERR_BAD_STRATEGY");return n(buildFileBatch(r,e,t),reduce(r,e,t),t)}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code$1.length;i$1<len;++i$1)lookup[i$1]=code$1[i$1],revLookup[code$1.charCodeAt(i$1)]=i$1;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function byteLength(r){var e=getLens(r),t=e[0],n=e[1];return(t+n)*3/4-n}function _byteLength(r,e,t){return(e+t)*3/4-t}function toByteArray(r){var e,t=getLens(r),n=t[0],o=t[1],a=new Arr(_byteLength(r,n,o)),c=0,s=o>0?n-4:n,d;for(d=0;d<s;d+=4)e=revLookup[r.charCodeAt(d)]<<18|revLookup[r.charCodeAt(d+1)]<<12|revLookup[r.charCodeAt(d+2)]<<6|revLookup[r.charCodeAt(d+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=e&255;return o===2&&(e=revLookup[r.charCodeAt(d)]<<2|revLookup[r.charCodeAt(d+1)]>>4,a[c++]=e&255),o===1&&(e=revLookup[r.charCodeAt(d)]<<10|revLookup[r.charCodeAt(d+1)]<<4|revLookup[r.charCodeAt(d+2)]>>2,a[c++]=e>>8&255,a[c++]=e&255),a}function tripletToBase64(r){return lookup[r>>18&63]+lookup[r>>12&63]+lookup[r>>6&63]+lookup[r&63]}function encodeChunk(r,e,t){for(var n,o=[],a=e;a<t;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(r[a+2]&255),o.push(tripletToBase64(n));return o.join("")}function fromByteArray(r){for(var e,t=r.length,n=t%3,o=[],a=16383,c=0,s=t-n;c<s;c+=a)o.push(encodeChunk(r,c,c+a>s?s:c+a));return n===1?(e=r[t-1],o.push(lookup[e>>2]+lookup[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],o.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),o.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(r,e,t,n,o){var a,c,s=o*8-n-1,d=(1<<s)-1,u=d>>1,h=-7,m=t?o-1:0,y=t?-1:1,g=r[e+m];for(m+=y,a=g&(1<<-h)-1,g>>=-h,h+=s;h>0;a=a*256+r[e+m],m+=y,h-=8);for(c=a&(1<<-h)-1,a>>=-h,h+=n;h>0;c=c*256+r[e+m],m+=y,h-=8);if(a===0)a=1-u;else{if(a===d)return c?NaN:(g?-1:1)*(1/0);c=c+Math.pow(2,n),a=a-u}return(g?-1:1)*c*Math.pow(2,a-n)};ieee754.write=function(r,e,t,n,o,a){var c,s,d,u=a*8-o-1,h=(1<<u)-1,m=h>>1,y=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:a-1,b=n?1:-1,p=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,c=h):(c=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-c))<1&&(c--,d*=2),c+m>=1?e+=y/d:e+=y*Math.pow(2,1-m),e*d>=2&&(c++,d/=2),c+m>=h?(s=0,c=h):c+m>=1?(s=(e*d-1)*Math.pow(2,o),c=c+m):(s=e*Math.pow(2,m-1)*Math.pow(2,o),c=0));o>=8;r[t+g]=s&255,g+=b,s/=256,o-=8);for(c=c<<o|s,u+=o;u>0;r[t+g]=c&255,g+=b,c/=256,u-=8);r[t+g-b]|=p*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=base64Js,t=ieee754,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=s,r.SlowBuffer=E,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const x=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(x,f),x.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function c(x){if(x>o)throw new RangeError('The value "'+x+'" is invalid for option "size"');const f=new Uint8Array(x);return Object.setPrototypeOf(f,s.prototype),f}function s(x,f,l){if(typeof x=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(x)}return d(x,f,l)}s.poolSize=8192;function d(x,f,l){if(typeof x=="string")return y(x,f);if(ArrayBuffer.isView(x))return b(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(ne(x,ArrayBuffer)||x&&ne(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ne(x,SharedArrayBuffer)||x&&ne(x.buffer,SharedArrayBuffer)))return p(x,f,l);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const v=x.valueOf&&x.valueOf();if(v!=null&&v!==x)return s.from(v,f,l);const C=_(x);if(C)return C;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return s.from(x[Symbol.toPrimitive]("string"),f,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}s.from=function(x,f,l){return d(x,f,l)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function u(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function h(x,f,l){return u(x),x<=0?c(x):f!==void 0?typeof l=="string"?c(x).fill(f,l):c(x).fill(f):c(x)}s.alloc=function(x,f,l){return h(x,f,l)};function m(x){return u(x),c(x<0?0:T(x)|0)}s.allocUnsafe=function(x){return m(x)},s.allocUnsafeSlow=function(x){return m(x)};function y(x,f){if((typeof f!="string"||f==="")&&(f="utf8"),!s.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const l=w(x,f)|0;let v=c(l);const C=v.write(x,f);return C!==l&&(v=v.slice(0,C)),v}function g(x){const f=x.length<0?0:T(x.length)|0,l=c(f);for(let v=0;v<f;v+=1)l[v]=x[v]&255;return l}function b(x){if(ne(x,Uint8Array)){const f=new Uint8Array(x);return p(f.buffer,f.byteOffset,f.byteLength)}return g(x)}function p(x,f,l){if(f<0||x.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<f+(l||0))throw new RangeError('"length" is outside of buffer bounds');let v;return f===void 0&&l===void 0?v=new Uint8Array(x):l===void 0?v=new Uint8Array(x,f):v=new Uint8Array(x,f,l),Object.setPrototypeOf(v,s.prototype),v}function _(x){if(s.isBuffer(x)){const f=T(x.length)|0,l=c(f);return l.length===0||x.copy(l,0,0,f),l}if(x.length!==void 0)return typeof x.length!="number"||ue(x.length)?c(0):g(x);if(x.type==="Buffer"&&Array.isArray(x.data))return g(x.data)}function T(x){if(x>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return x|0}function E(x){return+x!=x&&(x=0),s.alloc(+x)}s.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==s.prototype},s.compare=function(f,l){if(ne(f,Uint8Array)&&(f=s.from(f,f.offset,f.byteLength)),ne(l,Uint8Array)&&(l=s.from(l,l.offset,l.byteLength)),!s.isBuffer(f)||!s.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===l)return 0;let v=f.length,C=l.length;for(let O=0,N=Math.min(v,C);O<N;++O)if(f[O]!==l[O]){v=f[O],C=l[O];break}return v<C?-1:C<v?1:0},s.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(f,l){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return s.alloc(0);let v;if(l===void 0)for(l=0,v=0;v<f.length;++v)l+=f[v].length;const C=s.allocUnsafe(l);let O=0;for(v=0;v<f.length;++v){let N=f[v];if(ne(N,Uint8Array))O+N.length>C.length?(s.isBuffer(N)||(N=s.from(N)),N.copy(C,O)):Uint8Array.prototype.set.call(C,N,O);else if(s.isBuffer(N))N.copy(C,O);else throw new TypeError('"list" argument must be an Array of Buffers');O+=N.length}return C};function w(x,f){if(s.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||ne(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);const l=x.length,v=arguments.length>2&&arguments[2]===!0;if(!v&&l===0)return 0;let C=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return ye(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return xe(x).length;default:if(C)return v?-1:ye(x).length;f=(""+f).toLowerCase(),C=!0}}s.byteLength=w;function B(x,f,l){let v=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,f>>>=0,l<=f))return"";for(x||(x="utf8");;)switch(x){case"hex":return Z(this,f,l);case"utf8":case"utf-8":return M(this,f,l);case"ascii":return Q(this,f,l);case"latin1":case"binary":return q(this,f,l);case"base64":return P(this,f,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,f,l);default:if(v)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),v=!0}}s.prototype._isBuffer=!0;function k(x,f,l){const v=x[f];x[f]=x[l],x[l]=v}s.prototype.swap16=function(){const f=this.length;if(f%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<f;l+=2)k(this,l,l+1);return this},s.prototype.swap32=function(){const f=this.length;if(f%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<f;l+=4)k(this,l,l+3),k(this,l+1,l+2);return this},s.prototype.swap64=function(){const f=this.length;if(f%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<f;l+=8)k(this,l,l+7),k(this,l+1,l+6),k(this,l+2,l+5),k(this,l+3,l+4);return this},s.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?M(this,0,f):B.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(f){if(!s.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:s.compare(this,f)===0},s.prototype.inspect=function(){let f="";const l=r.INSPECT_MAX_BYTES;return f=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(f+=" ... "),"<Buffer "+f+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(f,l,v,C,O){if(ne(f,Uint8Array)&&(f=s.from(f,f.offset,f.byteLength)),!s.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(l===void 0&&(l=0),v===void 0&&(v=f?f.length:0),C===void 0&&(C=0),O===void 0&&(O=this.length),l<0||v>f.length||C<0||O>this.length)throw new RangeError("out of range index");if(C>=O&&l>=v)return 0;if(C>=O)return-1;if(l>=v)return 1;if(l>>>=0,v>>>=0,C>>>=0,O>>>=0,this===f)return 0;let N=O-C,V=v-l;const te=Math.min(N,V),ee=this.slice(C,O),re=f.slice(l,v);for(let X=0;X<te;++X)if(ee[X]!==re[X]){N=ee[X],V=re[X];break}return N<V?-1:V<N?1:0};function A(x,f,l,v,C){if(x.length===0)return-1;if(typeof l=="string"?(v=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,ue(l)&&(l=C?0:x.length-1),l<0&&(l=x.length+l),l>=x.length){if(C)return-1;l=x.length-1}else if(l<0)if(C)l=0;else return-1;if(typeof f=="string"&&(f=s.from(f,v)),s.isBuffer(f))return f.length===0?-1:$(x,f,l,v,C);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?C?Uint8Array.prototype.indexOf.call(x,f,l):Uint8Array.prototype.lastIndexOf.call(x,f,l):$(x,[f],l,v,C);throw new TypeError("val must be string, number or Buffer")}function $(x,f,l,v,C){let O=1,N=x.length,V=f.length;if(v!==void 0&&(v=String(v).toLowerCase(),v==="ucs2"||v==="ucs-2"||v==="utf16le"||v==="utf-16le")){if(x.length<2||f.length<2)return-1;O=2,N/=2,V/=2,l/=2}function te(re,X){return O===1?re[X]:re.readUInt16BE(X*O)}let ee;if(C){let re=-1;for(ee=l;ee<N;ee++)if(te(x,ee)===te(f,re===-1?0:ee-re)){if(re===-1&&(re=ee),ee-re+1===V)return re*O}else re!==-1&&(ee-=ee-re),re=-1}else for(l+V>N&&(l=N-V),ee=l;ee>=0;ee--){let re=!0;for(let X=0;X<V;X++)if(te(x,ee+X)!==te(f,X)){re=!1;break}if(re)return ee}return-1}s.prototype.includes=function(f,l,v){return this.indexOf(f,l,v)!==-1},s.prototype.indexOf=function(f,l,v){return A(this,f,l,v,!0)},s.prototype.lastIndexOf=function(f,l,v){return A(this,f,l,v,!1)};function I(x,f,l,v){l=Number(l)||0;const C=x.length-l;v?(v=Number(v),v>C&&(v=C)):v=C;const O=f.length;v>O/2&&(v=O/2);let N;for(N=0;N<v;++N){const V=parseInt(f.substr(N*2,2),16);if(ue(V))return N;x[l+N]=V}return N}function D(x,f,l,v){return ce(ye(f,x.length-l),x,l,v)}function S(x,f,l,v){return ce(be(f),x,l,v)}function R(x,f,l,v){return ce(xe(f),x,l,v)}function U(x,f,l,v){return ce(ke(f,x.length-l),x,l,v)}s.prototype.write=function(f,l,v,C){if(l===void 0)C="utf8",v=this.length,l=0;else if(v===void 0&&typeof l=="string")C=l,v=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(v)?(v=v>>>0,C===void 0&&(C="utf8")):(C=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const O=this.length-l;if((v===void 0||v>O)&&(v=O),f.length>0&&(v<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let N=!1;for(;;)switch(C){case"hex":return I(this,f,l,v);case"utf8":case"utf-8":return D(this,f,l,v);case"ascii":case"latin1":case"binary":return S(this,f,l,v);case"base64":return R(this,f,l,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,f,l,v);default:if(N)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),N=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(x,f,l){return f===0&&l===x.length?e.fromByteArray(x):e.fromByteArray(x.slice(f,l))}function M(x,f,l){l=Math.min(x.length,l);const v=[];let C=f;for(;C<l;){const O=x[C];let N=null,V=O>239?4:O>223?3:O>191?2:1;if(C+V<=l){let te,ee,re,X;switch(V){case 1:O<128&&(N=O);break;case 2:te=x[C+1],(te&192)==128&&(X=(O&31)<<6|te&63,X>127&&(N=X));break;case 3:te=x[C+1],ee=x[C+2],(te&192)==128&&(ee&192)==128&&(X=(O&15)<<12|(te&63)<<6|ee&63,X>2047&&(X<55296||X>57343)&&(N=X));break;case 4:te=x[C+1],ee=x[C+2],re=x[C+3],(te&192)==128&&(ee&192)==128&&(re&192)==128&&(X=(O&15)<<18|(te&63)<<12|(ee&63)<<6|re&63,X>65535&&X<1114112&&(N=X))}}N===null?(N=65533,V=1):N>65535&&(N-=65536,v.push(N>>>10&1023|55296),N=56320|N&1023),v.push(N),C+=V}return G(v)}const H=4096;function G(x){const f=x.length;if(f<=H)return String.fromCharCode.apply(String,x);let l="",v=0;for(;v<f;)l+=String.fromCharCode.apply(String,x.slice(v,v+=H));return l}function Q(x,f,l){let v="";l=Math.min(x.length,l);for(let C=f;C<l;++C)v+=String.fromCharCode(x[C]&127);return v}function q(x,f,l){let v="";l=Math.min(x.length,l);for(let C=f;C<l;++C)v+=String.fromCharCode(x[C]);return v}function Z(x,f,l){const v=x.length;(!f||f<0)&&(f=0),(!l||l<0||l>v)&&(l=v);let C="";for(let O=f;O<l;++O)C+=ve[x[O]];return C}function K(x,f,l){const v=x.slice(f,l);let C="";for(let O=0;O<v.length-1;O+=2)C+=String.fromCharCode(v[O]+v[O+1]*256);return C}s.prototype.slice=function(f,l){const v=this.length;f=~~f,l=l===void 0?v:~~l,f<0?(f+=v,f<0&&(f=0)):f>v&&(f=v),l<0?(l+=v,l<0&&(l=0)):l>v&&(l=v),l<f&&(l=f);const C=this.subarray(f,l);return Object.setPrototypeOf(C,s.prototype),C};function F(x,f,l){if(x%1!=0||x<0)throw new RangeError("offset is not uint");if(x+f>l)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(f,l,v){f=f>>>0,l=l>>>0,v||F(f,l,this.length);let C=this[f],O=1,N=0;for(;++N<l&&(O*=256);)C+=this[f+N]*O;return C},s.prototype.readUintBE=s.prototype.readUIntBE=function(f,l,v){f=f>>>0,l=l>>>0,v||F(f,l,this.length);let C=this[f+--l],O=1;for(;l>0&&(O*=256);)C+=this[f+--l]*O;return C},s.prototype.readUint8=s.prototype.readUInt8=function(f,l){return f=f>>>0,l||F(f,1,this.length),this[f]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(f,l){return f=f>>>0,l||F(f,2,this.length),this[f]|this[f+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(f,l){return f=f>>>0,l||F(f,2,this.length),this[f]<<8|this[f+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(f,l){return f=f>>>0,l||F(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(f,l){return f=f>>>0,l||F(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},s.prototype.readBigUInt64LE=le(function(f){f=f>>>0,ae(f,"offset");const l=this[f],v=this[f+7];(l===void 0||v===void 0)&&oe(f,this.length-8);const C=l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,O=this[++f]+this[++f]*2**8+this[++f]*2**16+v*2**24;return BigInt(C)+(BigInt(O)<<BigInt(32))}),s.prototype.readBigUInt64BE=le(function(f){f=f>>>0,ae(f,"offset");const l=this[f],v=this[f+7];(l===void 0||v===void 0)&&oe(f,this.length-8);const C=l*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],O=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+v;return(BigInt(C)<<BigInt(32))+BigInt(O)}),s.prototype.readIntLE=function(f,l,v){f=f>>>0,l=l>>>0,v||F(f,l,this.length);let C=this[f],O=1,N=0;for(;++N<l&&(O*=256);)C+=this[f+N]*O;return O*=128,C>=O&&(C-=Math.pow(2,8*l)),C},s.prototype.readIntBE=function(f,l,v){f=f>>>0,l=l>>>0,v||F(f,l,this.length);let C=l,O=1,N=this[f+--C];for(;C>0&&(O*=256);)N+=this[f+--C]*O;return O*=128,N>=O&&(N-=Math.pow(2,8*l)),N},s.prototype.readInt8=function(f,l){return f=f>>>0,l||F(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},s.prototype.readInt16LE=function(f,l){f=f>>>0,l||F(f,2,this.length);const v=this[f]|this[f+1]<<8;return v&32768?v|4294901760:v},s.prototype.readInt16BE=function(f,l){f=f>>>0,l||F(f,2,this.length);const v=this[f+1]|this[f]<<8;return v&32768?v|4294901760:v},s.prototype.readInt32LE=function(f,l){return f=f>>>0,l||F(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},s.prototype.readInt32BE=function(f,l){return f=f>>>0,l||F(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},s.prototype.readBigInt64LE=le(function(f){f=f>>>0,ae(f,"offset");const l=this[f],v=this[f+7];(l===void 0||v===void 0)&&oe(f,this.length-8);const C=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(v<<24);return(BigInt(C)<<BigInt(32))+BigInt(l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),s.prototype.readBigInt64BE=le(function(f){f=f>>>0,ae(f,"offset");const l=this[f],v=this[f+7];(l===void 0||v===void 0)&&oe(f,this.length-8);const C=(l<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(C)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+v)}),s.prototype.readFloatLE=function(f,l){return f=f>>>0,l||F(f,4,this.length),t.read(this,f,!0,23,4)},s.prototype.readFloatBE=function(f,l){return f=f>>>0,l||F(f,4,this.length),t.read(this,f,!1,23,4)},s.prototype.readDoubleLE=function(f,l){return f=f>>>0,l||F(f,8,this.length),t.read(this,f,!0,52,8)},s.prototype.readDoubleBE=function(f,l){return f=f>>>0,l||F(f,8,this.length),t.read(this,f,!1,52,8)};function L(x,f,l,v,C,O){if(!s.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>C||f<O)throw new RangeError('"value" argument is out of bounds');if(l+v>x.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(f,l,v,C){if(f=+f,l=l>>>0,v=v>>>0,!C){const V=Math.pow(2,8*v)-1;L(this,f,l,v,V,0)}let O=1,N=0;for(this[l]=f&255;++N<v&&(O*=256);)this[l+N]=f/O&255;return l+v},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(f,l,v,C){if(f=+f,l=l>>>0,v=v>>>0,!C){const V=Math.pow(2,8*v)-1;L(this,f,l,v,V,0)}let O=v-1,N=1;for(this[l+O]=f&255;--O>=0&&(N*=256);)this[l+O]=f/N&255;return l+v},s.prototype.writeUint8=s.prototype.writeUInt8=function(f,l,v){return f=+f,l=l>>>0,v||L(this,f,l,1,255,0),this[l]=f&255,l+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(f,l,v){return f=+f,l=l>>>0,v||L(this,f,l,2,65535,0),this[l]=f&255,this[l+1]=f>>>8,l+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(f,l,v){return f=+f,l=l>>>0,v||L(this,f,l,2,65535,0),this[l]=f>>>8,this[l+1]=f&255,l+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(f,l,v){return f=+f,l=l>>>0,v||L(this,f,l,4,4294967295,0),this[l+3]=f>>>24,this[l+2]=f>>>16,this[l+1]=f>>>8,this[l]=f&255,l+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(f,l,v){return f=+f,l=l>>>0,v||L(this,f,l,4,4294967295,0),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4};function j(x,f,l,v,C){pe(f,v,C,x,l,7);let O=Number(f&BigInt(4294967295));x[l++]=O,O=O>>8,x[l++]=O,O=O>>8,x[l++]=O,O=O>>8,x[l++]=O;let N=Number(f>>BigInt(32)&BigInt(4294967295));return x[l++]=N,N=N>>8,x[l++]=N,N=N>>8,x[l++]=N,N=N>>8,x[l++]=N,l}function z(x,f,l,v,C){pe(f,v,C,x,l,7);let O=Number(f&BigInt(4294967295));x[l+7]=O,O=O>>8,x[l+6]=O,O=O>>8,x[l+5]=O,O=O>>8,x[l+4]=O;let N=Number(f>>BigInt(32)&BigInt(4294967295));return x[l+3]=N,N=N>>8,x[l+2]=N,N=N>>8,x[l+1]=N,N=N>>8,x[l]=N,l+8}s.prototype.writeBigUInt64LE=le(function(f,l=0){return j(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=le(function(f,l=0){return z(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(f,l,v,C){if(f=+f,l=l>>>0,!C){const te=Math.pow(2,8*v-1);L(this,f,l,v,te-1,-te)}let O=0,N=1,V=0;for(this[l]=f&255;++O<v&&(N*=256);)f<0&&V===0&&this[l+O-1]!==0&&(V=1),this[l+O]=(f/N>>0)-V&255;return l+v},s.prototype.writeIntBE=function(f,l,v,C){if(f=+f,l=l>>>0,!C){const te=Math.pow(2,8*v-1);L(this,f,l,v,te-1,-te)}let O=v-1,N=1,V=0;for(this[l+O]=f&255;--O>=0&&(N*=256);)f<0&&V===0&&this[l+O+1]!==0&&(V=1),this[l+O]=(f/N>>0)-V&255;return l+v},s.prototype.writeInt8=function(f,l,v){return f=+f,l=l>>>0,v||L(this,f,l,1,127,-128),f<0&&(f=255+f+1),this[l]=f&255,l+1},s.prototype.writeInt16LE=function(f,l,v){return f=+f,l=l>>>0,v||L(this,f,l,2,32767,-32768),this[l]=f&255,this[l+1]=f>>>8,l+2},s.prototype.writeInt16BE=function(f,l,v){return f=+f,l=l>>>0,v||L(this,f,l,2,32767,-32768),this[l]=f>>>8,this[l+1]=f&255,l+2},s.prototype.writeInt32LE=function(f,l,v){return f=+f,l=l>>>0,v||L(this,f,l,4,2147483647,-2147483648),this[l]=f&255,this[l+1]=f>>>8,this[l+2]=f>>>16,this[l+3]=f>>>24,l+4},s.prototype.writeInt32BE=function(f,l,v){return f=+f,l=l>>>0,v||L(this,f,l,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4},s.prototype.writeBigInt64LE=le(function(f,l=0){return j(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=le(function(f,l=0){return z(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J(x,f,l,v,C,O){if(l+v>x.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function Y(x,f,l,v,C){return f=+f,l=l>>>0,C||J(x,f,l,4),t.write(x,f,l,v,23,4),l+4}s.prototype.writeFloatLE=function(f,l,v){return Y(this,f,l,!0,v)},s.prototype.writeFloatBE=function(f,l,v){return Y(this,f,l,!1,v)};function se(x,f,l,v,C){return f=+f,l=l>>>0,C||J(x,f,l,8),t.write(x,f,l,v,52,8),l+8}s.prototype.writeDoubleLE=function(f,l,v){return se(this,f,l,!0,v)},s.prototype.writeDoubleBE=function(f,l,v){return se(this,f,l,!1,v)},s.prototype.copy=function(f,l,v,C){if(!s.isBuffer(f))throw new TypeError("argument should be a Buffer");if(v||(v=0),!C&&C!==0&&(C=this.length),l>=f.length&&(l=f.length),l||(l=0),C>0&&C<v&&(C=v),C===v||f.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),f.length-l<C-v&&(C=f.length-l+v);const O=C-v;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,v,C):Uint8Array.prototype.set.call(f,this.subarray(v,C),l),O},s.prototype.fill=function(f,l,v,C){if(typeof f=="string"){if(typeof l=="string"?(C=l,l=0,v=this.length):typeof v=="string"&&(C=v,v=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!s.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(f.length===1){const N=f.charCodeAt(0);(C==="utf8"&&N<128||C==="latin1")&&(f=N)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(l<0||this.length<l||this.length<v)throw new RangeError("Out of range index");if(v<=l)return this;l=l>>>0,v=v===void 0?this.length:v>>>0,f||(f=0);let O;if(typeof f=="number")for(O=l;O<v;++O)this[O]=f;else{const N=s.isBuffer(f)?f:s.from(f,C),V=N.length;if(V===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(O=0;O<v-l;++O)this[O+l]=N[O%V]}return this};const W={};function he(x,f,l){W[x]=class extends l{constructor(){super();Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(x,f){return`The "${x}" argument must be of type number. Received type ${typeof f}`},TypeError),he("ERR_OUT_OF_RANGE",function(x,f,l){let v=`The value of "${x}" is out of range.`,C=l;return Number.isInteger(l)&&Math.abs(l)>2**32?C=de(String(l)):typeof l=="bigint"&&(C=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(C=de(C)),C+="n"),v+=` It must be ${f}. Received ${C}`,v},RangeError);function de(x){let f="",l=x.length;const v=x[0]==="-"?1:0;for(;l>=v+4;l-=3)f=`_${x.slice(l-3,l)}${f}`;return`${x.slice(0,l)}${f}`}function Ee(x,f,l){ae(f,"offset"),(x[f]===void 0||x[f+l]===void 0)&&oe(f,x.length-(l+1))}function pe(x,f,l,v,C,O){if(x>l||x<f){const N=typeof f=="bigint"?"n":"";let V;throw O>3?f===0||f===BigInt(0)?V=`>= 0${N} and < 2${N} ** ${(O+1)*8}${N}`:V=`>= -(2${N} ** ${(O+1)*8-1}${N}) and < 2 ** ${(O+1)*8-1}${N}`:V=`>= ${f}${N} and <= ${l}${N}`,new W.ERR_OUT_OF_RANGE("value",V,x)}Ee(v,C,O)}function ae(x,f){if(typeof x!="number")throw new W.ERR_INVALID_ARG_TYPE(f,"number",x)}function oe(x,f,l){throw Math.floor(x)!==x?(ae(x,l),new W.ERR_OUT_OF_RANGE(l||"offset","an integer",x)):f<0?new W.ERR_BUFFER_OUT_OF_BOUNDS:new W.ERR_OUT_OF_RANGE(l||"offset",`>= ${l?1:0} and <= ${f}`,x)}const _e=/[^+/0-9A-Za-z-_]/g;function we(x){if(x=x.split("=")[0],x=x.trim().replace(_e,""),x.length<2)return"";for(;x.length%4!=0;)x=x+"=";return x}function ye(x,f){f=f||1/0;let l;const v=x.length;let C=null;const O=[];for(let N=0;N<v;++N){if(l=x.charCodeAt(N),l>55295&&l<57344){if(!C){if(l>56319){(f-=3)>-1&&O.push(239,191,189);continue}else if(N+1===v){(f-=3)>-1&&O.push(239,191,189);continue}C=l;continue}if(l<56320){(f-=3)>-1&&O.push(239,191,189),C=l;continue}l=(C-55296<<10|l-56320)+65536}else C&&(f-=3)>-1&&O.push(239,191,189);if(C=null,l<128){if((f-=1)<0)break;O.push(l)}else if(l<2048){if((f-=2)<0)break;O.push(l>>6|192,l&63|128)}else if(l<65536){if((f-=3)<0)break;O.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((f-=4)<0)break;O.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return O}function be(x){const f=[];for(let l=0;l<x.length;++l)f.push(x.charCodeAt(l)&255);return f}function ke(x,f){let l,v,C;const O=[];for(let N=0;N<x.length&&!((f-=2)<0);++N)l=x.charCodeAt(N),v=l>>8,C=l%256,O.push(C),O.push(v);return O}function xe(x){return e.toByteArray(we(x))}function ce(x,f,l,v){let C;for(C=0;C<v&&!(C+l>=f.length||C>=x.length);++C)f[C+l]=x[C];return C}function ne(x,f){return x instanceof f||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===f.name}function ue(x){return x!==x}const ve=function(){const x="0123456789abcdef",f=new Array(256);for(let l=0;l<16;++l){const v=l*16;for(let C=0;C<16;++C)f[v+C]=x[l]+x[C]}return f}();function le(x){return typeof BigInt=="undefined"?ge:x}function ge(){throw new Error("BigInt not supported")}})(buffer);const{Buffer}=buffer,symbol=Symbol.for("BufferList");function BufferList(r){if(!(this instanceof BufferList))return new BufferList(r);BufferList._init.call(this,r)}BufferList._init=function r(e){Object.defineProperty(this,symbol,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};BufferList.prototype._new=function r(e){return new BufferList(e)};BufferList.prototype._offset=function r(e){if(e===0)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){const o=t+this._bufs[n].length;if(e<o||n===this._bufs.length-1)return[n,e-t];t=o}};BufferList.prototype._reverseOffset=function(r){const e=r[0];let t=r[1];for(let n=0;n<e;n++)t+=this._bufs[n].length;return t};BufferList.prototype.get=function r(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]};BufferList.prototype.slice=function r(e,t){return typeof e=="number"&&e<0&&(e+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,e,t)};BufferList.prototype.copy=function r(e,t,n,o){if((typeof n!="number"||n<0)&&(n=0),(typeof o!="number"||o>this.length)&&(o=this.length),n>=this.length||o<=0)return e||Buffer.alloc(0);const a=!!e,c=this._offset(n),s=o-n;let d=s,u=a&&t||0,h=c[1];if(n===0&&o===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:Buffer.concat(this._bufs,this.length);for(let m=0;m<this._bufs.length;m++)this._bufs[m].copy(e,u),u+=this._bufs[m].length;return e}if(d<=this._bufs[c[0]].length-h)return a?this._bufs[c[0]].copy(e,t,h,h+d):this._bufs[c[0]].slice(h,h+d);a||(e=Buffer.allocUnsafe(s));for(let m=c[0];m<this._bufs.length;m++){const y=this._bufs[m].length-h;if(d>y)this._bufs[m].copy(e,u,h),u+=y;else{this._bufs[m].copy(e,u,h,h+d),u+=y;break}d-=y,h&&(h=0)}return e.length>u?e.slice(0,u):e};BufferList.prototype.shallowSlice=function r(e,t){if(e=e||0,t=typeof t!="number"?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const n=this._offset(e),o=this._offset(t),a=this._bufs.slice(n[0],o[0]+1);return o[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,o[1]),n[1]!==0&&(a[0]=a[0].slice(n[1])),this._new(a)};BufferList.prototype.toString=function r(e,t,n){return this.slice(t,n).toString(e)};BufferList.prototype.consume=function r(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};BufferList.prototype.duplicate=function r(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e};BufferList.prototype.append=function r(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Buffer.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Buffer.from(e));return this};BufferList.prototype._appendBuffer=function r(e){this._bufs.push(e),this.length+=e.length};BufferList.prototype.indexOf=function(r,e,t){if(t===void 0&&typeof e=="string"&&(t=e,e=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=Buffer.from([r]):typeof r=="string"?r=Buffer.from(r,t):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=Buffer.from(r.buffer,r.byteOffset,r.byteLength):Buffer.isBuffer(r)||(r=Buffer.from(r)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),r.length===0)return e>this.length?this.length:e;const n=this._offset(e);let o=n[0],a=n[1];for(;o<this._bufs.length;o++){const c=this._bufs[o];for(;a<c.length;)if(c.length-a>=r.length){const d=c.indexOf(r,a);if(d!==-1)return this._reverseOffset([o,d]);a=c.length-r.length+1}else{const d=this._reverseOffset([o,a]);if(this._match(d,r))return d;a++}a=0}return-1};BufferList.prototype._match=function(r,e){if(this.length-r<e.length)return!1;for(let t=0;t<e.length;t++)if(this.get(r+t)!==e[t])return!1;return!0};(function(){const r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const e in r)(function(t){r[t]===null?BufferList.prototype[t]=function(n,o){return this.slice(n,n+o)[t](0,o)}:BufferList.prototype[t]=function(n=0){return this.slice(n,n+r[t])[t](0)}})(e)})();BufferList.prototype._isBufferList=function r(e){return e instanceof BufferList||BufferList.isBufferList(e)};BufferList.isBufferList=function r(e){return e!=null&&e[symbol]};var BufferList_1=BufferList;class Rabin$1{constructor(e,t=12,n=8*1024,o=32*1024,a=64,c){this.bits=t,this.min=n,this.max=o,this.asModule=e,this.rabin=new e.Rabin(t,n,o,a,c),this.polynomial=c}fingerprint(e){const{__retain:t,__release:n,__allocArray:o,__getInt32Array:a,Int32Array_ID:c,Uint8Array_ID:s}=this.asModule,d=new Int32Array(Math.ceil(e.length/this.min)),u=t(o(c,d)),h=t(o(s,e)),m=this.rabin.fingerprint(h,u),y=a(m);n(h),n(u);const g=y.indexOf(0);return g>=0?y.subarray(0,g):y}}var rabin$1=Rabin$1,loader={};const ID_OFFSET=-8,SIZE_OFFSET=-4,ARRAYBUFFER_ID=0,STRING_ID=1,ARRAYBUFFERVIEW=1<<0,ARRAY=1<<1,VAL_ALIGN_OFFSET=5,VAL_SIGNED=1<<10,VAL_FLOAT=1<<11,VAL_MANAGED=1<<13,ARRAYBUFFERVIEW_BUFFER_OFFSET=0,ARRAYBUFFERVIEW_DATASTART_OFFSET=4,ARRAYBUFFERVIEW_DATALENGTH_OFFSET=8,ARRAYBUFFERVIEW_SIZE=12,ARRAY_LENGTH_OFFSET=12,ARRAY_SIZE=16,BIGINT=typeof BigUint64Array!="undefined",THIS=Symbol(),CHUNKSIZE=1024;function getStringImpl(r,e){const t=new Uint32Array(r),n=new Uint16Array(r);var o=t[e+SIZE_OFFSET>>>2]>>>1,a=e>>>1;if(o<=CHUNKSIZE)return String.fromCharCode.apply(String,n.subarray(a,a+o));const c=[];do{const s=n[a+CHUNKSIZE-1],d=s>=55296&&s<56320?CHUNKSIZE-1:CHUNKSIZE;c.push(String.fromCharCode.apply(String,n.subarray(a,a+=d))),o-=d}while(o>CHUNKSIZE);return c.join("")+String.fromCharCode.apply(String,n.subarray(a,a+o))}function preInstantiate(r){const e={};function t(o,a){return o?getStringImpl(o.buffer,a):"<yet unknown>"}const n=r.env=r.env||{};return n.abort=n.abort||function(a,c,s,d){const u=e.memory||n.memory;throw Error("abort: "+t(u,a)+" at "+t(u,c)+":"+s+":"+d)},n.trace=n.trace||function(a,c){const s=e.memory||n.memory;console.log("trace: "+t(s,a)+(c?" ":"")+Array.prototype.slice.call(arguments,2,2+c).join(", "))},r.Math=r.Math||Math,r.Date=r.Date||Date,e}function postInstantiate(r,e){const t=e.exports,n=t.memory,o=t.table,a=t.__alloc,c=t.__retain,s=t.__rtti_base||~0;function d(k){const A=new Uint32Array(n.buffer),$=A[s>>>2];if((k>>>=0)>=$)throw Error("invalid id: "+k);return A[(s+4>>>2)+k*2]}function u(k){const A=new Uint32Array(n.buffer),$=A[s>>>2];if((k>>>=0)>=$)throw Error("invalid id: "+k);return A[(s+4>>>2)+k*2+1]}function h(k){return 31-Math.clz32(k>>>VAL_ALIGN_OFFSET&31)}function m(k){const A=k.length,$=a(A<<1,STRING_ID),I=new Uint16Array(n.buffer);for(var D=0,S=$>>>1;D<A;++D)I[S+D]=k.charCodeAt(D);return $}r.__allocString=m;function y(k){const A=n.buffer;if(new Uint32Array(A)[k+ID_OFFSET>>>2]!==STRING_ID)throw Error("not a string: "+k);return getStringImpl(A,k)}r.__getString=y;function g(k,A,$){const I=n.buffer;if($)switch(k){case 2:return new Float32Array(I);case 3:return new Float64Array(I)}else switch(k){case 0:return new(A?Int8Array:Uint8Array)(I);case 1:return new(A?Int16Array:Uint16Array)(I);case 2:return new(A?Int32Array:Uint32Array)(I);case 3:return new(A?BigInt64Array:BigUint64Array)(I)}throw Error("unsupported align: "+k)}function b(k,A){const $=d(k);if(!($&(ARRAYBUFFERVIEW|ARRAY)))throw Error("not an array: "+k+" @ "+$);const I=h($),D=A.length,S=a(D<<I,ARRAYBUFFER_ID),R=a($&ARRAY?ARRAY_SIZE:ARRAYBUFFERVIEW_SIZE,k),U=new Uint32Array(n.buffer);U[R+ARRAYBUFFERVIEW_BUFFER_OFFSET>>>2]=c(S),U[R+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2]=S,U[R+ARRAYBUFFERVIEW_DATALENGTH_OFFSET>>>2]=D<<I,$&ARRAY&&(U[R+ARRAY_LENGTH_OFFSET>>>2]=D);const P=g(I,$&VAL_SIGNED,$&VAL_FLOAT);if($&VAL_MANAGED)for(let M=0;M<D;++M)P[(S>>>I)+M]=c(A[M]);else P.set(A,S>>>I);return R}r.__allocArray=b;function p(k){const A=new Uint32Array(n.buffer),$=A[k+ID_OFFSET>>>2],I=d($);if(!(I&ARRAYBUFFERVIEW))throw Error("not an array: "+$);const D=h(I);var S=A[k+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];const R=I&ARRAY?A[k+ARRAY_LENGTH_OFFSET>>>2]:A[S+SIZE_OFFSET>>>2]>>>D;return g(D,I&VAL_SIGNED,I&VAL_FLOAT).subarray(S>>>=D,S+R)}r.__getArrayView=p;function _(k){const A=p(k),$=A.length,I=new Array($);for(let D=0;D<$;D++)I[D]=A[D];return I}r.__getArray=_;function T(k){const A=n.buffer,$=new Uint32Array(A)[k+SIZE_OFFSET>>>2];return A.slice(k,k+$)}r.__getArrayBuffer=T;function E(k,A,$){return new k(w(k,A,$))}function w(k,A,$){const I=n.buffer,D=new Uint32Array(I),S=D[$+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];return new k(I,S,D[S+SIZE_OFFSET>>>2]>>>A)}r.__getInt8Array=E.bind(null,Int8Array,0),r.__getInt8ArrayView=w.bind(null,Int8Array,0),r.__getUint8Array=E.bind(null,Uint8Array,0),r.__getUint8ArrayView=w.bind(null,Uint8Array,0),r.__getUint8ClampedArray=E.bind(null,Uint8ClampedArray,0),r.__getUint8ClampedArrayView=w.bind(null,Uint8ClampedArray,0),r.__getInt16Array=E.bind(null,Int16Array,1),r.__getInt16ArrayView=w.bind(null,Int16Array,1),r.__getUint16Array=E.bind(null,Uint16Array,1),r.__getUint16ArrayView=w.bind(null,Uint16Array,1),r.__getInt32Array=E.bind(null,Int32Array,2),r.__getInt32ArrayView=w.bind(null,Int32Array,2),r.__getUint32Array=E.bind(null,Uint32Array,2),r.__getUint32ArrayView=w.bind(null,Uint32Array,2),BIGINT&&(r.__getInt64Array=E.bind(null,BigInt64Array,3),r.__getInt64ArrayView=w.bind(null,BigInt64Array,3),r.__getUint64Array=E.bind(null,BigUint64Array,3),r.__getUint64ArrayView=w.bind(null,BigUint64Array,3)),r.__getFloat32Array=E.bind(null,Float32Array,2),r.__getFloat32ArrayView=w.bind(null,Float32Array,2),r.__getFloat64Array=E.bind(null,Float64Array,3),r.__getFloat64ArrayView=w.bind(null,Float64Array,3);function B(k,A){const $=new Uint32Array(n.buffer);var I=$[k+ID_OFFSET>>>2];if(I<=$[s>>>2])do if(I==A)return!0;while(I=u(I));return!1}return r.__instanceof=B,r.memory=r.memory||n,r.table=r.table||o,demangle(t,r)}function isResponse(r){return typeof Response!="undefined"&&r instanceof Response}async function instantiate$1(r,e){return isResponse(r=await r)?instantiateStreaming(r,e):postInstantiate(preInstantiate(e||(e={})),await WebAssembly.instantiate(r instanceof WebAssembly.Module?r:await WebAssembly.compile(r),e))}loader.instantiate=instantiate$1;function instantiateSync(r,e){return postInstantiate(preInstantiate(e||(e={})),new WebAssembly.Instance(r instanceof WebAssembly.Module?r:new WebAssembly.Module(r),e))}loader.instantiateSync=instantiateSync;async function instantiateStreaming(r,e){return WebAssembly.instantiateStreaming?postInstantiate(preInstantiate(e||(e={})),(await WebAssembly.instantiateStreaming(r,e)).instance):instantiate$1(isResponse(r=await r)?r.arrayBuffer():r,e)}loader.instantiateStreaming=instantiateStreaming;function demangle(r,e){var t=e?Object.create(e):{},n=r.__argumentsLength?function(o){r.__argumentsLength.value=o}:r.__setArgumentsLength||r.__setargc||function(){};for(let o in r){if(!Object.prototype.hasOwnProperty.call(r,o))continue;const a=r[o];let c=o.split("."),s=t;for(;c.length>1;){let h=c.shift();Object.prototype.hasOwnProperty.call(s,h)||(s[h]={}),s=s[h]}let d=c[0],u=d.indexOf("#");if(u>=0){let h=d.substring(0,u),m=s[h];if(typeof m=="undefined"||!m.prototype){let y=function(...g){return y.wrap(y.prototype.constructor(0,...g))};y.prototype={valueOf:function(){return this[THIS]}},y.wrap=function(g){return Object.create(y.prototype,{[THIS]:{value:g,writable:!1}})},m&&Object.getOwnPropertyNames(m).forEach(g=>Object.defineProperty(y,g,Object.getOwnPropertyDescriptor(m,g))),s[h]=y}if(d=d.substring(u+1),s=s[h].prototype,/^(get|set):/.test(d)){if(!Object.prototype.hasOwnProperty.call(s,d=d.substring(4))){let y=r[o.replace("set:","get:")],g=r[o.replace("get:","set:")];Object.defineProperty(s,d,{get:function(){return y(this[THIS])},set:function(b){g(this[THIS],b)},enumerable:!0})}}else d==="constructor"?(s[d]=(...y)=>(n(y.length),a(...y))).original=a:(s[d]=function(...y){return n(y.length),a(this[THIS],...y)}).original=a}else/^(get|set):/.test(d)?Object.prototype.hasOwnProperty.call(s,d=d.substring(4))||Object.defineProperty(s,d,{get:r[o.replace("set:","get:")],set:r[o.replace("get:","set:")],enumerable:!0}):typeof a=="function"&&a!==n?(s[d]=(...h)=>(n(h.length),a(...h))).original=a:s[d]=a}return t}loader.demangle=demangle;const{instantiate}=loader;loadWebAssembly.supported=typeof WebAssembly!="undefined";function loadWebAssembly(r={}){if(!loadWebAssembly.supported)return null;var e=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return instantiate(new Response(new Blob([e],{type:"application/wasm"})),r)}var rabinWasm=loadWebAssembly;const Rabin=rabin$1,getRabin=rabinWasm,create=async(r,e,t,n,o)=>{const a=await getRabin();return new Rabin(a,r,e,t,n,o)};var src$2={Rabin,create};async function*rabinChunker(r,e){let t,n,o;if(e.minChunkSize&&e.maxChunkSize&&e.avgChunkSize)o=e.avgChunkSize,t=e.minChunkSize,n=e.maxChunkSize;else if(e.avgChunkSize)o=e.avgChunkSize,t=o/3,n=o+o/2;else throw errCode$3(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(t<16)throw errCode$3(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");n<t&&(n=t),o<t&&(o=t);const a=Math.floor(Math.log2(o));for await(const c of rabin(r,{min:t,max:n,bits:a,window:e.window,polynomial:e.polynomial}))yield c}async function*rabin(r,e){const t=await src$2.create(e.bits,e.min,e.max,e.window),n=new BufferList_1;for await(const o of r){n.append(o);const a=t.fingerprint(o);for(let c=0;c<a.length;c++){const s=a[c],d=n.slice(0,s);n.consume(s),yield d}}n.length&&(yield n.slice(0))}async function*fixedSizeChunker(r,e){let t=new BufferList_1,n=0,o=!1;const a=e.maxChunkSize;for await(const c of r)for(t.append(c),n+=c.length;n>=a;)if(yield t.slice(0,a),o=!0,a===t.length)t=new BufferList_1,n=0;else{const s=new BufferList_1;s.append(t.shallowSlice(a)),t=s,n-=a}(!o||n)&&(yield t.slice(0,n))}const identity$2=from$1({prefix:"\0",name:"identity",encode:r=>toString$1(r),decode:r=>fromString$3(r)});var identityBase=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",identity:identity$2});const base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var base2$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base2});const base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var base8$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base8});const base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"});var base10$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base10});const base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var base16$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base16,base16upper});const base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var base36$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base36,base36upper});const base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var base64$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base64,base64pad,base64url,base64urlpad});const identity=from({name:"identity",code:0,encode:r=>coerce(r)});var identity$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",identity});new TextEncoder;new TextDecoder;const bases=ie(ie(ie(ie(ie(ie(ie(ie(ie({},identityBase),base2$1),base8$1),base10$1),base16$1),base32$2),base36$1),base58),base64$1);ie(ie({},sha2),identity$1);function createCodec(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const string=createCodec("utf8","u",r=>{const e=new TextDecoder("utf8");return"u"+e.decode(r)},r=>new TextEncoder().encode(r.substring(1))),ascii=createCodec("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),BASES=ie({utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii},bases);function fromString(r,e="utf8"){const t=BASES[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${r}`)}var fromString$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromString});async function*validateChunks(r){for await(const e of r){if(e.length===void 0)throw errCode$3(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof e=="string"||e instanceof String)yield fromString(e.toString());else if(Array.isArray(e))yield Uint8Array.from(e);else if(e instanceof Uint8Array)yield e;else throw errCode$3(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}}function isIterable(r){return Symbol.iterator in r}function isAsyncIterable(r){return Symbol.asyncIterator in r}function contentAsAsyncIterable(r){try{if(r instanceof Uint8Array)return async function*(){yield r}();if(isIterable(r))return async function*(){yield*r}();if(isAsyncIterable(r))return r}catch{throw errCode$3(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw errCode$3(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}async function*dagBuilder(r,e,t){for await(const n of r)if(n.path&&(n.path.substring(0,2)==="./"&&(t.wrapWithDirectory=!0),n.path=n.path.split("/").filter(o=>o&&o!==".").join("/")),n.content){let o;typeof t.chunker=="function"?o=t.chunker:t.chunker==="rabin"?o=rabinChunker:o=fixedSizeChunker;let a;typeof t.chunkValidator=="function"?a=t.chunkValidator:a=validateChunks;const c={path:n.path,mtime:n.mtime,mode:n.mode,content:o(a(contentAsAsyncIterable(n.content),t),t)};yield()=>fileBuilder(c,e,t)}else if(n.path){const o={path:n.path,mtime:n.mtime,mode:n.mode};yield()=>dirBuilder(o,e,t)}else throw new Error("Import candidate must have content or path or both")}class Dir{constructor(e,t){this.options=t||{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime,this.cid=void 0,this.size=void 0}async put(e,t){}get(e){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(e){}}class DirFlat extends Dir{constructor(e,t){super(e,t);this._children={}}async put(e,t){this.cid=void 0,this.size=void 0,this._children[e]=t}get(e){return Promise.resolve(this._children[e])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const e=Object.keys(this._children);for(let t=0;t<e.length;t++){const n=e[t];yield{key:n,child:this._children[n]}}}async*flush(e){const t=Object.keys(this._children),n=[];for(let u=0;u<t.length;u++){let h=this._children[t[u]];if(h instanceof Dir)for await(const m of h.flush(e))h=m,yield h;h.size!=null&&h.cid&&n.push({Name:t[u],Tsize:h.size,Hash:h.cid})}const o=new UnixFS({type:"directory",mtime:this.mtime,mode:this.mode}),a={Data:o.marshal(),Links:n},c=encode$2(prepare(a)),s=await persist(c,e,this.options),d=c.length+a.Links.reduce((u,h)=>u+(h.Tsize==null?0:h.Tsize),0);this.cid=s,this.size=d,yield{cid:s,unixfs:o,path:this.path,size:d}}}const BITS_PER_BYTE=7;var sparseArray=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let n=this._internalPositionFor(e,!1);if(t===void 0)n!==-1&&(this._unsetInternalPos(n),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let o=!1;n===-1?(n=this._data.length,this._setBit(e),this._changedData=!0):o=!0,this._setInternalPos(n,e,t,o),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();const t=this._internalPositionFor(e,!0);if(t!==-1)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,n=new Array(this.length);for(;t<this.length;)n[t]=e(this.get(t),t,this),t++;return n}reduce(e,t){let n=0,o=t;for(;n<this.length;){const a=this.get(n);o=e(o,a,n),n++}return o}find(e){let t=0,n,o;for(;t<this.length&&!n;)o=this.get(t),n=e(o),t++;return n?o:void 0}_internalPositionFor(e,t){const n=this._bytePosFor(e,t);if(n>=this._bitArrays.length)return-1;const o=this._bitArrays[n],a=e-n*BITS_PER_BYTE;if(!((o&1<<a)>0))return-1;const s=this._bitArrays.slice(0,n).reduce(popCountReduce,0),d=~(4294967295<<a+1),u=popCount(o&d);return s+u-1}_bytePosFor(e,t){const n=Math.floor(e/BITS_PER_BYTE),o=n+1;for(;!t&&this._bitArrays.length<o;)this._bitArrays.push(0);return n}_setBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-t*BITS_PER_BYTE}_unsetBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-t*BITS_PER_BYTE)}_setInternalPos(e,t,n,o){const a=this._data,c=[t,n];if(o)this._sortData(),a[e]=c;else{if(a.length)if(a[a.length-1][0]>=t)a.push(c);else if(a[0][0]<=t)a.unshift(c);else{const s=Math.round(a.length/2);this._data=a.slice(0,s).concat(c).concat(a.slice(s))}else this._data.push(c);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(sortInternal),this._changedData=!1}bitField(){const e=[];let t=8,n=0,o=0,a;const c=this._bitArrays.slice();for(;c.length||n;){n===0&&(a=c.shift(),n=7);const d=Math.min(n,t),u=~(255<<d);o|=(a&u)<<8-t,a=a>>>d,n-=d,t-=d,(!t||!n&&!c.length)&&(e.push(o),o=0,t=8)}for(var s=e.length-1;s>0&&e[s]===0;s--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(valueOnly)}};function popCountReduce(r,e){return r+popCount(e)}function popCount(r){let e=r;return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function sortInternal(r,e){return r[0]-e[0]}function valueOnly(r){return r[1]}var require$$1$3=getAugmentedNamespace(fromString$1);const SparseArray=sparseArray,{fromString:uint8ArrayFromString$1}=require$$1$3;class Bucket$1{constructor(e,t,n=0){this._options=e,this._popCount=0,this._parent=t,this._posAtParent=n,this._children=new SparseArray,this.key=null}async put(e,t){const n=await this._findNewBucketAndPos(e);await n.bucket._putAt(n,e,t)}async get(e){const t=await this._findChild(e);if(t)return t.value}async del(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);n&&n.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce((t,n)=>n instanceof Bucket$1?t+n.leafCount():t+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const t of e)t instanceof Bucket$1?yield*t.eachLeafSeries():yield t;return[]}serialize(e,t){const n=[];return t(this._children.reduce((o,a,c)=>(a&&(a instanceof Bucket$1?o.push(a.serialize(e,t)):o.push(e(a,c))),o),n))}asyncTransform(e,t){return asyncTransformBucket(this,e,t)}toJSON(){return this.serialize(mapNode,reduceNodes)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);if(!(n instanceof Bucket$1)&&n&&n.key===e)return n}async _findPlace(e){const t=this._options.hash(typeof e=="string"?uint8ArrayFromString$1(e):e),n=await t.take(this._options.bits),o=this._children.get(n);return o instanceof Bucket$1?o._findPlace(t):{bucket:this,pos:n,hash:t,existingChild:o}}async _findNewBucketAndPos(e){const t=await this._findPlace(e);if(t.existingChild&&t.existingChild.key!==e){const n=new Bucket$1(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,n);const o=await n._findPlace(t.existingChild.hash);return o.bucket._putAt(o,t.existingChild.key,t.existingChild.value),n._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,n){this._putObjectAt(e.pos,{key:t,value:n,hash:e.hash})}_putObjectAt(e,t){this._children.get(e)||this._popCount++,this._children.set(e,t)}_delAt(e){if(e===-1)throw new Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){const e=this._children.find(exists);if(e&&!(e instanceof Bucket$1)){const t=e.hash;t.untake(this._options.bits);const n={pos:this._posAtParent,hash:t,bucket:this._parent};this._parent._putAt(n,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}}function exists(r){return Boolean(r)}function mapNode(r,e){return r.key}function reduceNodes(r){return r}async function asyncTransformBucket(r,e,t){const n=[];for(const o of r._children.compactArray())if(o instanceof Bucket$1)await asyncTransformBucket(o,e,t);else{const a=await e(o);n.push({bitField:r._children.bitField(),children:a})}return t(n)}var bucket=Bucket$1,consumableHash={exports:{}};const START_MASKS=[255,254,252,248,240,224,192,128],STOP_MASKS=[1,3,7,15,31,63,127,255];var consumableBuffer=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let t=e,n=0;for(;t&&this._haveBits();){const o=this._value[this._currentBytePos],a=this._currentBitPos+1,c=Math.min(a,t),s=byteBitsToInt(o,a-c,c);n=(n<<c)+s,t-=c,this._currentBitPos-=c,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return n}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function byteBitsToInt(r,e,t){const n=maskFor(e,t);return(r&n)>>>e}function maskFor(r,e){return START_MASKS[r]&STOP_MASKS[Math.min(e+r-1,7)]}function concat(r,e){e||(e=r.reduce((o,a)=>o+a.length,0));const t=new Uint8Array(e);let n=0;for(const o of r)t.set(o,n),n+=o.length;return t}var concat$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",concat}),require$$1$2=getAugmentedNamespace(concat$1);const ConsumableBuffer=consumableBuffer,{concat:uint8ArrayConcat}=require$$1$2;function wrapHash$1(r){function e(t){return t instanceof InfiniteHash?t:new InfiniteHash(t,r)}return e}class InfiniteHash{constructor(e,t){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let n=0;for(;t>0;){const o=this._buffers[this._currentBufferIndex],a=Math.min(o.availableBits(),t),c=o.take(a);n=(n<<a)+c,t-=a,this._availableBits-=a,o.availableBits()===0&&this._currentBufferIndex++}return n}untake(e){let t=e;for(;t>0;){const n=this._buffers[this._currentBufferIndex],o=Math.min(n.totalBits()-n.availableBits(),t);n.untake(o),t-=o,this._availableBits+=o,this._currentBufferIndex>0&&n.totalBits()===n.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth?uint8ArrayConcat([this._value,Uint8Array.from([this._depth])]):this._value,t=await this._hashFn(e),n=new ConsumableBuffer(t);this._buffers.push(n),this._availableBits+=n.availableBits()}}consumableHash.exports=wrapHash$1;consumableHash.exports.InfiniteHash=InfiniteHash;const Bucket=bucket,wrapHash=consumableHash.exports;function createHAMT(r){if(!r||!r.hashFn)throw new Error("please define an options.hashFn");const e={bits:r.bits||8,hash:wrapHash(r.hashFn)};return new Bucket(e)}var src$1={createHAMT,Bucket};class DirSharded extends Dir{constructor(e,t){super(e,t);this._bucket=src$1.createHAMT({hashFn:t.hamtHashFn,bits:t.hamtBucketBits})}async put(e,t){await this._bucket.put(e,t)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}async*flush(e){for await(const t of flush(this._bucket,e,this,this.options))yield Be(ie({},t),{path:this.path})}}async function*flush(r,e,t,n){const o=r._children,a=[];let c=0;for(let g=0;g<o.length;g++){const b=o.get(g);if(!b)continue;const p=g.toString(16).toUpperCase().padStart(2,"0");if(b instanceof src$1.Bucket){let _;for await(const T of await flush(b,e,null,n))_=T;if(!_)throw new Error("Could not flush sharded directory, no subshard found");a.push({Name:p,Tsize:_.size,Hash:_.cid}),c+=_.size}else if(typeof b.value.flush=="function"){const _=b.value;let T;for await(const w of _.flush(e))T=w,yield T;const E=p+b.key;a.push({Name:E,Tsize:T.size,Hash:T.cid}),c+=T.size}else{const _=b.value;if(!_.cid)continue;const T=p+b.key,E=_.size;a.push({Name:T,Tsize:E,Hash:_.cid}),c+=E}}const s=Uint8Array.from(o.bitField().reverse()),d=new UnixFS({type:"hamt-sharded-directory",data:s,fanout:r.tableSize(),hashType:n.hamtHashCode,mtime:t&&t.mtime,mode:t&&t.mode}),u={Data:d.marshal(),Links:a},h=encode$2(prepare(u)),m=await persist(h,e,n),y=h.length+c;yield{cid:m,unixfs:d,size:y}}async function flatToShard(r,e,t,n){let o=e;e instanceof DirFlat&&e.directChildrenCount()>=t&&(o=await convertToShard(e,n));const a=o.parent;if(a){if(o!==e){if(r&&(r.parent=o),!o.parentKey)throw new Error("No parent key found");await a.put(o.parentKey,o)}return flatToShard(o,a,t,n)}return o}async function convertToShard(r,e){const t=new DirSharded({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},e);for await(const{key:n,child:o}of r.eachChildSeries())await t.put(n,o);return t}const toPathComponents$1=(r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean);async function addToTree(r,e,t){const n=toPathComponents$1(r.path||""),o=n.length-1;let a=e,c="";for(let s=0;s<n.length;s++){const d=n[s];c+=`${c?"/":""}${d}`;const u=s===o;if(a.dirty=!0,a.cid=void 0,a.size=void 0,u)await a.put(d,r),e=await flatToShard(null,a,t.shardSplitThreshold,t);else{let h=await a.get(d);(!h||!(h instanceof Dir))&&(h=new DirFlat({root:!1,dir:!0,parent:a,parentKey:d,path:c,dirty:!0,flat:!0,mtime:h&&h.unixfs&&h.unixfs.mtime,mode:h&&h.unixfs&&h.unixfs.mode},t)),await a.put(d,h),a=h}}return e}async function*flushAndYield(r,e){if(!(r instanceof Dir)){r&&r.unixfs&&r.unixfs.isDirectory()&&(yield r);return}yield*r.flush(e)}async function*treeBuilder(r,e,t){let n=new DirFlat({root:!0,dir:!0,path:"",dirty:!0,flat:!0},t);for await(const o of r)!o||(n=await addToTree(o,n,t),(!o.unixfs||!o.unixfs.isDirectory())&&(yield o));if(t.wrapWithDirectory)yield*flushAndYield(n,e);else for await(const o of n.eachChildSeries())!o||(yield*flushAndYield(o.child,e))}async function*importer(r,e,t={}){const n=defaultOptions$1(t);let o;typeof t.dagBuilder=="function"?o=t.dagBuilder:o=dagBuilder;let a;typeof t.treeBuilder=="function"?a=t.treeBuilder:a=treeBuilder;let c;Symbol.asyncIterator in r||Symbol.iterator in r?c=r:c=[r];for await(const s of a(itParallelBatch(o(c,e,n),n.fileImportConcurrency),e,n))yield{cid:s.cid,path:s.path,unixfs:s.unixfs,size:s.size}}async function*browserReadableStreamToIt$1(r,e={}){const t=r.getReader();try{for(;;){const n=await t.read();if(n.done)return;yield n.value}}finally{e.preventCancel!==!0&&t.cancel(),t.releaseLock()}}var browserReadablestreamToIt=browserReadableStreamToIt$1;const browserReadableStreamToIt=browserReadablestreamToIt;function blobToIt$1(r){return typeof r.stream=="function"?browserReadableStreamToIt(r.stream()):browserReadableStreamToIt(new Response(r).body)}var blobToIt_1=blobToIt$1;function peekableIterator(r){const[e,t]=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>e.next(),push:o=>{n.push(o)},next:()=>n.length?{done:!1,value:n.shift()}:e.next(),[t](){return this}}}var itPeekable$2=peekableIterator;const map$2=async function*(r,e){for await(const t of r)yield e(t)};var itMap=map$2;function isBytes$2(r){return ArrayBuffer.isView(r)||r instanceof ArrayBuffer}function isBlob$2(r){return r.constructor&&(r.constructor.name==="Blob"||r.constructor.name==="File")&&typeof r.stream=="function"}function isFileObject$1(r){return typeof r=="object"&&(r.path||r.content)}const isReadableStream$2=r=>r&&typeof r.getReader=="function";var utils={isBytes:isBytes$2,isBlob:isBlob$2,isFileObject:isFileObject$1,isReadableStream:isReadableStream$2};const errCode$2=errCode$3,{fromString:uint8ArrayFromString}=require$$1$3,browserStreamToIt$1=browserReadablestreamToIt,blobToIt=blobToIt_1,itPeekable$1=itPeekable$2,all$1=itAll,map$1=itMap,{isBytes:isBytes$1,isReadableStream:isReadableStream$1,isBlob:isBlob$1}=utils;async function*toAsyncIterable(r){if(isBytes$1(r)){yield toBytes(r);return}if(typeof r=="string"||r instanceof String){yield toBytes(r.toString());return}if(isBlob$1(r)){yield*blobToIt(r);return}if(isReadableStream$1(r)&&(r=browserStreamToIt$1(r)),Symbol.iterator in r||Symbol.asyncIterator in r){const e=itPeekable$1(r),{value:t,done:n}=await e.peek();if(n){yield*[];return}if(e.push(t),Number.isInteger(t)){yield Uint8Array.from(await all$1(e));return}if(isBytes$1(t)||typeof t=="string"||t instanceof String){yield*map$1(e,toBytes);return}}throw errCode$2(new Error(`Unexpected input: ${r}`),"ERR_UNEXPECTED_INPUT")}function toBytes(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?new Uint8Array(r):Array.isArray(r)?Uint8Array.from(r):uint8ArrayFromString(r.toString())}var normaliseContent$1=toAsyncIterable,require$$5=getAugmentedNamespace(src$3);const errCode$1=errCode$3,browserStreamToIt=browserReadablestreamToIt,itPeekable=itPeekable$2,map=itMap,{isBytes,isBlob,isReadableStream,isFileObject}=utils,{parseMtime,parseMode}=require$$5;var normaliseInput$1=async function*r(e,t){if(e==null)throw errCode$1(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if(typeof e=="string"||e instanceof String){yield toFileObject(e.toString(),t);return}if(isBytes(e)||isBlob(e)){yield toFileObject(e,t);return}if(isReadableStream(e)&&(e=browserStreamToIt(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const n=itPeekable(e),{value:o,done:a}=await n.peek();if(a){yield*[];return}if(n.push(o),Number.isInteger(o)||isBytes(o)){yield toFileObject(n,t);return}if(isFileObject(o)||isBlob(o)||typeof o=="string"||o instanceof String){yield*map(n,c=>toFileObject(c,t));return}if(o[Symbol.iterator]||o[Symbol.asyncIterator]||isReadableStream(o)){yield*map(n,c=>toFileObject(c,t));return}}if(isFileObject(e)){yield toFileObject(e,t);return}throw errCode$1(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")};async function toFileObject(r,e){const{path:t,mode:n,mtime:o,content:a}=r,c={path:t||"",mode:parseMode(n),mtime:parseMtime(o)};return a?c.content=await e(a):t||(c.content=await e(r)),c}const normaliseContent=normaliseContent$1,normalise=normaliseInput$1;function normaliseInput(r){return normalise(r,normaliseContent)}var normaliseInput_1={normaliseInput};const drain$1=async r=>{for await(const e of r);};var itDrain=drain$1;const filter$1=async function*(r,e){for await(const t of r)await e(t)&&(yield t)};var itFilter=filter$1;const take$1=async function*(r,e){let t=0;if(!(e<1)){for await(const n of r)if(yield n,t++,t===e)return}};var itTake=take$1;const drain=itDrain,filter=itFilter,take=itTake,all=itAll,sortAll=(r,e)=>async function*(){yield*(await all(r)).sort(e)}();class BlockstoreAdapter$1{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,n){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(const{key:n,value:o}of e)await this.put(n,o,t),yield{key:n,value:o}}async*getMany(e,t={}){for await(const n of e)yield this.get(n,t)}async*deleteMany(e,t={}){for await(const n of e)await this.delete(n,t),yield n}batch(){let e=[],t=[];return{put(n,o){e.push({key:n,value:o})},delete(n){t.push(n)},commit:async n=>{await drain(this.putMany(e,n)),e=[],await drain(this.deleteMany(t,n)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let n=this._all(e,t);if(e.prefix!=null&&(n=filter(n,o=>o.key.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(n=e.filters.reduce((o,a)=>filter(o,a),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((o,a)=>sortAll(o,a),n)),e.offset!=null){let o=0;n=filter(n,()=>o++>=(e.offset||0))}return e.limit!=null&&(n=take(n,e.limit)),n}queryKeys(e,t){let n=this._allKeys(e,t);if(e.prefix!=null&&(n=filter(n,o=>o.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(n=e.filters.reduce((o,a)=>filter(o,a),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((o,a)=>sortAll(o,a),n)),e.offset!=null){let o=0;n=filter(n,()=>o++>=e.offset)}return e.limit!=null&&(n=take(n,e.limit)),n}}var adapter=BlockstoreAdapter$1,require$$1$1=getAugmentedNamespace(base32$2),require$$2=getAugmentedNamespace(raw$1),require$$3=getAugmentedNamespace(cid),require$$4=getAugmentedNamespace(digest);const errCode=errCode$3;function notFoundError(r){return r=r||new Error("Not Found"),errCode(r,"ERR_NOT_FOUND")}var errors={notFoundError};const Adapter=adapter,{base32}=require$$1$1,raw=require$$2,{CID}=require$$3,Digest=require$$4,Errors=errors;class MemoryBlockstore$1 extends Adapter{constructor(){super();this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(e,t){this.data[base32.encode(e.multihash.bytes)]=t}async get(e){if(!await this.has(e))throw Errors.notFoundError();return this.data[base32.encode(e.multihash.bytes)]}async has(e){return this.data[base32.encode(e.multihash.bytes)]!==void 0}async delete(e){delete this.data[base32.encode(e.multihash.bytes)]}async*_all(){yield*Object.entries(this.data).map(([e,t])=>({key:CID.createV1(raw.code,Digest.decode(base32.decode(e))),value:t}))}async*_allKeys(){yield*Object.entries(this.data).map(([e])=>CID.createV1(raw.code,Digest.decode(base32.decode(e))))}}var memory=MemoryBlockstore$1;const BlockstoreAdapter=adapter,MemoryBlockstore=memory;var src={BlockstoreAdapter,MemoryBlockstore};class MemoryBlockStore extends src.BlockstoreAdapter{constructor(){super();this.store=new Map}async*blocks(){for(const[e,t]of this.store.entries())yield{cid:CID$1.parse(e),bytes:t}}put(e,t){return this.store.set(e.toString(),t),Promise.resolve()}get(e){const t=this.store.get(e.toString());if(!t)throw new Error(`block with cid ${e.toString()} no found`);return Promise.resolve(t)}has(e){return Promise.resolve(this.store.has(e.toString()))}close(){return this.store.clear(),Promise.resolve()}}const unixfsImporterOptionsDefault={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:sha256$1,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};async function pack({input:r,blockstore:e,hasher:t,maxChunkSize:n,maxChildrenPerNode:o,wrapWithDirectory:a}){if(!r||Array.isArray(r)&&!r.length)throw new Error("missing input file(s)");const c=e||new MemoryBlockStore,s=await itLast(pipe$1(normaliseInput_1.normaliseInput(r),p=>importer(p,c,Be(ie({},unixfsImporterOptionsDefault),{hasher:t||unixfsImporterOptionsDefault.hasher,maxChunkSize:n||unixfsImporterOptionsDefault.maxChunkSize,maxChildrenPerNode:o||unixfsImporterOptionsDefault.maxChildrenPerNode,wrapWithDirectory:a===!1?!1:unixfsImporterOptionsDefault.wrapWithDirectory}))));if(!s||!s.cid)throw new Error("given input could not be parsed correctly");const d=s.cid,{writer:u,out:h}=await CarWriter.create([d]),m=h[Symbol.asyncIterator]();let y;const g=async()=>{for await(const p of c.blocks())await u.put(p);await u.close(),e||await c.close()},b={[Symbol.asyncIterator](){if(y!=null)throw new Error("Multiple iterator not supported");return y=g(),{async next(){const p=await m.next();return p.done&&await y,p}}}};return{root:d,out:b}}var __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:__viteBrowserExternal}),require$$1=getAugmentedNamespace(__viteBrowserExternal$1),immutable=extend,hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}var qs=require$$1,url=require$$1,xtend=immutable;function hasRel(r){return r&&r.rel}function intoRels(r,e){function t(n){r[n]=xtend(e,{rel:n})}return e.rel.split(/\s+/).forEach(t),r}function createObjects(r,e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t&&(r[t[1]]=t[2]),r}function parseLink(r){try{var e=r.match(/<?([^>]*)>(.*)/),t=e[1],n=e[2].split(";"),o=url.parse(t),a=qs.parse(o.query);n.shift();var c=n.reduce(createObjects,{});return c=xtend(a,c),c.url=t,c}catch{return null}}var parseLinkHeader=function(r){return r?r.split(/,\s*</).map(parseLink).filter(hasRel).reduce(intoRels,{}):null};const CID_CBOR_TAG=42;function cidEncoder(r){if(r.asCID!==r)return null;const e=CID$1.asCID(r);if(!e)return null;const t=new Uint8Array(e.bytes.byteLength+1);return t.set(e.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,t)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder,undefined:undefinedEncoder,number:numberEncoder}};function cidDecoder(r){if(r[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID$1.decode(r.subarray(1))}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;const name="dag-cbor",code=113,encode=r=>encode$4(r,encodeOptions),decode=r=>decode$4(r,decodeOptions);var cbor=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",name,code,encode,decode});const hashFn=async function(r){return(await murmur3128.encode(r)).slice(0,8).reverse()},addLinksToHamtBucket=(r,e,t)=>Promise.all(r.map(n=>{if(n.Name==null)throw new Error("Unexpected Link without a Name");if(n.Name.length===2){const o=parseInt(n.Name,16);return e._putObjectAt(o,new src$1.Bucket({hash:t._options.hash,bits:t._options.bits},e,o))}return t.put(n.Name.substring(2),!0)})),toPrefix=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),toBucketPath=r=>{let e=r.bucket;const t=[];for(;e._parent;)t.push(e),e=e._parent;return t.push(e),t.reverse()},findShardCid=async(r,e,t,n,o)=>{if(!n){const h=src$1.createHAMT({hashFn});n={rootBucket:h,hamtDepth:1,lastBucket:h}}await addLinksToHamtBucket(r.Links,n.lastBucket,n.rootBucket);const a=await n.rootBucket._findNewBucketAndPos(e);let c=toPrefix(a.pos);const s=toBucketPath(a);s.length>n.hamtDepth&&(n.lastBucket=s[n.hamtDepth],c=toPrefix(n.lastBucket._posAtParent));const d=r.Links.find(h=>{if(h.Name==null)return!1;const m=h.Name.substring(0,2),y=h.Name.substring(2);return!(m!==c||y&&y!==e)});if(!d)return null;if(d.Name!=null&&d.Name.substring(2)===e)return d.Hash;n.hamtDepth++;const u=await t.get(d.Hash,o);return r=decode$2(u),findShardCid(r,e,t,n,o)};function extractDataFromBlock(r,e,t,n){const o=r.length,a=e+o;return t>=a||n<e?new Uint8Array(0):(n>=e&&n<a&&(r=r.slice(0,n-e)),t>=e&&t<a&&(r=r.slice(t-e)),r)}const validateOffsetAndLength=(r,e,t)=>{if(e||(e=0),e<0)throw errCode$3(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(e>r)throw errCode$3(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(!t&&t!==0&&(t=r-e),t<0)throw errCode$3(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return e+t>r&&(t=r-e),{offset:e,length:t}};async function*emitBytes(r,e,t,n,o=0,a){if(e instanceof Uint8Array){const d=extractDataFromBlock(e,o,t,n);return d.length&&(yield d),o+=d.length,o}if(e.Data==null)throw errCode$3(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let c;try{c=UnixFS.unmarshal(e.Data)}catch(d){throw errCode$3(d,"ERR_NOT_UNIXFS")}if(c.data&&c.data.length){const d=extractDataFromBlock(c.data,o,t,n);d.length&&(yield d),o+=c.data.length}let s=o;for(let d=0;d<e.Links.length;d++){const u=e.Links[d],h=o+c.blockSizes[d];if(t>=s&&t<h||n>s&&n<=h||t<s&&n>h){const m=await r.get(u.Hash,{signal:a.signal});let y;switch(u.Hash.code){case code$3:y=await decode$2(m);break;case code$2:y=m;break;case code:y=await decode(m);break;default:throw Error(`Unsupported codec: ${u.Hash.code}`)}for await(const g of emitBytes(r,y,t,n,o,a))o+=g.length,yield g}o=h,s=h+1}}const fileContent=(r,e,t,n,o,a,c)=>{function s(d={}){const u=t.fileSize();if(u===void 0)throw new Error("File was a directory");const{offset:h,length:m}=validateOffsetAndLength(u,d.offset,d.length),y=h,g=h+m;return emitBytes(c,e,y,g,0,d)}return s},directoryContent=(r,e,t,n,o,a,c)=>{async function*s(d={}){const u=d.offset||0,h=d.length||e.Links.length,m=e.Links.slice(u,h);for(const y of m){const g=await o(y.Hash,y.Name||"",`${n}/${y.Name||""}`,[],a+1,c,d);g.entry&&(yield g.entry)}}return s},hamtShardedDirectoryContent=(r,e,t,n,o,a,c)=>{function s(d={}){return listDirectory(e,n,o,a,c,d)}return s};async function*listDirectory(r,e,t,n,o,a){const c=r.Links;for(const s of c){const d=s.Name!=null?s.Name.substring(2):null;if(d)yield(await t(s.Hash,d,`${e}/${d}`,[],n+1,o,a)).entry;else{const u=await o.get(s.Hash);r=decode$2(u);for await(const h of listDirectory(r,e,t,n,o,a))yield h}}}const findLinkCid=(r,e)=>{const t=r.Links.find(n=>n.Name===e);return t&&t.Hash},contentExporters={raw:fileContent,file:fileContent,directory:directoryContent,"hamt-sharded-directory":hamtShardedDirectoryContent,metadata:(r,e,t,n,o,a,c)=>()=>[],symlink:(r,e,t,n,o,a,c)=>()=>[]},unixFsResolver=async(r,e,t,n,o,a,c,s)=>{const d=await c.get(r,s),u=decode$2(d);let h,m;if(e||(e=r.toString()),u.Data==null)throw errCode$3(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{h=UnixFS.unmarshal(u.Data)}catch(y){throw errCode$3(y,"ERR_NOT_UNIXFS")}if(t||(t=e),n.length){let y;if(h&&h.type==="hamt-sharded-directory"?y=await findShardCid(u,n[0],c):y=findLinkCid(u,n[0]),!y)throw errCode$3(new Error("file does not exist"),"ERR_NOT_FOUND");const g=n.shift(),b=`${t}/${g}`;m={cid:y,toResolve:n,name:g||"",path:b}}return{entry:{type:h.isDirectory()?"directory":"file",name:e,path:t,cid:r,content:contentExporters[h.type](r,u,h,t,o,a,c),unixfs:h,depth:a,node:u,size:h.fileSize()},next:m}},rawContent$1=r=>{async function*e(t={}){const{offset:n,length:o}=validateOffsetAndLength(r.length,t.offset,t.length);yield extractDataFromBlock(r,0,n,n+o)}return e},resolve$3=async(r,e,t,n,o,a,c,s)=>{if(n.length)throw errCode$3(new Error(`No link named ${t} found in raw node ${r}`),"ERR_NOT_FOUND");const d=await c.get(r,s);return{entry:{type:"raw",name:e,path:t,cid:r,content:rawContent$1(d),depth:a,size:d.length,node:d}}},resolve$2=async(r,e,t,n,o,a,c,s)=>{const d=await c.get(r),u=decode(d);let h=u,m=t;for(;n.length;){const y=n[0];if(y in h){n.shift(),m=`${m}/${y}`;const g=CID$1.asCID(h[y]);if(g)return{entry:{type:"object",name:e,path:t,cid:r,node:d,depth:a,size:d.length,content:async function*(){yield u}},next:{cid:g,name:y,path:m,toResolve:n}};h=h[y]}else throw errCode$3(new Error(`No property named ${y} found in cbor node ${r}`),"ERR_NO_PROP")}return{entry:{type:"object",name:e,path:t,cid:r,node:d,depth:a,size:d.length,content:async function*(){yield u}}}},rawContent=r=>{async function*e(t={}){const{offset:n,length:o}=validateOffsetAndLength(r.length,t.offset,t.length);yield extractDataFromBlock(r,0,n,n+o)}return e},resolve$1=async(r,e,t,n,o,a,c,s)=>{if(n.length)throw errCode$3(new Error(`No link named ${t} found in raw node ${r}`),"ERR_NOT_FOUND");const d=await decode$6(r.multihash.bytes);return{entry:{type:"identity",name:e,path:t,cid:r,content:rawContent(d.digest),depth:a,size:d.digest.length,node:d.digest}}},resolvers={[code$3]:unixFsResolver,[code$2]:resolve$3,[code]:resolve$2,[identity.code]:resolve$1};function resolve(r,e,t,n,o,a,c){const s=resolvers[r.code];if(!s)throw errCode$3(new Error(`No resolver for code ${r.code}`),"ERR_NO_RESOLVER");return s(r,e,t,n,resolve,o,a,c)}const toPathComponents=(r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean),cidAndRest=r=>{if(r instanceof Uint8Array)return{cid:CID$1.decode(r),toResolve:[]};const e=CID$1.asCID(r);if(e)return{cid:e,toResolve:[]};if(typeof r=="string"){r.indexOf("/ipfs/")===0&&(r=r.substring(6));const t=toPathComponents(r);return{cid:CID$1.parse(t[0]),toResolve:t.slice(1)}}throw errCode$3(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};async function*walkPath(r,e,t={}){let{cid:n,toResolve:o}=cidAndRest(r),a=n.toString(),c=a;const s=o.length;for(;;){const d=await resolve(n,a,c,o,s,e,t);if(!d.entry&&!d.next)throw errCode$3(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(d.entry&&(yield d.entry),!d.next)return;o=d.next.toResolve,n=d.next.cid,a=d.next.name,c=d.next.path}}async function exporter(r,e,t={}){const n=await itLast(walkPath(r,e,t));if(!n)throw errCode$3(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return n}async function*recursive(r,e,t={}){const n=await exporter(r,e,t);if(!n)return;if(yield n,n.type==="directory")for await(const a of o(n,t))yield a;async function*o(a,c){for await(const s of a.content(c))yield s,!(s instanceof Uint8Array)&&s.type==="directory"&&(yield*o(s,c))}}function equals(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}class VerifyingGetOnlyBlockStore extends src.BlockstoreAdapter{constructor(e){super();this.store=e}async get(e){const t=await this.store.get(e);if(!t)throw new Error(`Incomplete CAR. Block missing for CID ${e}`);if(!isValid({cid:e,bytes:t}))throw new Error(`Invalid CAR. Hash of block data does not match CID ${e}`);return t}static fromBlockstore(e){return new VerifyingGetOnlyBlockStore(e)}static fromCarReader(e){return new VerifyingGetOnlyBlockStore({get:async t=>{const n=await e.get(t);return n==null?void 0:n.bytes}})}}async function isValid({cid:r,bytes:e}){const t=await sha256$1.digest(e);return equals(t.digest,r.multihash.digest)}async function*unpackStream(r,{roots:e,blockstore:t}={}){const n=await CarBlockIterator.fromIterable(asAsyncIterable(r)),o=t||new MemoryBlockStore;for await(const c of n)await o.put(c.cid,c.bytes);const a=VerifyingGetOnlyBlockStore.fromBlockstore(o);(!e||e.length===0)&&(e=await n.getRoots());for(const c of e)yield*recursive(c,a)}function asAsyncIterable(r){return Symbol.asyncIterator in r?r:browserReadablestreamToIt(r)}const readonly=({enumerable:r=!0,configurable:e=!1}={})=>({enumerable:r,configurable:e,writable:!1}),links=function*(r,e){if(r!=null&&!(r instanceof Uint8Array))for(const[t,n]of Object.entries(r)){const o=[...e,t];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(const[a,c]of n.entries()){const s=[...o,a],d=CID$1.asCID(c);d?yield[s.join("/"),d]:typeof c=="object"&&(yield*links(c,s))}else{const a=CID$1.asCID(n);a?yield[o.join("/"),a]:yield*links(n,o)}}},tree=function*(r,e){if(r!=null)for(const[t,n]of Object.entries(r)){const o=[...e,t];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!CID$1.asCID(n))if(Array.isArray(n))for(const[a,c]of n.entries()){const s=[...o,a];yield s.join("/"),typeof c=="object"&&!CID$1.asCID(c)&&(yield*tree(c,s))}else yield*tree(n,o)}},get=(r,e)=>{let t=r;for(const[n,o]of e.entries()){if(t=t[o],t==null)throw new Error(`Object has no property at ${e.slice(0,n+1).map(c=>`[${JSON.stringify(c)}]`).join("")}`);const a=CID$1.asCID(t);if(a)return{value:a,remaining:e.slice(n+1).join("/")}}return{value:t}};class Block{constructor({cid:e,bytes:t,value:n}){if(!e||!t||typeof n=="undefined")throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(e="/"){return get(this.value,e.split("/").filter(Boolean))}}class TreewalkCarSplitter{constructor(e,t,n={}){if(typeof t!="number"||t<=0)throw new Error("invalid target chunk size");this._reader=e,this._targetSize=t,this._decoders=[pb,raw$1,cbor,...n.decoders||[]]}async*cars(){const e=await this._reader.getRoots();if(e.length!==1)throw new Error(`unexpected number of roots: ${e.length}`);let t;for await(const n of this._cars(e[0]))t=n.channel,n.out&&(yield n.out);if(!t)throw new Error("missing CAR writer channel");t.writer.close(),yield t.out}async _get(e){const t=await this._reader.get(e);if(!t)throw new Error(`missing block for ${e}`);const{bytes:n}=t,o=this._decoders.find(a=>a.code===e.code);if(!o)throw new Error(`missing decoder for ${e.code}`);return new Block({cid:e,bytes:n,value:o.decode(n)})}async*_cars(e,t=[],n=void 0){const o=await this._get(e);if(n=n||Object.assign(CarWriter.create(e),{size:0}),n.size>0&&n.size+o.bytes.byteLength>=this._targetSize){n.writer.close();const{out:a}=n;n=newCar(t),yield{channel:n,out:a}}t=t.concat(o),n.size+=o.bytes.byteLength,n.writer.put(o);for(const[,a]of o.links())for await(const c of this._cars(a,t,n))n=c.channel,yield c;if(!n)throw new Error("missing CAR writer channel");yield{channel:n}}static async fromIterable(e,t,n){const o=await CarReader.fromIterable(e);return new TreewalkCarSplitter(o,t,n)}static async fromBlob(e,t,n){const o=await e.arrayBuffer(),a=await CarReader.fromBytes(new Uint8Array(o));return new TreewalkCarSplitter(a,t,n)}}function newCar(r){const e=Object.assign(CarWriter.create(r[0].cid),{size:r.reduce((t,n)=>t+n.bytes.byteLength,0)});for(const t of r)e.writer.put(t);return e}const fetch=globalThis.fetch,Blob$1=globalThis.Blob,File=globalThis.File,Blockstore=MemoryBlockStore,MAX_PUT_RETRIES=5,MAX_CONCURRENT_UPLOADS=3,MAX_CHUNK_SIZE=1024*1024*10;class Web3Storage{constructor({token:e,endpoint:t=new URL("https://api.web3.storage")}){this.token=e,this.endpoint=t}static headers(e){if(!e)throw new Error("missing token");return{Authorization:`Bearer ${e}`,"X-Client":"web3.storage/js"}}static async put({endpoint:e,token:t},n,{onRootCidReady:o,onStoredChunk:a,maxRetries:c=MAX_PUT_RETRIES,wrapWithDirectory:s=!0,name:d}={}){const u=new Blockstore;try{const{out:h,root:m}=await pack({input:Array.from(n).map(g=>({path:g.name,content:g.stream()})),blockstore:u,wrapWithDirectory:s,maxChunkSize:1048576,maxChildrenPerNode:1024});o&&o(m.toString());const y=await CarReader.fromIterable(h);return await Web3Storage.putCar({endpoint:e,token:t},y,{onStoredChunk:a,maxRetries:c,name:d})}finally{await u.close()}}static async putCar({endpoint:e,token:t},n,{name:o,onStoredChunk:a,maxRetries:c=MAX_PUT_RETRIES,decoders:s}={}){const d=MAX_CHUNK_SIZE,u=new URL("car",e);let h=Web3Storage.headers(t);o&&(h=Be(ie({},h),{"X-Name":encodeURIComponent(o)}));const m=await n.getRoots();if(m[0]==null)throw new Error("missing root CID");if(m.length>1)throw new Error("too many roots");const y=m[0].toString(),g=new TreewalkCarSplitter(n,d,{decoders:s}),p=transform(MAX_CONCURRENT_UPLOADS,async _=>{const T=[];for await(const B of _)T.push(B);const E=new Blob$1(T,{type:"application/car"}),w=await pRetry$1(async()=>{const B=await fetch(u.toString(),{method:"POST",headers:h,body:E}),k=await B.json();if(!B.ok)throw new Error(k.message);if(k.cid!==y)throw new Error(`root CID mismatch, expected: ${y}, received: ${k.cid}`);return k.cid},{retries:c});return a&&a(E.size),w});for await(const _ of p(g.cars()));return y}static async get({endpoint:e,token:t},n){const o=new URL(`car/${n}`,e),a=await fetch(o.toString(),{method:"GET",headers:Web3Storage.headers(t)});return toWeb3Response(a)}static async delete({endpoint:e,token:t},n){throw console.log("Not deleting",n,e,t),Error(".delete not implemented yet")}static async status({endpoint:e,token:t},n){const o=new URL(`status/${n}`,e),a=await fetch(o.toString(),{method:"GET",headers:Web3Storage.headers(t)});if(a.status!==404){if(!a.ok)throw new Error(a.statusText);return a.json()}}static async*list(e,{before:t=new Date().toISOString(),maxResults:n=1/0}={}){function o({endpoint:s,token:d},{before:u,size:h}){const m=new URLSearchParams({before:u,size:h.toString()}),y=new URL(`user/uploads?${m}`,s);return fetch(y.toString(),{method:"GET",headers:Be(ie({},Web3Storage.headers(d)),{"Access-Control-Request-Headers":"Link"})})}let a=0;const c=n>100?100:n;for await(const s of paginator(o,e,{before:t,size:c})){if(!s.ok){const u=await s.json();throw new Error(`${s.status} ${s.statusText} ${u?"- "+u.message:""}`)}const d=await s.json();for(const u of d){if(++a>n)return;yield u}}}put(e,t){return Web3Storage.put(this,e,t)}putCar(e,t){return Web3Storage.putCar(this,e,t)}get(e){return Web3Storage.get(this,e)}delete(e){return Web3Storage.delete(this,e)}status(e){return Web3Storage.status(this,e)}list(e){return Web3Storage.list(this,e)}}async function toWeb3File({content:r,path:e,cid:t}){const n=[];for await(const a of r())n.push(a);const o=new File(n,toFilenameWithPath(e));return Object.assign(o,{cid:t.toString()})}function toFilenameWithPath(r){const e=r.indexOf("/");return e===-1?r:r.substring(e+1)}function toWeb3Response(r){const e=Object.assign(r,{unixFsIterator:async function*(){if(!r.ok)throw new Error(`Response was not ok: ${r.status} ${r.statusText} - Check for { "ok": false } on the Response object before calling .unixFsIterator`);if(!r.body)throw new Error("No body on response");const t=new Blockstore;try{for await(const n of unpackStream(r.body,{blockstore:t}))yield n}finally{await t.close()}},files:async()=>{if(!r.ok)throw new Error(`Response was not ok: ${r.status} ${r.statusText} - Check for { "ok": false } on the Response object before calling .files`);const t=[];for await(const n of e.unixFsIterator()){if(n.type==="directory")continue;const o=await toWeb3File(n);t.push(o)}return t}});return e}async function*paginator(r,e,t){let n=await r(e,t);yield n;let o=parseLinkHeader(n.headers.get("Link")||"");for(;o&&o.next;)n=await r(e,o.next),yield n,o=parseLinkHeader(n.headers.get("Link")||"")}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(r){return typeof r=="string"&&REGEX.test(r)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(byteToHex[r[e+0]]+byteToHex[r[e+1]]+byteToHex[r[e+2]]+byteToHex[r[e+3]]+"-"+byteToHex[r[e+4]]+byteToHex[r[e+5]]+"-"+byteToHex[r[e+6]]+byteToHex[r[e+7]]+"-"+byteToHex[r[e+8]]+byteToHex[r[e+9]]+"-"+byteToHex[r[e+10]]+byteToHex[r[e+11]]+byteToHex[r[e+12]]+byteToHex[r[e+13]]+byteToHex[r[e+14]]+byteToHex[r[e+15]]).toLowerCase();if(!validate(t))throw TypeError("Stringified UUID is invalid");return t}function v4(r,e,t){r=r||{};var n=r.random||(r.rng||rng)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=n[o];return e}return stringify(n)}var cryptoJs={exports:{}},core={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(commonjsGlobal,function(){var t=t||function(n,o){var a;if(typeof window!="undefined"&&window.crypto&&(a=window.crypto),typeof self!="undefined"&&self.crypto&&(a=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window!="undefined"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof commonjsGlobal!="undefined"&&commonjsGlobal.crypto&&(a=commonjsGlobal.crypto),!a&&typeof commonjsRequire=="function")try{a=require("crypto")}catch{}var c=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function E(){}return function(w){var B;return E.prototype=w,B=new E,E.prototype=null,B}}(),d={},u=d.lib={},h=u.Base=function(){return{extend:function(E){var w=s(this);return E&&w.mixIn(E),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var w in E)E.hasOwnProperty(w)&&(this[w]=E[w]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),m=u.WordArray=h.extend({init:function(E,w){E=this.words=E||[],w!=o?this.sigBytes=w:this.sigBytes=E.length*4},toString:function(E){return(E||g).stringify(this)},concat:function(E){var w=this.words,B=E.words,k=this.sigBytes,A=E.sigBytes;if(this.clamp(),k%4)for(var $=0;$<A;$++){var I=B[$>>>2]>>>24-$%4*8&255;w[k+$>>>2]|=I<<24-(k+$)%4*8}else for(var D=0;D<A;D+=4)w[k+D>>>2]=B[D>>>2];return this.sigBytes+=A,this},clamp:function(){var E=this.words,w=this.sigBytes;E[w>>>2]&=4294967295<<32-w%4*8,E.length=n.ceil(w/4)},clone:function(){var E=h.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var w=[],B=0;B<E;B+=4)w.push(c());return new m.init(w,E)}}),y=d.enc={},g=y.Hex={stringify:function(E){for(var w=E.words,B=E.sigBytes,k=[],A=0;A<B;A++){var $=w[A>>>2]>>>24-A%4*8&255;k.push(($>>>4).toString(16)),k.push(($&15).toString(16))}return k.join("")},parse:function(E){for(var w=E.length,B=[],k=0;k<w;k+=2)B[k>>>3]|=parseInt(E.substr(k,2),16)<<24-k%8*4;return new m.init(B,w/2)}},b=y.Latin1={stringify:function(E){for(var w=E.words,B=E.sigBytes,k=[],A=0;A<B;A++){var $=w[A>>>2]>>>24-A%4*8&255;k.push(String.fromCharCode($))}return k.join("")},parse:function(E){for(var w=E.length,B=[],k=0;k<w;k++)B[k>>>2]|=(E.charCodeAt(k)&255)<<24-k%4*8;return new m.init(B,w)}},p=y.Utf8={stringify:function(E){try{return decodeURIComponent(escape(b.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return b.parse(unescape(encodeURIComponent(E)))}},_=u.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(E){typeof E=="string"&&(E=p.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var w,B=this._data,k=B.words,A=B.sigBytes,$=this.blockSize,I=$*4,D=A/I;E?D=n.ceil(D):D=n.max((D|0)-this._minBufferSize,0);var S=D*$,R=n.min(S*4,A);if(S){for(var U=0;U<S;U+=$)this._doProcessBlock(k,U);w=k.splice(0,S),B.sigBytes-=R}return new m.init(w,R)},clone:function(){var E=h.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0});u.Hasher=_.extend({cfg:h.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){E&&this._append(E);var w=this._doFinalize();return w},blockSize:512/32,_createHelper:function(E){return function(w,B){return new E.init(B).finalize(w)}},_createHmacHelper:function(E){return function(w,B){return new T.HMAC.init(E,B).finalize(w)}}});var T=d.algo={};return d}(Math);return t})})(core);var x64Core={exports:{}};(function(r,e){(function(t,n){r.exports=n(core.exports)})(commonjsGlobal,function(t){return function(n){var o=t,a=o.lib,c=a.Base,s=a.WordArray,d=o.x64={};d.Word=c.extend({init:function(u,h){this.high=u,this.low=h}}),d.WordArray=c.extend({init:function(u,h){u=this.words=u||[],h!=n?this.sigBytes=h:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,h=u.length,m=[],y=0;y<h;y++){var g=u[y];m.push(g.high),m.push(g.low)}return s.create(m,this.sigBytes)},clone:function(){for(var u=c.clone.call(this),h=u.words=this.words.slice(0),m=h.length,y=0;y<m;y++)h[y]=h[y].clone();return u}})}(),t})})(x64Core);var libTypedarrays={exports:{}};(function(r,e){(function(t,n){r.exports=n(core.exports)})(commonjsGlobal,function(t){return function(){if(typeof ArrayBuffer=="function"){var n=t,o=n.lib,a=o.WordArray,c=a.init,s=a.init=function(d){if(d instanceof ArrayBuffer&&(d=new Uint8Array(d)),(d instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&d instanceof Uint8ClampedArray||d instanceof Int16Array||d instanceof Uint16Array||d instanceof Int32Array||d instanceof Uint32Array||d instanceof Float32Array||d instanceof Float64Array)&&(d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength)),d instanceof Uint8Array){for(var u=d.byteLength,h=[],m=0;m<u;m++)h[m>>>2]|=d[m]<<24-m%4*8;c.call(this,h,u)}else c.apply(this,arguments)};s.prototype=a}}(),t.lib.WordArray})})(libTypedarrays);var encUtf16={exports:{}};(function(r,e){(function(t,n){r.exports=n(core.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.WordArray,c=n.enc;c.Utf16=c.Utf16BE={stringify:function(d){for(var u=d.words,h=d.sigBytes,m=[],y=0;y<h;y+=2){var g=u[y>>>2]>>>16-y%4*8&65535;m.push(String.fromCharCode(g))}return m.join("")},parse:function(d){for(var u=d.length,h=[],m=0;m<u;m++)h[m>>>1]|=d.charCodeAt(m)<<16-m%2*16;return a.create(h,u*2)}},c.Utf16LE={stringify:function(d){for(var u=d.words,h=d.sigBytes,m=[],y=0;y<h;y+=2){var g=s(u[y>>>2]>>>16-y%4*8&65535);m.push(String.fromCharCode(g))}return m.join("")},parse:function(d){for(var u=d.length,h=[],m=0;m<u;m++)h[m>>>1]|=s(d.charCodeAt(m)<<16-m%2*16);return a.create(h,u*2)}};function s(d){return d<<8&4278255360|d>>>8&16711935}}(),t.enc.Utf16})})(encUtf16);var encBase64={exports:{}};(function(r,e){(function(t,n){r.exports=n(core.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.WordArray,c=n.enc;c.Base64={stringify:function(d){var u=d.words,h=d.sigBytes,m=this._map;d.clamp();for(var y=[],g=0;g<h;g+=3)for(var b=u[g>>>2]>>>24-g%4*8&255,p=u[g+1>>>2]>>>24-(g+1)%4*8&255,_=u[g+2>>>2]>>>24-(g+2)%4*8&255,T=b<<16|p<<8|_,E=0;E<4&&g+E*.75<h;E++)y.push(m.charAt(T>>>6*(3-E)&63));var w=m.charAt(64);if(w)for(;y.length%4;)y.push(w);return y.join("")},parse:function(d){var u=d.length,h=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var y=0;y<h.length;y++)m[h.charCodeAt(y)]=y}var g=h.charAt(64);if(g){var b=d.indexOf(g);b!==-1&&(u=b)}return s(d,u,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(d,u,h){for(var m=[],y=0,g=0;g<u;g++)if(g%4){var b=h[d.charCodeAt(g-1)]<<g%4*2,p=h[d.charCodeAt(g)]>>>6-g%4*2,_=b|p;m[y>>>2]|=_<<24-y%4*8,y++}return a.create(m,y)}}(),t.enc.Base64})})(encBase64);var encBase64url={exports:{}};(function(r,e){(function(t,n){r.exports=n(core.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.WordArray,c=n.enc;c.Base64url={stringify:function(d,u=!0){var h=d.words,m=d.sigBytes,y=u?this._safe_map:this._map;d.clamp();for(var g=[],b=0;b<m;b+=3)for(var p=h[b>>>2]>>>24-b%4*8&255,_=h[b+1>>>2]>>>24-(b+1)%4*8&255,T=h[b+2>>>2]>>>24-(b+2)%4*8&255,E=p<<16|_<<8|T,w=0;w<4&&b+w*.75<m;w++)g.push(y.charAt(E>>>6*(3-w)&63));var B=y.charAt(64);if(B)for(;g.length%4;)g.push(B);return g.join("")},parse:function(d,u=!0){var h=d.length,m=u?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var g=0;g<m.length;g++)y[m.charCodeAt(g)]=g}var b=m.charAt(64);if(b){var p=d.indexOf(b);p!==-1&&(h=p)}return s(d,h,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(d,u,h){for(var m=[],y=0,g=0;g<u;g++)if(g%4){var b=h[d.charCodeAt(g-1)]<<g%4*2,p=h[d.charCodeAt(g)]>>>6-g%4*2,_=b|p;m[y>>>2]|=_<<24-y%4*8,y++}return a.create(m,y)}}(),t.enc.Base64url})})(encBase64url);var md5={exports:{}};(function(r,e){(function(t,n){r.exports=n(core.exports)})(commonjsGlobal,function(t){return function(n){var o=t,a=o.lib,c=a.WordArray,s=a.Hasher,d=o.algo,u=[];(function(){for(var p=0;p<64;p++)u[p]=n.abs(n.sin(p+1))*4294967296|0})();var h=d.MD5=s.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,_){for(var T=0;T<16;T++){var E=_+T,w=p[E];p[E]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var B=this._hash.words,k=p[_+0],A=p[_+1],$=p[_+2],I=p[_+3],D=p[_+4],S=p[_+5],R=p[_+6],U=p[_+7],P=p[_+8],M=p[_+9],H=p[_+10],G=p[_+11],Q=p[_+12],q=p[_+13],Z=p[_+14],K=p[_+15],F=B[0],L=B[1],j=B[2],z=B[3];F=m(F,L,j,z,k,7,u[0]),z=m(z,F,L,j,A,12,u[1]),j=m(j,z,F,L,$,17,u[2]),L=m(L,j,z,F,I,22,u[3]),F=m(F,L,j,z,D,7,u[4]),z=m(z,F,L,j,S,12,u[5]),j=m(j,z,F,L,R,17,u[6]),L=m(L,j,z,F,U,22,u[7]),F=m(F,L,j,z,P,7,u[8]),z=m(z,F,L,j,M,12,u[9]),j=m(j,z,F,L,H,17,u[10]),L=m(L,j,z,F,G,22,u[11]),F=m(F,L,j,z,Q,7,u[12]),z=m(z,F,L,j,q,12,u[13]),j=m(j,z,F,L,Z,17,u[14]),L=m(L,j,z,F,K,22,u[15]),F=y(F,L,j,z,A,5,u[16]),z=y(z,F,L,j,R,9,u[17]),j=y(j,z,F,L,G,14,u[18]),L=y(L,j,z,F,k,20,u[19]),F=y(F,L,j,z,S,5,u[20]),z=y(z,F,L,j,H,9,u[21]),j=y(j,z,F,L,K,14,u[22]),L=y(L,j,z,F,D,20,u[23]),F=y(F,L,j,z,M,5,u[24]),z=y(z,F,L,j,Z,9,u[25]),j=y(j,z,F,L,I,14,u[26]),L=y(L,j,z,F,P,20,u[27]),F=y(F,L,j,z,q,5,u[28]),z=y(z,F,L,j,$,9,u[29]),j=y(j,z,F,L,U,14,u[30]),L=y(L,j,z,F,Q,20,u[31]),F=g(F,L,j,z,S,4,u[32]),z=g(z,F,L,j,P,11,u[33]),j=g(j,z,F,L,G,16,u[34]),L=g(L,j,z,F,Z,23,u[35]),F=g(F,L,j,z,A,4,u[36]),z=g(z,F,L,j,D,11,u[37]),j=g(j,z,F,L,U,16,u[38]),L=g(L,j,z,F,H,23,u[39]),F=g(F,L,j,z,q,4,u[40]),z=g(z,F,L,j,k,11,u[41]),j=g(j,z,F,L,I,16,u[42]),L=g(L,j,z,F,R,23,u[43]),F=g(F,L,j,z,M,4,u[44]),z=g(z,F,L,j,Q,11,u[45]),j=g(j,z,F,L,K,16,u[46]),L=g(L,j,z,F,$,23,u[47]),F=b(F,L,j,z,k,6,u[48]),z=b(z,F,L,j,U,10,u[49]),j=b(j,z,F,L,Z,15,u[50]),L=b(L,j,z,F,S,21,u[51]),F=b(F,L,j,z,Q,6,u[52]),z=b(z,F,L,j,I,10,u[53]),j=b(j,z,F,L,H,15,u[54]),L=b(L,j,z,F,A,21,u[55]),F=b(F,L,j,z,P,6,u[56]),z=b(z,F,L,j,K,10,u[57]),j=b(j,z,F,L,R,15,u[58]),L=b(L,j,z,F,q,21,u[59]),F=b(F,L,j,z,D,6,u[60]),z=b(z,F,L,j,G,10,u[61]),j=b(j,z,F,L,$,15,u[62]),L=b(L,j,z,F,M,21,u[63]),B[0]=B[0]+F|0,B[1]=B[1]+L|0,B[2]=B[2]+j|0,B[3]=B[3]+z|0},_doFinalize:function(){var p=this._data,_=p.words,T=this._nDataBytes*8,E=p.sigBytes*8;_[E>>>5]|=128<<24-E%32;var w=n.floor(T/4294967296),B=T;_[(E+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,_[(E+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,p.sigBytes=(_.length+1)*4,this._process();for(var k=this._hash,A=k.words,$=0;$<4;$++){var I=A[$];A[$]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}return k},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p}});function m(p,_,T,E,w,B,k){var A=p+(_&T|~_&E)+w+k;return(A<<B|A>>>32-B)+_}function y(p,_,T,E,w,B,k){var A=p+(_&E|T&~E)+w+k;return(A<<B|A>>>32-B)+_}function g(p,_,T,E,w,B,k){var A=p+(_^T^E)+w+k;return(A<<B|A>>>32-B)+_}function b(p,_,T,E,w,B,k){var A=p+(T^(_|~E))+w+k;return(A<<B|A>>>32-B)+_}o.MD5=s._createHelper(h),o.HmacMD5=s._createHmacHelper(h)}(Math),t.MD5})})(md5);var sha1={exports:{}};(function(r,e){(function(t,n){r.exports=n(core.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.WordArray,c=o.Hasher,s=n.algo,d=[],u=s.SHA1=c.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,m){for(var y=this._hash.words,g=y[0],b=y[1],p=y[2],_=y[3],T=y[4],E=0;E<80;E++){if(E<16)d[E]=h[m+E]|0;else{var w=d[E-3]^d[E-8]^d[E-14]^d[E-16];d[E]=w<<1|w>>>31}var B=(g<<5|g>>>27)+T+d[E];E<20?B+=(b&p|~b&_)+1518500249:E<40?B+=(b^p^_)+1859775393:E<60?B+=(b&p|b&_|p&_)-1894007588:B+=(b^p^_)-899497514,T=_,_=p,p=b<<30|b>>>2,b=g,g=B}y[0]=y[0]+g|0,y[1]=y[1]+b|0,y[2]=y[2]+p|0,y[3]=y[3]+_|0,y[4]=y[4]+T|0},_doFinalize:function(){var h=this._data,m=h.words,y=this._nDataBytes*8,g=h.sigBytes*8;return m[g>>>5]|=128<<24-g%32,m[(g+64>>>9<<4)+14]=Math.floor(y/4294967296),m[(g+64>>>9<<4)+15]=y,h.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var h=c.clone.call(this);return h._hash=this._hash.clone(),h}});n.SHA1=c._createHelper(u),n.HmacSHA1=c._createHmacHelper(u)}(),t.SHA1})})(sha1);var sha256={exports:{}};(function(r,e){(function(t,n){r.exports=n(core.exports)})(commonjsGlobal,function(t){return function(n){var o=t,a=o.lib,c=a.WordArray,s=a.Hasher,d=o.algo,u=[],h=[];(function(){function g(T){for(var E=n.sqrt(T),w=2;w<=E;w++)if(!(T%w))return!1;return!0}function b(T){return(T-(T|0))*4294967296|0}for(var p=2,_=0;_<64;)g(p)&&(_<8&&(u[_]=b(n.pow(p,1/2))),h[_]=b(n.pow(p,1/3)),_++),p++})();var m=[],y=d.SHA256=s.extend({_doReset:function(){this._hash=new c.init(u.slice(0))},_doProcessBlock:function(g,b){for(var p=this._hash.words,_=p[0],T=p[1],E=p[2],w=p[3],B=p[4],k=p[5],A=p[6],$=p[7],I=0;I<64;I++){if(I<16)m[I]=g[b+I]|0;else{var D=m[I-15],S=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,R=m[I-2],U=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;m[I]=S+m[I-7]+U+m[I-16]}var P=B&k^~B&A,M=_&T^_&E^T&E,H=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),G=(B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25),Q=$+G+P+h[I]+m[I],q=H+M;$=A,A=k,k=B,B=w+Q|0,w=E,E=T,T=_,_=Q+q|0}p[0]=p[0]+_|0,p[1]=p[1]+T|0,p[2]=p[2]+E|0,p[3]=p[3]+w|0,p[4]=p[4]+B|0,p[5]=p[5]+k|0,p[6]=p[6]+A|0,p[7]=p[7]+$|0},_doFinalize:function(){var g=this._data,b=g.words,p=this._nDataBytes*8,_=g.sigBytes*8;return b[_>>>5]|=128<<24-_%32,b[(_+64>>>9<<4)+14]=n.floor(p/4294967296),b[(_+64>>>9<<4)+15]=p,g.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g}});o.SHA256=s._createHelper(y),o.HmacSHA256=s._createHmacHelper(y)}(Math),t.SHA256})})(sha256);var sha224={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,sha256.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.WordArray,c=n.algo,s=c.SHA256,d=c.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=s._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=s._createHelper(d),n.HmacSHA224=s._createHmacHelper(d)}(),t.SHA224})})(sha224);var sha512={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,x64Core.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.Hasher,c=n.x64,s=c.Word,d=c.WordArray,u=n.algo;function h(){return s.create.apply(s,arguments)}var m=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],y=[];(function(){for(var b=0;b<80;b++)y[b]=h()})();var g=u.SHA512=a.extend({_doReset:function(){this._hash=new d.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(b,p){for(var _=this._hash.words,T=_[0],E=_[1],w=_[2],B=_[3],k=_[4],A=_[5],$=_[6],I=_[7],D=T.high,S=T.low,R=E.high,U=E.low,P=w.high,M=w.low,H=B.high,G=B.low,Q=k.high,q=k.low,Z=A.high,K=A.low,F=$.high,L=$.low,j=I.high,z=I.low,J=D,Y=S,se=R,W=U,he=P,de=M,Ee=H,pe=G,ae=Q,oe=q,_e=Z,we=K,ye=F,be=L,ke=j,xe=z,ce=0;ce<80;ce++){var ne,ue,ve=y[ce];if(ce<16)ue=ve.high=b[p+ce*2]|0,ne=ve.low=b[p+ce*2+1]|0;else{var le=y[ce-15],ge=le.high,x=le.low,f=(ge>>>1|x<<31)^(ge>>>8|x<<24)^ge>>>7,l=(x>>>1|ge<<31)^(x>>>8|ge<<24)^(x>>>7|ge<<25),v=y[ce-2],C=v.high,O=v.low,N=(C>>>19|O<<13)^(C<<3|O>>>29)^C>>>6,V=(O>>>19|C<<13)^(O<<3|C>>>29)^(O>>>6|C<<26),te=y[ce-7],ee=te.high,re=te.low,X=y[ce-16],Oe=X.high,Ae=X.low;ne=l+re,ue=f+ee+(ne>>>0<l>>>0?1:0),ne=ne+V,ue=ue+N+(ne>>>0<V>>>0?1:0),ne=ne+Ae,ue=ue+Oe+(ne>>>0<Ae>>>0?1:0),ve.high=ue,ve.low=ne}var Fe=ae&_e^~ae&ye,Te=oe&we^~oe&be,Ne=J&se^J&he^se&he,Ue=Y&W^Y&de^W&de,Le=(J>>>28|Y<<4)^(J<<30|Y>>>2)^(J<<25|Y>>>7),$e=(Y>>>28|J<<4)^(Y<<30|J>>>2)^(Y<<25|J>>>7),Pe=(ae>>>14|oe<<18)^(ae>>>18|oe<<14)^(ae<<23|oe>>>9),ze=(oe>>>14|ae<<18)^(oe>>>18|ae<<14)^(oe<<23|ae>>>9),Se=m[ce],je=Se.high,Ce=Se.low,fe=xe+ze,me=ke+Pe+(fe>>>0<xe>>>0?1:0),fe=fe+Te,me=me+Fe+(fe>>>0<Te>>>0?1:0),fe=fe+Ce,me=me+je+(fe>>>0<Ce>>>0?1:0),fe=fe+ne,me=me+ue+(fe>>>0<ne>>>0?1:0),Ie=$e+Ue,He=Le+Ne+(Ie>>>0<$e>>>0?1:0);ke=ye,xe=be,ye=_e,be=we,_e=ae,we=oe,oe=pe+fe|0,ae=Ee+me+(oe>>>0<pe>>>0?1:0)|0,Ee=he,pe=de,he=se,de=W,se=J,W=Y,Y=fe+Ie|0,J=me+He+(Y>>>0<fe>>>0?1:0)|0}S=T.low=S+Y,T.high=D+J+(S>>>0<Y>>>0?1:0),U=E.low=U+W,E.high=R+se+(U>>>0<W>>>0?1:0),M=w.low=M+de,w.high=P+he+(M>>>0<de>>>0?1:0),G=B.low=G+pe,B.high=H+Ee+(G>>>0<pe>>>0?1:0),q=k.low=q+oe,k.high=Q+ae+(q>>>0<oe>>>0?1:0),K=A.low=K+we,A.high=Z+_e+(K>>>0<we>>>0?1:0),L=$.low=L+be,$.high=F+ye+(L>>>0<be>>>0?1:0),z=I.low=z+xe,I.high=j+ke+(z>>>0<xe>>>0?1:0)},_doFinalize:function(){var b=this._data,p=b.words,_=this._nDataBytes*8,T=b.sigBytes*8;p[T>>>5]|=128<<24-T%32,p[(T+128>>>10<<5)+30]=Math.floor(_/4294967296),p[(T+128>>>10<<5)+31]=_,b.sigBytes=p.length*4,this._process();var E=this._hash.toX32();return E},clone:function(){var b=a.clone.call(this);return b._hash=this._hash.clone(),b},blockSize:1024/32});n.SHA512=a._createHelper(g),n.HmacSHA512=a._createHmacHelper(g)}(),t.SHA512})})(sha512);var sha384={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,x64Core.exports,sha512.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.x64,a=o.Word,c=o.WordArray,s=n.algo,d=s.SHA512,u=s.SHA384=d.extend({_doReset:function(){this._hash=new c.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var h=d._doFinalize.call(this);return h.sigBytes-=16,h}});n.SHA384=d._createHelper(u),n.HmacSHA384=d._createHmacHelper(u)}(),t.SHA384})})(sha384);var sha3={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,x64Core.exports)})(commonjsGlobal,function(t){return function(n){var o=t,a=o.lib,c=a.WordArray,s=a.Hasher,d=o.x64,u=d.Word,h=o.algo,m=[],y=[],g=[];(function(){for(var _=1,T=0,E=0;E<24;E++){m[_+5*T]=(E+1)*(E+2)/2%64;var w=T%5,B=(2*_+3*T)%5;_=w,T=B}for(var _=0;_<5;_++)for(var T=0;T<5;T++)y[_+5*T]=T+(2*_+3*T)%5*5;for(var k=1,A=0;A<24;A++){for(var $=0,I=0,D=0;D<7;D++){if(k&1){var S=(1<<D)-1;S<32?I^=1<<S:$^=1<<S-32}k&128?k=k<<1^113:k<<=1}g[A]=u.create($,I)}})();var b=[];(function(){for(var _=0;_<25;_++)b[_]=u.create()})();var p=h.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var _=this._state=[],T=0;T<25;T++)_[T]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(_,T){for(var E=this._state,w=this.blockSize/2,B=0;B<w;B++){var k=_[T+2*B],A=_[T+2*B+1];k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360;var $=E[B];$.high^=A,$.low^=k}for(var I=0;I<24;I++){for(var D=0;D<5;D++){for(var S=0,R=0,U=0;U<5;U++){var $=E[D+5*U];S^=$.high,R^=$.low}var P=b[D];P.high=S,P.low=R}for(var D=0;D<5;D++)for(var M=b[(D+4)%5],H=b[(D+1)%5],G=H.high,Q=H.low,S=M.high^(G<<1|Q>>>31),R=M.low^(Q<<1|G>>>31),U=0;U<5;U++){var $=E[D+5*U];$.high^=S,$.low^=R}for(var q=1;q<25;q++){var S,R,$=E[q],Z=$.high,K=$.low,F=m[q];F<32?(S=Z<<F|K>>>32-F,R=K<<F|Z>>>32-F):(S=K<<F-32|Z>>>64-F,R=Z<<F-32|K>>>64-F);var L=b[y[q]];L.high=S,L.low=R}var j=b[0],z=E[0];j.high=z.high,j.low=z.low;for(var D=0;D<5;D++)for(var U=0;U<5;U++){var q=D+5*U,$=E[q],J=b[q],Y=b[(D+1)%5+5*U],se=b[(D+2)%5+5*U];$.high=J.high^~Y.high&se.high,$.low=J.low^~Y.low&se.low}var $=E[0],W=g[I];$.high^=W.high,$.low^=W.low}},_doFinalize:function(){var _=this._data,T=_.words;this._nDataBytes*8;var E=_.sigBytes*8,w=this.blockSize*32;T[E>>>5]|=1<<24-E%32,T[(n.ceil((E+1)/w)*w>>>5)-1]|=128,_.sigBytes=T.length*4,this._process();for(var B=this._state,k=this.cfg.outputLength/8,A=k/8,$=[],I=0;I<A;I++){var D=B[I],S=D.high,R=D.low;S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,$.push(R),$.push(S)}return new c.init($,k)},clone:function(){for(var _=s.clone.call(this),T=_._state=this._state.slice(0),E=0;E<25;E++)T[E]=T[E].clone();return _}});o.SHA3=s._createHelper(p),o.HmacSHA3=s._createHmacHelper(p)}(Math),t.SHA3})})(sha3);var ripemd160={exports:{}};(function(r,e){(function(t,n){r.exports=n(core.exports)})(commonjsGlobal,function(t){/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(n){var o=t,a=o.lib,c=a.WordArray,s=a.Hasher,d=o.algo,u=c.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=c.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=c.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=c.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),g=c.create([0,1518500249,1859775393,2400959708,2840853838]),b=c.create([1352829926,1548603684,1836072691,2053994217,0]),p=d.RIPEMD160=s.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,$){for(var I=0;I<16;I++){var D=$+I,S=A[D];A[D]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var R=this._hash.words,U=g.words,P=b.words,M=u.words,H=h.words,G=m.words,Q=y.words,q,Z,K,F,L,j,z,J,Y,se;j=q=R[0],z=Z=R[1],J=K=R[2],Y=F=R[3],se=L=R[4];for(var W,I=0;I<80;I+=1)W=q+A[$+M[I]]|0,I<16?W+=_(Z,K,F)+U[0]:I<32?W+=T(Z,K,F)+U[1]:I<48?W+=E(Z,K,F)+U[2]:I<64?W+=w(Z,K,F)+U[3]:W+=B(Z,K,F)+U[4],W=W|0,W=k(W,G[I]),W=W+L|0,q=L,L=F,F=k(K,10),K=Z,Z=W,W=j+A[$+H[I]]|0,I<16?W+=B(z,J,Y)+P[0]:I<32?W+=w(z,J,Y)+P[1]:I<48?W+=E(z,J,Y)+P[2]:I<64?W+=T(z,J,Y)+P[3]:W+=_(z,J,Y)+P[4],W=W|0,W=k(W,Q[I]),W=W+se|0,j=se,se=Y,Y=k(J,10),J=z,z=W;W=R[1]+K+Y|0,R[1]=R[2]+F+se|0,R[2]=R[3]+L+j|0,R[3]=R[4]+q+z|0,R[4]=R[0]+Z+J|0,R[0]=W},_doFinalize:function(){var A=this._data,$=A.words,I=this._nDataBytes*8,D=A.sigBytes*8;$[D>>>5]|=128<<24-D%32,$[(D+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,A.sigBytes=($.length+1)*4,this._process();for(var S=this._hash,R=S.words,U=0;U<5;U++){var P=R[U];R[U]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return S},clone:function(){var A=s.clone.call(this);return A._hash=this._hash.clone(),A}});function _(A,$,I){return A^$^I}function T(A,$,I){return A&$|~A&I}function E(A,$,I){return(A|~$)^I}function w(A,$,I){return A&I|$&~I}function B(A,$,I){return A^($|~I)}function k(A,$){return A<<$|A>>>32-$}o.RIPEMD160=s._createHelper(p),o.HmacRIPEMD160=s._createHmacHelper(p)}(),t.RIPEMD160})})(ripemd160);var hmac={exports:{}};(function(r,e){(function(t,n){r.exports=n(core.exports)})(commonjsGlobal,function(t){(function(){var n=t,o=n.lib,a=o.Base,c=n.enc,s=c.Utf8,d=n.algo;d.HMAC=a.extend({init:function(u,h){u=this._hasher=new u.init,typeof h=="string"&&(h=s.parse(h));var m=u.blockSize,y=m*4;h.sigBytes>y&&(h=u.finalize(h)),h.clamp();for(var g=this._oKey=h.clone(),b=this._iKey=h.clone(),p=g.words,_=b.words,T=0;T<m;T++)p[T]^=1549556828,_[T]^=909522486;g.sigBytes=b.sigBytes=y,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var h=this._hasher,m=h.finalize(u);h.reset();var y=h.finalize(this._oKey.clone().concat(m));return y}})})()})})(hmac);var pbkdf2={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,sha1.exports,hmac.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.Base,c=o.WordArray,s=n.algo,d=s.SHA1,u=s.HMAC,h=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:d,iterations:1}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,y){for(var g=this.cfg,b=u.create(g.hasher,m),p=c.create(),_=c.create([1]),T=p.words,E=_.words,w=g.keySize,B=g.iterations;T.length<w;){var k=b.update(y).finalize(_);b.reset();for(var A=k.words,$=A.length,I=k,D=1;D<B;D++){I=b.finalize(I),b.reset();for(var S=I.words,R=0;R<$;R++)A[R]^=S[R]}p.concat(k),E[0]++}return p.sigBytes=w*4,p}});n.PBKDF2=function(m,y,g){return h.create(g).compute(m,y)}}(),t.PBKDF2})})(pbkdf2);var evpkdf={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,sha1.exports,hmac.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.Base,c=o.WordArray,s=n.algo,d=s.MD5,u=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:d,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,m){for(var y,g=this.cfg,b=g.hasher.create(),p=c.create(),_=p.words,T=g.keySize,E=g.iterations;_.length<T;){y&&b.update(y),y=b.update(h).finalize(m),b.reset();for(var w=1;w<E;w++)y=b.finalize(y),b.reset();p.concat(y)}return p.sigBytes=T*4,p}});n.EvpKDF=function(h,m,y){return u.create(y).compute(h,m)}}(),t.EvpKDF})})(evpkdf);var cipherCore={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,evpkdf.exports)})(commonjsGlobal,function(t){t.lib.Cipher||function(n){var o=t,a=o.lib,c=a.Base,s=a.WordArray,d=a.BufferedBlockAlgorithm,u=o.enc;u.Utf8;var h=u.Base64,m=o.algo,y=m.EvpKDF,g=a.Cipher=d.extend({cfg:c.extend(),createEncryptor:function(S,R){return this.create(this._ENC_XFORM_MODE,S,R)},createDecryptor:function(S,R){return this.create(this._DEC_XFORM_MODE,S,R)},init:function(S,R,U){this.cfg=this.cfg.extend(U),this._xformMode=S,this._key=R,this.reset()},reset:function(){d.reset.call(this),this._doReset()},process:function(S){return this._append(S),this._process()},finalize:function(S){S&&this._append(S);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function S(R){return typeof R=="string"?D:A}return function(R){return{encrypt:function(U,P,M){return S(P).encrypt(R,U,P,M)},decrypt:function(U,P,M){return S(P).decrypt(R,U,P,M)}}}}()});a.StreamCipher=g.extend({_doFinalize:function(){var S=this._process(!0);return S},blockSize:1});var b=o.mode={},p=a.BlockCipherMode=c.extend({createEncryptor:function(S,R){return this.Encryptor.create(S,R)},createDecryptor:function(S,R){return this.Decryptor.create(S,R)},init:function(S,R){this._cipher=S,this._iv=R}}),_=b.CBC=function(){var S=p.extend();S.Encryptor=S.extend({processBlock:function(U,P){var M=this._cipher,H=M.blockSize;R.call(this,U,P,H),M.encryptBlock(U,P),this._prevBlock=U.slice(P,P+H)}}),S.Decryptor=S.extend({processBlock:function(U,P){var M=this._cipher,H=M.blockSize,G=U.slice(P,P+H);M.decryptBlock(U,P),R.call(this,U,P,H),this._prevBlock=G}});function R(U,P,M){var H,G=this._iv;G?(H=G,this._iv=n):H=this._prevBlock;for(var Q=0;Q<M;Q++)U[P+Q]^=H[Q]}return S}(),T=o.pad={},E=T.Pkcs7={pad:function(S,R){for(var U=R*4,P=U-S.sigBytes%U,M=P<<24|P<<16|P<<8|P,H=[],G=0;G<P;G+=4)H.push(M);var Q=s.create(H,P);S.concat(Q)},unpad:function(S){var R=S.words[S.sigBytes-1>>>2]&255;S.sigBytes-=R}};a.BlockCipher=g.extend({cfg:g.cfg.extend({mode:_,padding:E}),reset:function(){var S;g.reset.call(this);var R=this.cfg,U=R.iv,P=R.mode;this._xformMode==this._ENC_XFORM_MODE?S=P.createEncryptor:(S=P.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==S?this._mode.init(this,U&&U.words):(this._mode=S.call(P,this,U&&U.words),this._mode.__creator=S)},_doProcessBlock:function(S,R){this._mode.processBlock(S,R)},_doFinalize:function(){var S,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),S=this._process(!0)):(S=this._process(!0),R.unpad(S)),S},blockSize:128/32});var w=a.CipherParams=c.extend({init:function(S){this.mixIn(S)},toString:function(S){return(S||this.formatter).stringify(this)}}),B=o.format={},k=B.OpenSSL={stringify:function(S){var R,U=S.ciphertext,P=S.salt;return P?R=s.create([1398893684,1701076831]).concat(P).concat(U):R=U,R.toString(h)},parse:function(S){var R,U=h.parse(S),P=U.words;return P[0]==1398893684&&P[1]==1701076831&&(R=s.create(P.slice(2,4)),P.splice(0,4),U.sigBytes-=16),w.create({ciphertext:U,salt:R})}},A=a.SerializableCipher=c.extend({cfg:c.extend({format:k}),encrypt:function(S,R,U,P){P=this.cfg.extend(P);var M=S.createEncryptor(U,P),H=M.finalize(R),G=M.cfg;return w.create({ciphertext:H,key:U,iv:G.iv,algorithm:S,mode:G.mode,padding:G.padding,blockSize:S.blockSize,formatter:P.format})},decrypt:function(S,R,U,P){P=this.cfg.extend(P),R=this._parse(R,P.format);var M=S.createDecryptor(U,P).finalize(R.ciphertext);return M},_parse:function(S,R){return typeof S=="string"?R.parse(S,this):S}}),$=o.kdf={},I=$.OpenSSL={execute:function(S,R,U,P){P||(P=s.random(64/8));var M=y.create({keySize:R+U}).compute(S,P),H=s.create(M.words.slice(R),U*4);return M.sigBytes=R*4,w.create({key:M,iv:H,salt:P})}},D=a.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:I}),encrypt:function(S,R,U,P){P=this.cfg.extend(P);var M=P.kdf.execute(U,S.keySize,S.ivSize);P.iv=M.iv;var H=A.encrypt.call(this,S,R,M.key,P);return H.mixIn(M),H},decrypt:function(S,R,U,P){P=this.cfg.extend(P),R=this._parse(R,P.format);var M=P.kdf.execute(U,S.keySize,S.ivSize,R.salt);P.iv=M.iv;var H=A.decrypt.call(this,S,R,M.key,P);return H}})}()})})(cipherCore);var modeCfb={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,cipherCore.exports)})(commonjsGlobal,function(t){return t.mode.CFB=function(){var n=t.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,c){var s=this._cipher,d=s.blockSize;o.call(this,a,c,d,s),this._prevBlock=a.slice(c,c+d)}}),n.Decryptor=n.extend({processBlock:function(a,c){var s=this._cipher,d=s.blockSize,u=a.slice(c,c+d);o.call(this,a,c,d,s),this._prevBlock=u}});function o(a,c,s,d){var u,h=this._iv;h?(u=h.slice(0),this._iv=void 0):u=this._prevBlock,d.encryptBlock(u,0);for(var m=0;m<s;m++)a[c+m]^=u[m]}return n}(),t.mode.CFB})})(modeCfb);var modeCtr={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,cipherCore.exports)})(commonjsGlobal,function(t){return t.mode.CTR=function(){var n=t.lib.BlockCipherMode.extend(),o=n.Encryptor=n.extend({processBlock:function(a,c){var s=this._cipher,d=s.blockSize,u=this._iv,h=this._counter;u&&(h=this._counter=u.slice(0),this._iv=void 0);var m=h.slice(0);s.encryptBlock(m,0),h[d-1]=h[d-1]+1|0;for(var y=0;y<d;y++)a[c+y]^=m[y]}});return n.Decryptor=o,n}(),t.mode.CTR})})(modeCtr);var modeCtrGladman={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,cipherCore.exports)})(commonjsGlobal,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var n=t.lib.BlockCipherMode.extend();function o(s){if((s>>24&255)==255){var d=s>>16&255,u=s>>8&255,h=s&255;d===255?(d=0,u===255?(u=0,h===255?h=0:++h):++u):++d,s=0,s+=d<<16,s+=u<<8,s+=h}else s+=1<<24;return s}function a(s){return(s[0]=o(s[0]))===0&&(s[1]=o(s[1])),s}var c=n.Encryptor=n.extend({processBlock:function(s,d){var u=this._cipher,h=u.blockSize,m=this._iv,y=this._counter;m&&(y=this._counter=m.slice(0),this._iv=void 0),a(y);var g=y.slice(0);u.encryptBlock(g,0);for(var b=0;b<h;b++)s[d+b]^=g[b]}});return n.Decryptor=c,n}(),t.mode.CTRGladman})})(modeCtrGladman);var modeOfb={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,cipherCore.exports)})(commonjsGlobal,function(t){return t.mode.OFB=function(){var n=t.lib.BlockCipherMode.extend(),o=n.Encryptor=n.extend({processBlock:function(a,c){var s=this._cipher,d=s.blockSize,u=this._iv,h=this._keystream;u&&(h=this._keystream=u.slice(0),this._iv=void 0),s.encryptBlock(h,0);for(var m=0;m<d;m++)a[c+m]^=h[m]}});return n.Decryptor=o,n}(),t.mode.OFB})})(modeOfb);var modeEcb={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,cipherCore.exports)})(commonjsGlobal,function(t){return t.mode.ECB=function(){var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(o,a){this._cipher.encryptBlock(o,a)}}),n.Decryptor=n.extend({processBlock:function(o,a){this._cipher.decryptBlock(o,a)}}),n}(),t.mode.ECB})})(modeEcb);var padAnsix923={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,cipherCore.exports)})(commonjsGlobal,function(t){return t.pad.AnsiX923={pad:function(n,o){var a=n.sigBytes,c=o*4,s=c-a%c,d=a+s-1;n.clamp(),n.words[d>>>2]|=s<<24-d%4*8,n.sigBytes+=s},unpad:function(n){var o=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=o}},t.pad.Ansix923})})(padAnsix923);var padIso10126={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,cipherCore.exports)})(commonjsGlobal,function(t){return t.pad.Iso10126={pad:function(n,o){var a=o*4,c=a-n.sigBytes%a;n.concat(t.lib.WordArray.random(c-1)).concat(t.lib.WordArray.create([c<<24],1))},unpad:function(n){var o=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=o}},t.pad.Iso10126})})(padIso10126);var padIso97971={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,cipherCore.exports)})(commonjsGlobal,function(t){return t.pad.Iso97971={pad:function(n,o){n.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(n,o)},unpad:function(n){t.pad.ZeroPadding.unpad(n),n.sigBytes--}},t.pad.Iso97971})})(padIso97971);var padZeropadding={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,cipherCore.exports)})(commonjsGlobal,function(t){return t.pad.ZeroPadding={pad:function(n,o){var a=o*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var o=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(o[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},t.pad.ZeroPadding})})(padZeropadding);var padNopadding={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,cipherCore.exports)})(commonjsGlobal,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(padNopadding);var formatHex={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,cipherCore.exports)})(commonjsGlobal,function(t){return function(n){var o=t,a=o.lib,c=a.CipherParams,s=o.enc,d=s.Hex,u=o.format;u.Hex={stringify:function(h){return h.ciphertext.toString(d)},parse:function(h){var m=d.parse(h);return c.create({ciphertext:m})}}}(),t.format.Hex})})(formatHex);var aes={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.BlockCipher,c=n.algo,s=[],d=[],u=[],h=[],m=[],y=[],g=[],b=[],p=[],_=[];(function(){for(var w=[],B=0;B<256;B++)B<128?w[B]=B<<1:w[B]=B<<1^283;for(var k=0,A=0,B=0;B<256;B++){var $=A^A<<1^A<<2^A<<3^A<<4;$=$>>>8^$&255^99,s[k]=$,d[$]=k;var I=w[k],D=w[I],S=w[D],R=w[$]*257^$*16843008;u[k]=R<<24|R>>>8,h[k]=R<<16|R>>>16,m[k]=R<<8|R>>>24,y[k]=R;var R=S*16843009^D*65537^I*257^k*16843008;g[$]=R<<24|R>>>8,b[$]=R<<16|R>>>16,p[$]=R<<8|R>>>24,_[$]=R,k?(k=I^w[w[w[S^I]]],A^=w[w[A]]):k=A=1}})();var T=[0,1,2,4,8,16,32,64,128,27,54],E=c.AES=a.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var B=this._keyPriorReset=this._key,k=B.words,A=B.sigBytes/4,$=this._nRounds=A+6,I=($+1)*4,D=this._keySchedule=[],S=0;S<I;S++)S<A?D[S]=k[S]:(w=D[S-1],S%A?A>6&&S%A==4&&(w=s[w>>>24]<<24|s[w>>>16&255]<<16|s[w>>>8&255]<<8|s[w&255]):(w=w<<8|w>>>24,w=s[w>>>24]<<24|s[w>>>16&255]<<16|s[w>>>8&255]<<8|s[w&255],w^=T[S/A|0]<<24),D[S]=D[S-A]^w);for(var R=this._invKeySchedule=[],U=0;U<I;U++){var S=I-U;if(U%4)var w=D[S];else var w=D[S-4];U<4||S<=4?R[U]=w:R[U]=g[s[w>>>24]]^b[s[w>>>16&255]]^p[s[w>>>8&255]]^_[s[w&255]]}}},encryptBlock:function(w,B){this._doCryptBlock(w,B,this._keySchedule,u,h,m,y,s)},decryptBlock:function(w,B){var k=w[B+1];w[B+1]=w[B+3],w[B+3]=k,this._doCryptBlock(w,B,this._invKeySchedule,g,b,p,_,d);var k=w[B+1];w[B+1]=w[B+3],w[B+3]=k},_doCryptBlock:function(w,B,k,A,$,I,D,S){for(var R=this._nRounds,U=w[B]^k[0],P=w[B+1]^k[1],M=w[B+2]^k[2],H=w[B+3]^k[3],G=4,Q=1;Q<R;Q++){var q=A[U>>>24]^$[P>>>16&255]^I[M>>>8&255]^D[H&255]^k[G++],Z=A[P>>>24]^$[M>>>16&255]^I[H>>>8&255]^D[U&255]^k[G++],K=A[M>>>24]^$[H>>>16&255]^I[U>>>8&255]^D[P&255]^k[G++],F=A[H>>>24]^$[U>>>16&255]^I[P>>>8&255]^D[M&255]^k[G++];U=q,P=Z,M=K,H=F}var q=(S[U>>>24]<<24|S[P>>>16&255]<<16|S[M>>>8&255]<<8|S[H&255])^k[G++],Z=(S[P>>>24]<<24|S[M>>>16&255]<<16|S[H>>>8&255]<<8|S[U&255])^k[G++],K=(S[M>>>24]<<24|S[H>>>16&255]<<16|S[U>>>8&255]<<8|S[P&255])^k[G++],F=(S[H>>>24]<<24|S[U>>>16&255]<<16|S[P>>>8&255]<<8|S[M&255])^k[G++];w[B]=q,w[B+1]=Z,w[B+2]=K,w[B+3]=F},keySize:256/32});n.AES=a._createHelper(E)}(),t.AES})})(aes);var tripledes={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.WordArray,c=o.BlockCipher,s=n.algo,d=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=s.DES=c.extend({_doReset:function(){for(var T=this._key,E=T.words,w=[],B=0;B<56;B++){var k=d[B]-1;w[B]=E[k>>>5]>>>31-k%32&1}for(var A=this._subKeys=[],$=0;$<16;$++){for(var I=A[$]=[],D=h[$],B=0;B<24;B++)I[B/6|0]|=w[(u[B]-1+D)%28]<<31-B%6,I[4+(B/6|0)]|=w[28+(u[B+24]-1+D)%28]<<31-B%6;I[0]=I[0]<<1|I[0]>>>31;for(var B=1;B<7;B++)I[B]=I[B]>>>(B-1)*4+3;I[7]=I[7]<<5|I[7]>>>27}for(var S=this._invSubKeys=[],B=0;B<16;B++)S[B]=A[15-B]},encryptBlock:function(T,E){this._doCryptBlock(T,E,this._subKeys)},decryptBlock:function(T,E){this._doCryptBlock(T,E,this._invSubKeys)},_doCryptBlock:function(T,E,w){this._lBlock=T[E],this._rBlock=T[E+1],b.call(this,4,252645135),b.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),b.call(this,1,1431655765);for(var B=0;B<16;B++){for(var k=w[B],A=this._lBlock,$=this._rBlock,I=0,D=0;D<8;D++)I|=m[D][(($^k[D])&y[D])>>>0];this._lBlock=$,this._rBlock=A^I}var S=this._lBlock;this._lBlock=this._rBlock,this._rBlock=S,b.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),b.call(this,16,65535),b.call(this,4,252645135),T[E]=this._lBlock,T[E+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function b(T,E){var w=(this._lBlock>>>T^this._rBlock)&E;this._rBlock^=w,this._lBlock^=w<<T}function p(T,E){var w=(this._rBlock>>>T^this._lBlock)&E;this._lBlock^=w,this._rBlock^=w<<T}n.DES=c._createHelper(g);var _=s.TripleDES=c.extend({_doReset:function(){var T=this._key,E=T.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=E.slice(0,2),B=E.length<4?E.slice(0,2):E.slice(2,4),k=E.length<6?E.slice(0,2):E.slice(4,6);this._des1=g.createEncryptor(a.create(w)),this._des2=g.createEncryptor(a.create(B)),this._des3=g.createEncryptor(a.create(k))},encryptBlock:function(T,E){this._des1.encryptBlock(T,E),this._des2.decryptBlock(T,E),this._des3.encryptBlock(T,E)},decryptBlock:function(T,E){this._des3.decryptBlock(T,E),this._des2.encryptBlock(T,E),this._des1.decryptBlock(T,E)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=c._createHelper(_)}(),t.TripleDES})})(tripledes);var rc4={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.StreamCipher,c=n.algo,s=c.RC4=a.extend({_doReset:function(){for(var h=this._key,m=h.words,y=h.sigBytes,g=this._S=[],b=0;b<256;b++)g[b]=b;for(var b=0,p=0;b<256;b++){var _=b%y,T=m[_>>>2]>>>24-_%4*8&255;p=(p+g[b]+T)%256;var E=g[b];g[b]=g[p],g[p]=E}this._i=this._j=0},_doProcessBlock:function(h,m){h[m]^=d.call(this)},keySize:256/32,ivSize:0});function d(){for(var h=this._S,m=this._i,y=this._j,g=0,b=0;b<4;b++){m=(m+1)%256,y=(y+h[m])%256;var p=h[m];h[m]=h[y],h[y]=p,g|=h[(h[m]+h[y])%256]<<24-b*8}return this._i=m,this._j=y,g}n.RC4=a._createHelper(s);var u=c.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var h=this.cfg.drop;h>0;h--)d.call(this)}});n.RC4Drop=a._createHelper(u)}(),t.RC4})})(rc4);var rabbit={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.StreamCipher,c=n.algo,s=[],d=[],u=[],h=c.Rabbit=a.extend({_doReset:function(){for(var y=this._key.words,g=this.cfg.iv,b=0;b<4;b++)y[b]=(y[b]<<8|y[b]>>>24)&16711935|(y[b]<<24|y[b]>>>8)&4278255360;var p=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],_=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var b=0;b<4;b++)m.call(this);for(var b=0;b<8;b++)_[b]^=p[b+4&7];if(g){var T=g.words,E=T[0],w=T[1],B=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,k=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,A=B>>>16|k&4294901760,$=k<<16|B&65535;_[0]^=B,_[1]^=A,_[2]^=k,_[3]^=$,_[4]^=B,_[5]^=A,_[6]^=k,_[7]^=$;for(var b=0;b<4;b++)m.call(this)}},_doProcessBlock:function(y,g){var b=this._X;m.call(this),s[0]=b[0]^b[5]>>>16^b[3]<<16,s[1]=b[2]^b[7]>>>16^b[5]<<16,s[2]=b[4]^b[1]>>>16^b[7]<<16,s[3]=b[6]^b[3]>>>16^b[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,y[g+p]^=s[p]},blockSize:128/32,ivSize:64/32});function m(){for(var y=this._X,g=this._C,b=0;b<8;b++)d[b]=g[b];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<d[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<d[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<d[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<d[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<d[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<d[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<d[6]>>>0?1:0)|0,this._b=g[7]>>>0<d[7]>>>0?1:0;for(var b=0;b<8;b++){var p=y[b]+g[b],_=p&65535,T=p>>>16,E=((_*_>>>17)+_*T>>>15)+T*T,w=((p&4294901760)*p|0)+((p&65535)*p|0);u[b]=E^w}y[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,y[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,y[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,y[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,y[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,y[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,y[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,y[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=a._createHelper(h)}(),t.Rabbit})})(rabbit);var rabbitLegacy={exports:{}};(function(r,e){(function(t,n,o){r.exports=n(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(t){return function(){var n=t,o=n.lib,a=o.StreamCipher,c=n.algo,s=[],d=[],u=[],h=c.RabbitLegacy=a.extend({_doReset:function(){var y=this._key.words,g=this.cfg.iv,b=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],p=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var _=0;_<4;_++)m.call(this);for(var _=0;_<8;_++)p[_]^=b[_+4&7];if(g){var T=g.words,E=T[0],w=T[1],B=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,k=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,A=B>>>16|k&4294901760,$=k<<16|B&65535;p[0]^=B,p[1]^=A,p[2]^=k,p[3]^=$,p[4]^=B,p[5]^=A,p[6]^=k,p[7]^=$;for(var _=0;_<4;_++)m.call(this)}},_doProcessBlock:function(y,g){var b=this._X;m.call(this),s[0]=b[0]^b[5]>>>16^b[3]<<16,s[1]=b[2]^b[7]>>>16^b[5]<<16,s[2]=b[4]^b[1]>>>16^b[7]<<16,s[3]=b[6]^b[3]>>>16^b[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,y[g+p]^=s[p]},blockSize:128/32,ivSize:64/32});function m(){for(var y=this._X,g=this._C,b=0;b<8;b++)d[b]=g[b];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<d[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<d[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<d[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<d[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<d[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<d[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<d[6]>>>0?1:0)|0,this._b=g[7]>>>0<d[7]>>>0?1:0;for(var b=0;b<8;b++){var p=y[b]+g[b],_=p&65535,T=p>>>16,E=((_*_>>>17)+_*T>>>15)+T*T,w=((p&4294901760)*p|0)+((p&65535)*p|0);u[b]=E^w}y[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,y[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,y[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,y[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,y[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,y[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,y[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,y[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=a._createHelper(h)}(),t.RabbitLegacy})})(rabbitLegacy);(function(r,e){(function(t,n,o){r.exports=n(core.exports,x64Core.exports,libTypedarrays.exports,encUtf16.exports,encBase64.exports,encBase64url.exports,md5.exports,sha1.exports,sha256.exports,sha224.exports,sha512.exports,sha384.exports,sha3.exports,ripemd160.exports,hmac.exports,pbkdf2.exports,evpkdf.exports,cipherCore.exports,modeCfb.exports,modeCtr.exports,modeCtrGladman.exports,modeOfb.exports,modeEcb.exports,padAnsix923.exports,padIso10126.exports,padIso97971.exports,padZeropadding.exports,padNopadding.exports,formatHex.exports,aes.exports,tripledes.exports,rc4.exports,rabbit.exports,rabbitLegacy.exports)})(commonjsGlobal,function(t){return t})})(cryptoJs);export{create_component as A,mount_component as B,destroy_component as C,createEventDispatcher as D,noop$2 as E,check_outros as F,destroy_each as G,group_outros as H,SvelteComponent as S,Web3Storage as W,create_slot as a,space as b,cryptoJs as c,attr as d,element as e,insert as f,append as g,stop_propagation as h,init as i,get_all_dirty_from_scope as j,get_slot_changes as k,listen as l,transition_in as m,transition_out as n,detach as o,onDestroy as p,binding_callbacks as q,run_all as r,safe_not_equal as s,toggle_class as t,update_slot_base as u,v4 as v,text as w,set_data as x,set_style as y,set_input_value as z};
